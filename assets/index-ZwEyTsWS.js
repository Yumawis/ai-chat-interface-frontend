function Z_(i,l){for(var t=0;t<l.length;t++){const e=l[t];if(typeof e!="string"&&!Array.isArray(e)){for(const n in e)if(n!=="default"&&!(n in i)){const r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function Q_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ah={exports:{}},gl={};var D0;function W_(){if(D0)return gl;D0=1;var i=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function t(e,n,r){var o=null;if(r!==void 0&&(o=""+r),n.key!==void 0&&(o=""+n.key),"key"in n){r={};for(var u in n)u!=="key"&&(r[u]=n[u])}else r=n;return n=r.ref,{$$typeof:i,type:e,key:o,ref:n!==void 0?n:null,props:r}}return gl.Fragment=l,gl.jsx=t,gl.jsxs=t,gl}var U0;function eE(){return U0||(U0=1,ah.exports=W_()),ah.exports}var Ei=eE(),ih={exports:{}},xe={};var z0;function tE(){if(z0)return xe;z0=1;var i=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function R(D,te,me){this.props=D,this.context=te,this.refs=A,this.updater=me||E}R.prototype.isReactComponent={},R.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function L(){}L.prototype=R.prototype;function K(D,te,me){this.props=D,this.context=te,this.refs=A,this.updater=me||E}var F=K.prototype=new L;F.constructor=K,S(F,R.prototype),F.isPureReactComponent=!0;var ne=Array.isArray;function J(){}var $={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function ye(D,te,me){var Se=me.ref;return{$$typeof:i,type:D,key:te,ref:Se!==void 0?Se:null,props:me}}function be(D,te){return ye(D.type,te,D.props)}function he(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(me){return te[me]})}var ue=/\/+/g;function ae(D,te){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):te.toString(36)}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(J,J):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function j(D,te,me,Se,Ne){var He=typeof D;(He==="undefined"||He==="boolean")&&(D=null);var at=!1;if(D===null)at=!0;else switch(He){case"bigint":case"string":case"number":at=!0;break;case"object":switch(D.$$typeof){case i:case l:at=!0;break;case p:return at=D._init,j(at(D._payload),te,me,Se,Ne)}}if(at)return Ne=Ne(D),at=Se===""?"."+ae(D,0):Se,ne(Ne)?(me="",at!=null&&(me=at.replace(ue,"$&/")+"/"),j(Ne,te,me,"",function(Cs){return Cs})):Ne!=null&&(he(Ne)&&(Ne=be(Ne,me+(Ne.key==null||D&&D.key===Ne.key?"":(""+Ne.key).replace(ue,"$&/")+"/")+at)),te.push(Ne)),1;at=0;var dn=Se===""?".":Se+":";if(ne(D))for(var Bt=0;Bt<D.length;Bt++)Se=D[Bt],He=dn+ae(Se,Bt),at+=j(Se,te,me,He,Ne);else if(Bt=b(D),typeof Bt=="function")for(D=Bt.call(D),Bt=0;!(Se=D.next()).done;)Se=Se.value,He=dn+ae(Se,Bt++),at+=j(Se,te,me,He,Ne);else if(He==="object"){if(typeof D.then=="function")return j(pe(D),te,me,Se,Ne);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return at}function re(D,te,me){if(D==null)return D;var Se=[],Ne=0;return j(D,Se,"","",function(He){return te.call(me,He,Ne++)}),Se}function Ee(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(me){(D._status===0||D._status===-1)&&(D._status=1,D._result=me)},function(me){(D._status===0||D._status===-1)&&(D._status=2,D._result=me)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var Xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},mt={map:re,forEach:function(D,te,me){re(D,function(){te.apply(this,arguments)},me)},count:function(D){var te=0;return re(D,function(){te++}),te},toArray:function(D){return re(D,function(te){return te})||[]},only:function(D){if(!he(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=g,xe.Children=mt,xe.Component=R,xe.Fragment=t,xe.Profiler=n,xe.PureComponent=K,xe.StrictMode=e,xe.Suspense=f,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return $.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,te,me){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Se=S({},D.props),Ne=D.key;if(te!=null)for(He in te.key!==void 0&&(Ne=""+te.key),te)!oe.call(te,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&te.ref===void 0||(Se[He]=te[He]);var He=arguments.length-2;if(He===1)Se.children=me;else if(1<He){for(var at=Array(He),dn=0;dn<He;dn++)at[dn]=arguments[dn+2];Se.children=at}return ye(D.type,Ne,Se)},xe.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:r,_context:D},D},xe.createElement=function(D,te,me){var Se,Ne={},He=null;if(te!=null)for(Se in te.key!==void 0&&(He=""+te.key),te)oe.call(te,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ne[Se]=te[Se]);var at=arguments.length-2;if(at===1)Ne.children=me;else if(1<at){for(var dn=Array(at),Bt=0;Bt<at;Bt++)dn[Bt]=arguments[Bt+2];Ne.children=dn}if(D&&D.defaultProps)for(Se in at=D.defaultProps,at)Ne[Se]===void 0&&(Ne[Se]=at[Se]);return ye(D,He,Ne)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:u,render:D}},xe.isValidElement=he,xe.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:Ee}},xe.memo=function(D,te){return{$$typeof:h,type:D,compare:te===void 0?null:te}},xe.startTransition=function(D){var te=$.T,me={};$.T=me;try{var Se=D(),Ne=$.S;Ne!==null&&Ne(me,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(J,Xe)}catch(He){Xe(He)}finally{te!==null&&me.types!==null&&(te.types=me.types),$.T=te}},xe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},xe.use=function(D){return $.H.use(D)},xe.useActionState=function(D,te,me){return $.H.useActionState(D,te,me)},xe.useCallback=function(D,te){return $.H.useCallback(D,te)},xe.useContext=function(D){return $.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,te){return $.H.useDeferredValue(D,te)},xe.useEffect=function(D,te){return $.H.useEffect(D,te)},xe.useEffectEvent=function(D){return $.H.useEffectEvent(D)},xe.useId=function(){return $.H.useId()},xe.useImperativeHandle=function(D,te,me){return $.H.useImperativeHandle(D,te,me)},xe.useInsertionEffect=function(D,te){return $.H.useInsertionEffect(D,te)},xe.useLayoutEffect=function(D,te){return $.H.useLayoutEffect(D,te)},xe.useMemo=function(D,te){return $.H.useMemo(D,te)},xe.useOptimistic=function(D,te){return $.H.useOptimistic(D,te)},xe.useReducer=function(D,te,me){return $.H.useReducer(D,te,me)},xe.useRef=function(D){return $.H.useRef(D)},xe.useState=function(D){return $.H.useState(D)},xe.useSyncExternalStore=function(D,te,me){return $.H.useSyncExternalStore(D,te,me)},xe.useTransition=function(){return $.H.useTransition()},xe.version="19.2.3",xe}var P0;function hc(){return P0||(P0=1,ih.exports=tE()),ih.exports}var Xt=hc();const nE=Q_(Xt),Ch=Z_({__proto__:null,default:nE},[Xt]);var rh={exports:{}},yl={},sh={exports:{}},lh={};var H0;function aE(){return H0||(H0=1,(function(i){function l(j,re){var Ee=j.length;j.push(re);e:for(;0<Ee;){var Xe=Ee-1>>>1,mt=j[Xe];if(0<n(mt,re))j[Xe]=re,j[Ee]=mt,Ee=Xe;else break e}}function t(j){return j.length===0?null:j[0]}function e(j){if(j.length===0)return null;var re=j[0],Ee=j.pop();if(Ee!==re){j[0]=Ee;e:for(var Xe=0,mt=j.length,D=mt>>>1;Xe<D;){var te=2*(Xe+1)-1,me=j[te],Se=te+1,Ne=j[Se];if(0>n(me,Ee))Se<mt&&0>n(Ne,me)?(j[Xe]=Ne,j[Se]=Ee,Xe=Se):(j[Xe]=me,j[te]=Ee,Xe=te);else if(Se<mt&&0>n(Ne,Ee))j[Xe]=Ne,j[Se]=Ee,Xe=Se;else break e}}return re}function n(j,re){var Ee=j.sortIndex-re.sortIndex;return Ee!==0?Ee:j.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();i.unstable_now=function(){return o.now()-u}}var f=[],h=[],p=1,g=null,y=3,b=!1,E=!1,S=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function F(j){for(var re=t(h);re!==null;){if(re.callback===null)e(h);else if(re.startTime<=j)e(h),re.sortIndex=re.expirationTime,l(f,re);else break;re=t(h)}}function ne(j){if(S=!1,F(j),!E)if(t(f)!==null)E=!0,J||(J=!0,M());else{var re=t(h);re!==null&&pe(ne,re.startTime-j)}}var J=!1,$=-1,oe=5,ye=-1;function be(){return A?!0:!(i.unstable_now()-ye<oe)}function he(){if(A=!1,J){var j=i.unstable_now();ye=j;var re=!0;try{e:{E=!1,S&&(S=!1,L($),$=-1),b=!0;var Ee=y;try{t:{for(F(j),g=t(f);g!==null&&!(g.expirationTime>j&&be());){var Xe=g.callback;if(typeof Xe=="function"){g.callback=null,y=g.priorityLevel;var mt=Xe(g.expirationTime<=j);if(j=i.unstable_now(),typeof mt=="function"){g.callback=mt,F(j),re=!0;break t}g===t(f)&&e(f),F(j)}else e(f);g=t(f)}if(g!==null)re=!0;else{var D=t(h);D!==null&&pe(ne,D.startTime-j),re=!1}}break e}finally{g=null,y=Ee,b=!1}re=void 0}}finally{re?M():J=!1}}}var M;if(typeof K=="function")M=function(){K(he)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ae=ue.port2;ue.port1.onmessage=he,M=function(){ae.postMessage(null)}}else M=function(){R(he,0)};function pe(j,re){$=R(function(){j(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(j){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var Ee=y;y=re;try{return j()}finally{y=Ee}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(j,re){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Ee=y;y=j;try{return re()}finally{y=Ee}},i.unstable_scheduleCallback=function(j,re,Ee){var Xe=i.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Xe+Ee:Xe):Ee=Xe,j){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=Ee+mt,j={id:p++,callback:re,priorityLevel:j,startTime:Ee,expirationTime:mt,sortIndex:-1},Ee>Xe?(j.sortIndex=Ee,l(h,j),t(f)===null&&j===t(h)&&(S?(L($),$=-1):S=!0,pe(ne,Ee-Xe))):(j.sortIndex=mt,l(f,j),E||b||(E=!0,J||(J=!0,M()))),j},i.unstable_shouldYield=be,i.unstable_wrapCallback=function(j){var re=y;return function(){var Ee=y;y=re;try{return j.apply(this,arguments)}finally{y=Ee}}}})(lh)),lh}var j0;function iE(){return j0||(j0=1,sh.exports=aE()),sh.exports}var oh={exports:{}},un={};var F0;function rE(){if(F0)return un;F0=1;var i=hc();function l(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var e={d:{f:t,r:function(){throw Error(l(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e,un.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(l(299));return r(f,h,null,p)},un.flushSync=function(f){var h=o.T,p=e.p;try{if(o.T=null,e.p=2,f)return f()}finally{o.T=h,e.p=p,e.d.f()}},un.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,e.d.C(f,h))},un.prefetchDNS=function(f){typeof f=="string"&&e.d.D(f)},un.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?e.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&e.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},un.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);e.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&e.d.M(f)},un.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);e.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},un.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);e.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else e.d.m(f)},un.requestFormReset=function(f){e.d.r(f)},un.unstable_batchedUpdates=function(f,h){return f(h)},un.useFormState=function(f,h,p){return o.H.useFormState(f,h,p)},un.useFormStatus=function(){return o.H.useHostTransitionStatus()},un.version="19.2.3",un}var q0;function sE(){if(q0)return oh.exports;q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(l){console.error(l)}}return i(),oh.exports=rE(),oh.exports}var G0;function lE(){if(G0)return yl;G0=1;var i=iE(),l=hc(),t=sE();function e(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function o(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(r(a)!==a)throw Error(e(188))}function h(a){var s=a.alternate;if(!s){if(s=r(a),s===null)throw Error(e(188));return s!==a?null:a}for(var c=a,d=s;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return f(m),a;if(v===d)return f(m),s;v=v.sibling}throw Error(e(188))}if(c.return!==d.return)c=m,d=v;else{for(var _=!1,T=m.child;T;){if(T===c){_=!0,c=m,d=v;break}if(T===d){_=!0,d=m,c=v;break}T=T.sibling}if(!_){for(T=v.child;T;){if(T===c){_=!0,c=v,d=m;break}if(T===d){_=!0,d=v,c=m;break}T=T.sibling}if(!_)throw Error(e(189))}}if(c.alternate!==d)throw Error(e(190))}if(c.tag!==3)throw Error(e(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),K=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=he&&a[he]||a["@@iterator"],typeof a=="function"?a:null)}var ue=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ue?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case ne:return"Suspense";case J:return"SuspenseList";case ye:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case K:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case F:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case $:return s=a.displayName||null,s!==null?s:ae(a.type)||"Memo";case oe:s=a._payload,a=a._init;try{return ae(a(s))}catch{}}return null}var pe=Array.isArray,j=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Xe=[],mt=-1;function D(a){return{current:a}}function te(a){0>mt||(a.current=Xe[mt],Xe[mt]=null,mt--)}function me(a,s){mt++,Xe[mt]=a.current,a.current=s}var Se=D(null),Ne=D(null),He=D(null),at=D(null);function dn(a,s){switch(me(He,s),me(Ne,a),me(Se,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?r0(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=r0(s),a=s0(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(Se),me(Se,a)}function Bt(){te(Se),te(Ne),te(He)}function Cs(a){a.memoizedState!==null&&me(at,a);var s=Se.current,c=s0(s,a.type);s!==c&&(me(Ne,a),me(Se,c))}function go(a){Ne.current===a&&(te(Se),te(Ne)),at.current===a&&(te(at),hl._currentValue=Ee)}var zc,Lm;function xi(a){if(zc===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);zc=s&&s[1]||"",Lm=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zc+a+Lm}var Pc=!1;function Hc(a,s){if(!a||Pc)return"";Pc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var V=Y}Reflect.construct(a,[],ee)}else{try{ee.call()}catch(Y){V=Y}a.call(ee.prototype)}}else{try{throw Error()}catch(Y){V=Y}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),_=v[0],T=v[1];if(_&&T){var x=_.split(`
`),G=T.split(`
`);for(m=d=0;d<x.length&&!x[d].includes("DetermineComponentFrameRoot");)d++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(d===x.length||m===G.length)for(d=x.length-1,m=G.length-1;1<=d&&0<=m&&x[d]!==G[m];)m--;for(;1<=d&&0<=m;d--,m--)if(x[d]!==G[m]){if(d!==1||m!==1)do if(d--,m--,0>m||x[d]!==G[m]){var Z=`
`+x[d].replace(" at new "," at ");return a.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",a.displayName)),Z}while(1<=d&&0<=m);break}}}finally{Pc=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?xi(c):""}function MS(a,s){switch(a.tag){case 26:case 27:case 5:return xi(a.type);case 16:return xi("Lazy");case 13:return a.child!==s&&s!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Hc(a.type,!1);case 11:return Hc(a.type.render,!1);case 1:return Hc(a.type,!0);case 31:return xi("Activity");default:return""}}function Dm(a){try{var s="",c=null;do s+=MS(a,c),c=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var jc=Object.prototype.hasOwnProperty,Fc=i.unstable_scheduleCallback,qc=i.unstable_cancelCallback,RS=i.unstable_shouldYield,OS=i.unstable_requestPaint,Rn=i.unstable_now,xS=i.unstable_getCurrentPriorityLevel,Um=i.unstable_ImmediatePriority,zm=i.unstable_UserBlockingPriority,yo=i.unstable_NormalPriority,BS=i.unstable_LowPriority,Pm=i.unstable_IdlePriority,NS=i.log,IS=i.unstable_setDisableYieldValue,ws=null,On=null;function Za(a){if(typeof NS=="function"&&IS(a),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(ws,a)}catch{}}var xn=Math.clz32?Math.clz32:US,LS=Math.log,DS=Math.LN2;function US(a){return a>>>=0,a===0?32:31-(LS(a)/DS|0)|0}var bo=256,So=262144,_o=4194304;function Bi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Eo(a,s,c){var d=a.pendingLanes;if(d===0)return 0;var m=0,v=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var T=d&134217727;return T!==0?(d=T&~v,d!==0?m=Bi(d):(_&=T,_!==0?m=Bi(_):c||(c=T&~a,c!==0&&(m=Bi(c))))):(T=d&~v,T!==0?m=Bi(T):_!==0?m=Bi(_):c||(c=d&~a,c!==0&&(m=Bi(c)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,c=s&-s,v>=c||v===32&&(c&4194048)!==0)?s:m}function Ts(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function zS(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(){var a=_o;return _o<<=1,(_o&62914560)===0&&(_o=4194304),a}function Gc(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function As(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function PS(a,s,c,d,m,v){var _=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var T=a.entanglements,x=a.expirationTimes,G=a.hiddenUpdates;for(c=_&~c;0<c;){var Z=31-xn(c),ee=1<<Z;T[Z]=0,x[Z]=-1;var V=G[Z];if(V!==null)for(G[Z]=null,Z=0;Z<V.length;Z++){var Y=V[Z];Y!==null&&(Y.lane&=-536870913)}c&=~ee}d!==0&&jm(a,d,0),v!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=v&~(_&~s))}function jm(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-xn(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|c&261930}function Fm(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var d=31-xn(c),m=1<<d;m&s|a[d]&s&&(a[d]|=s),c&=~m}}function qm(a,s){var c=s&-s;return c=(c&42)!==0?1:Vc(c),(c&(a.suspendedLanes|s))!==0?0:c}function Vc(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Kc(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Gm(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:R0(a.type))}function Vm(a,s){var c=re.p;try{return re.p=a,s()}finally{re.p=c}}var Qa=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Qa,yn="__reactProps$"+Qa,gr="__reactContainer$"+Qa,Jc="__reactEvents$"+Qa,HS="__reactListeners$"+Qa,jS="__reactHandles$"+Qa,Km="__reactResources$"+Qa,Ms="__reactMarker$"+Qa;function Yc(a){delete a[Wt],delete a[yn],delete a[Jc],delete a[HS],delete a[jS]}function yr(a){var s=a[Wt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[gr]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=h0(a);a!==null;){if(c=a[Wt])return c;a=h0(a)}return s}a=c,c=a.parentNode}return null}function br(a){if(a=a[Wt]||a[gr]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Rs(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(e(33))}function Sr(a){var s=a[Km];return s||(s=a[Km]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(a){a[Ms]=!0}var Jm=new Set,Ym={};function Ni(a,s){_r(a,s),_r(a+"Capture",s)}function _r(a,s){for(Ym[a]=s,a=0;a<s.length;a++)Jm.add(s[a])}var FS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xm={},$m={};function qS(a){return jc.call($m,a)?!0:jc.call(Xm,a)?!1:FS.test(a)?$m[a]=!0:(Xm[a]=!0,!1)}function ko(a,s,c){if(qS(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Co(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function wa(a,s,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+d)}}function Vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zm(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function GS(a,s,c){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,v=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(_){c=""+_,v.call(this,_)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Xc(a){if(!a._valueTracker){var s=Zm(a)?"checked":"value";a._valueTracker=GS(a,s,""+a[s])}}function Qm(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return a&&(d=Zm(a)?a.checked?"true":"false":a.value),a=d,a!==c?(s.setValue(a),!0):!1}function wo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var VS=/[\n"\\]/g;function Kn(a){return a.replace(VS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $c(a,s,c,d,m,v,_,T){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),s!=null?_==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Vn(s)):a.value!==""+Vn(s)&&(a.value=""+Vn(s)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),s!=null?Zc(a,_,Vn(s)):c!=null?Zc(a,_,Vn(c)):d!=null&&a.removeAttribute("value"),m==null&&v!=null&&(a.defaultChecked=!!v),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+Vn(T):a.removeAttribute("name")}function Wm(a,s,c,d,m,v,_,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),s!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){Xc(a);return}c=c!=null?""+Vn(c):"",s=s!=null?""+Vn(s):c,T||s===a.value||(a.value=s),a.defaultValue=s}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=T?a.checked:!!d,a.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),Xc(a)}function Zc(a,s,c){s==="number"&&wo(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Er(a,s,c,d){if(a=a.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=s.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&d&&(a[c].defaultSelected=!0)}else{for(c=""+Vn(c),s=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,d&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function ep(a,s,c){if(s!=null&&(s=""+Vn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Vn(c):""}function tp(a,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(e(92));if(pe(d)){if(1<d.length)throw Error(e(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=Vn(s),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d),Xc(a)}function kr(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var KS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function np(a,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,c):typeof c!="number"||c===0||KS.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function ap(a,s,c){if(s!=null&&typeof s!="object")throw Error(e(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var m in s)d=s[m],s.hasOwnProperty(m)&&c[m]!==d&&np(a,m,d)}else for(var v in s)s.hasOwnProperty(v)&&np(a,v,s[v])}function Qc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(a){return YS.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ta(){}var Wc=null;function ef(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cr=null,wr=null;function ip(a){var s=br(a);if(s&&(a=s.stateNode)){var c=a[yn]||null;e:switch(a=s.stateNode,s.type){case"input":if($c(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Kn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==a&&d.form===a.form){var m=d[yn]||null;if(!m)throw Error(e(90));$c(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===a.form&&Qm(d)}break e;case"textarea":ep(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Er(a,!!c.multiple,s,!1)}}}var tf=!1;function rp(a,s,c){if(tf)return a(s,c);tf=!0;try{var d=a(s);return d}finally{if(tf=!1,(Cr!==null||wr!==null)&&(hu(),Cr&&(s=Cr,a=wr,wr=Cr=null,ip(s),a)))for(s=0;s<a.length;s++)ip(a[s])}}function Os(a,s){var c=a.stateNode;if(c===null)return null;var d=c[yn]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(e(231,s,typeof c));return c}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(Aa)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){nf=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{nf=!1}var Wa=null,af=null,Ao=null;function sp(){if(Ao)return Ao;var a,s=af,c=s.length,d,m="value"in Wa?Wa.value:Wa.textContent,v=m.length;for(a=0;a<c&&s[a]===m[a];a++);var _=c-a;for(d=1;d<=_&&s[c-d]===m[v-d];d++);return Ao=m.slice(a,1<d?1-d:void 0)}function Mo(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ro(){return!0}function lp(){return!1}function bn(a){function s(c,d,m,v,_){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(c=a[T],this[T]=c?c(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ro:lp,this.isPropagationStopped=lp,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=bn(Ii),Bs=g({},Ii,{view:0,detail:0}),XS=bn(Bs),rf,sf,Ns,xo=g({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ns&&(Ns&&a.type==="mousemove"?(rf=a.screenX-Ns.screenX,sf=a.screenY-Ns.screenY):sf=rf=0,Ns=a),rf)},movementY:function(a){return"movementY"in a?a.movementY:sf}}),op=bn(xo),$S=g({},xo,{dataTransfer:0}),ZS=bn($S),QS=g({},Bs,{relatedTarget:0}),lf=bn(QS),WS=g({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),e2=bn(WS),t2=g({},Ii,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),n2=bn(t2),a2=g({},Ii,{data:0}),up=bn(a2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l2(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=s2[a])?!!s[a]:!1}function of(){return l2}var o2=g({},Bs,{key:function(a){if(a.key){var s=i2[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Mo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?r2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(a){return a.type==="keypress"?Mo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),u2=bn(o2),c2=g({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=bn(c2),f2=g({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),d2=bn(f2),h2=g({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),m2=bn(h2),p2=g({},xo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),v2=bn(p2),g2=g({},Ii,{newState:0,oldState:0}),y2=bn(g2),b2=[9,13,27,32],uf=Aa&&"CompositionEvent"in window,Is=null;Aa&&"documentMode"in document&&(Is=document.documentMode);var S2=Aa&&"TextEvent"in window&&!Is,fp=Aa&&(!uf||Is&&8<Is&&11>=Is),dp=" ",hp=!1;function mp(a,s){switch(a){case"keyup":return b2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Tr=!1;function _2(a,s){switch(a){case"compositionend":return pp(s);case"keypress":return s.which!==32?null:(hp=!0,dp);case"textInput":return a=s.data,a===dp&&hp?null:a;default:return null}}function E2(a,s){if(Tr)return a==="compositionend"||!uf&&mp(a,s)?(a=sp(),Ao=af=Wa=null,Tr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fp&&s.locale!=="ko"?null:s.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!k2[a.type]:s==="textarea"}function gp(a,s,c,d){Cr?wr?wr.push(d):wr=[d]:Cr=d,s=Su(s,"onChange"),0<s.length&&(c=new Oo("onChange","change",null,c,d),a.push({event:c,listeners:s}))}var Ls=null,Ds=null;function C2(a){Wg(a,0)}function Bo(a){var s=Rs(a);if(Qm(s))return a}function yp(a,s){if(a==="change")return s}var bp=!1;if(Aa){var cf;if(Aa){var ff="oninput"in document;if(!ff){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),ff=typeof Sp.oninput=="function"}cf=ff}else cf=!1;bp=cf&&(!document.documentMode||9<document.documentMode)}function _p(){Ls&&(Ls.detachEvent("onpropertychange",Ep),Ds=Ls=null)}function Ep(a){if(a.propertyName==="value"&&Bo(Ds)){var s=[];gp(s,Ds,a,ef(a)),rp(C2,s)}}function w2(a,s,c){a==="focusin"?(_p(),Ls=s,Ds=c,Ls.attachEvent("onpropertychange",Ep)):a==="focusout"&&_p()}function T2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bo(Ds)}function A2(a,s){if(a==="click")return Bo(s)}function M2(a,s){if(a==="input"||a==="change")return Bo(s)}function R2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Bn=typeof Object.is=="function"?Object.is:R2;function Us(a,s){if(Bn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!jc.call(s,m)||!Bn(a[m],s[m]))return!1}return!0}function kp(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Cp(a,s){var c=kp(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=s&&d>=s)return{node:c,offset:s-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=kp(c)}}function wp(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?wp(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Tp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=wo(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=wo(a.document)}return s}function df(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var O2=Aa&&"documentMode"in document&&11>=document.documentMode,Ar=null,hf=null,zs=null,mf=!1;function Ap(a,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mf||Ar==null||Ar!==wo(d)||(d=Ar,"selectionStart"in d&&df(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),zs&&Us(zs,d)||(zs=d,d=Su(hf,"onSelect"),0<d.length&&(s=new Oo("onSelect","select",null,s,c),a.push({event:s,listeners:d}),s.target=Ar)))}function Li(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Mr={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},pf={},Mp={};Aa&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Di(a){if(pf[a])return pf[a];if(!Mr[a])return a;var s=Mr[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Mp)return pf[a]=s[c];return a}var Rp=Di("animationend"),Op=Di("animationiteration"),xp=Di("animationstart"),x2=Di("transitionrun"),B2=Di("transitionstart"),N2=Di("transitioncancel"),Bp=Di("transitionend"),Np=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function oa(a,s){Np.set(a,s),Ni(s,[a])}var No=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Jn=[],Rr=0,gf=0;function Io(){for(var a=Rr,s=gf=Rr=0;s<a;){var c=Jn[s];Jn[s++]=null;var d=Jn[s];Jn[s++]=null;var m=Jn[s];Jn[s++]=null;var v=Jn[s];if(Jn[s++]=null,d!==null&&m!==null){var _=d.pending;_===null?m.next=m:(m.next=_.next,_.next=m),d.pending=m}v!==0&&Ip(c,m,v)}}function Lo(a,s,c,d){Jn[Rr++]=a,Jn[Rr++]=s,Jn[Rr++]=c,Jn[Rr++]=d,gf|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function yf(a,s,c,d){return Lo(a,s,c,d),Do(a)}function Ui(a,s){return Lo(a,null,null,s),Do(a)}function Ip(a,s,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var m=!1,v=a.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(m=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,m&&s!==null&&(m=31-xn(c),a=v.hiddenUpdates,d=a[m],d===null?a[m]=[s]:d.push(s),s.lane=c|536870912),v):null}function Do(a){if(50<sl)throw sl=0,Ad=null,Error(e(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Or={};function I2(a,s,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(a,s,c,d){return new I2(a,s,c,d)}function bf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ma(a,s){var c=a.alternate;return c===null?(c=Nn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Lp(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Uo(a,s,c,d,m,v){var _=0;if(d=a,typeof a=="function")bf(a)&&(_=1);else if(typeof a=="string")_=P_(a,c,Se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case ye:return a=Nn(31,c,s,m),a.elementType=ye,a.lanes=v,a;case S:return zi(c.children,m,v,s);case A:_=8,m|=24;break;case R:return a=Nn(12,c,s,m|2),a.elementType=R,a.lanes=v,a;case ne:return a=Nn(13,c,s,m),a.elementType=ne,a.lanes=v,a;case J:return a=Nn(19,c,s,m),a.elementType=J,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case K:_=10;break e;case L:_=9;break e;case F:_=11;break e;case $:_=14;break e;case oe:_=16,d=null;break e}_=29,c=Error(e(130,a===null?"null":typeof a,"")),d=null}return s=Nn(_,c,s,m),s.elementType=a,s.type=d,s.lanes=v,s}function zi(a,s,c,d){return a=Nn(7,a,d,s),a.lanes=c,a}function Sf(a,s,c){return a=Nn(6,a,null,s),a.lanes=c,a}function Dp(a){var s=Nn(18,null,null,0);return s.stateNode=a,s}function _f(a,s,c){return s=Nn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Up=new WeakMap;function Yn(a,s){if(typeof a=="object"&&a!==null){var c=Up.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Dm(s)},Up.set(a,s),s)}return{value:a,source:s,stack:Dm(s)}}var xr=[],Br=0,zo=null,Ps=0,Xn=[],$n=0,ei=null,fa=1,da="";function Ra(a,s){xr[Br++]=Ps,xr[Br++]=zo,zo=a,Ps=s}function zp(a,s,c){Xn[$n++]=fa,Xn[$n++]=da,Xn[$n++]=ei,ei=a;var d=fa;a=da;var m=32-xn(d)-1;d&=~(1<<m),c+=1;var v=32-xn(s)+m;if(30<v){var _=m-m%5;v=(d&(1<<_)-1).toString(32),d>>=_,m-=_,fa=1<<32-xn(s)+m|c<<m|d,da=v+a}else fa=1<<v|c<<m|d,da=a}function Ef(a){a.return!==null&&(Ra(a,1),zp(a,1,0))}function kf(a){for(;a===zo;)zo=xr[--Br],xr[Br]=null,Ps=xr[--Br],xr[Br]=null;for(;a===ei;)ei=Xn[--$n],Xn[$n]=null,da=Xn[--$n],Xn[$n]=null,fa=Xn[--$n],Xn[$n]=null}function Pp(a,s){Xn[$n++]=fa,Xn[$n++]=da,Xn[$n++]=ei,fa=s.id,da=s.overflow,ei=a}var en=null,gt=null,Je=!1,ti=null,Zn=!1,Cf=Error(e(519));function ni(a){var s=Error(e(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hs(Yn(s,a)),Cf}function Hp(a){var s=a.stateNode,c=a.type,d=a.memoizedProps;switch(s[Wt]=a,s[yn]=d,c){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(c=0;c<ol.length;c++)Fe(ol[c],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Wm(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),tp(s,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||a0(s.textContent,c)?(d.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),d.onScroll!=null&&Fe("scroll",s),d.onScrollEnd!=null&&Fe("scrollend",s),d.onClick!=null&&(s.onclick=Ta),s=!0):s=!1,s||ni(a,!0)}function jp(a){for(en=a.return;en;)switch(en.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:en=en.return}}function Nr(a){if(a!==en)return!1;if(!Je)return jp(a),Je=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Fd(a.type,a.memoizedProps)),c=!c),c&&gt&&ni(a),jp(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(e(317));gt=d0(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(e(317));gt=d0(a)}else s===27?(s=gt,vi(a.type)?(a=Jd,Jd=null,gt=a):gt=s):gt=en?Wn(a.stateNode.nextSibling):null;return!0}function Pi(){gt=en=null,Je=!1}function wf(){var a=ti;return a!==null&&(kn===null?kn=a:kn.push.apply(kn,a),ti=null),a}function Hs(a){ti===null?ti=[a]:ti.push(a)}var Tf=D(null),Hi=null,Oa=null;function ai(a,s,c){me(Tf,s._currentValue),s._currentValue=c}function xa(a){a._currentValue=Tf.current,te(Tf)}function Af(a,s,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===c)break;a=a.return}}function Mf(a,s,c,d){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var v=m.dependencies;if(v!==null){var _=m.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=m;for(var x=0;x<s.length;x++)if(T.context===s[x]){v.lanes|=c,T=v.alternate,T!==null&&(T.lanes|=c),Af(v.return,c,a),d||(_=null);break e}v=T.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(e(341));_.lanes|=c,v=_.alternate,v!==null&&(v.lanes|=c),Af(_,c,a),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===a){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Ir(a,s,c,d){a=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(e(387));if(_=_.memoizedProps,_!==null){var T=m.type;Bn(m.pendingProps.value,_.value)||(a!==null?a.push(T):a=[T])}}else if(m===at.current){if(_=m.alternate,_===null)throw Error(e(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(hl):a=[hl])}m=m.return}a!==null&&Mf(s,a,c,d),s.flags|=262144}function Po(a){for(a=a.firstContext;a!==null;){if(!Bn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ji(a){Hi=a,Oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function tn(a){return Fp(Hi,a)}function Ho(a,s){return Hi===null&&ji(a),Fp(a,s)}function Fp(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Oa===null){if(a===null)throw Error(e(308));Oa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Oa=Oa.next=s;return c}var L2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},D2=i.unstable_scheduleCallback,U2=i.unstable_NormalPriority,zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new L2,data:new Map,refCount:0}}function js(a){a.refCount--,a.refCount===0&&D2(U2,function(){a.controller.abort()})}var Fs=null,Of=0,Lr=0,Dr=null;function z2(a,s){if(Fs===null){var c=Fs=[];Of=0,Lr=Nd(),Dr={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Of++,s.then(qp,qp),s}function qp(){if(--Of===0&&Fs!==null){Dr!==null&&(Dr.status="fulfilled");var a=Fs;Fs=null,Lr=0,Dr=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function P2(a,s){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var Gp=j.S;j.S=function(a,s){Ag=Rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&z2(a,s),Gp!==null&&Gp(a,s)};var Fi=D(null);function xf(){var a=Fi.current;return a!==null?a:pt.pooledCache}function jo(a,s){s===null?me(Fi,Fi.current):me(Fi,s.pool)}function Vp(){var a=xf();return a===null?null:{parent:zt._currentValue,pool:a}}var Ur=Error(e(460)),Bf=Error(e(474)),Fo=Error(e(542)),qo={then:function(){}};function Kp(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Jp(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Ta,Ta),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Xp(a),a;default:if(typeof s.status=="string")s.then(Ta,Ta);else{if(a=pt,a!==null&&100<a.shellSuspendCounter)throw Error(e(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=d}},function(d){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Xp(a),a}throw Gi=s,Ur}}function qi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Gi=c,Ur):c}}var Gi=null;function Yp(){if(Gi===null)throw Error(e(459));var a=Gi;return Gi=null,a}function Xp(a){if(a===Ur||a===Fo)throw Error(e(483))}var zr=null,qs=0;function Go(a){var s=qs;return qs+=1,zr===null&&(zr=[]),Jp(zr,a,s)}function Gs(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Vo(a,s){throw s.$$typeof===y?Error(e(525)):(a=Object.prototype.toString.call(s),Error(e(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function $p(a){function s(U,N){if(a){var q=U.deletions;q===null?(U.deletions=[N],U.flags|=16):q.push(N)}}function c(U,N){if(!a)return null;for(;N!==null;)s(U,N),N=N.sibling;return null}function d(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function m(U,N){return U=Ma(U,N),U.index=0,U.sibling=null,U}function v(U,N,q){return U.index=q,a?(q=U.alternate,q!==null?(q=q.index,q<N?(U.flags|=67108866,N):q):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function _(U){return a&&U.alternate===null&&(U.flags|=67108866),U}function T(U,N,q,W){return N===null||N.tag!==6?(N=Sf(q,U.mode,W),N.return=U,N):(N=m(N,q),N.return=U,N)}function x(U,N,q,W){var Ce=q.type;return Ce===S?Z(U,N,q.props.children,W,q.key):N!==null&&(N.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===oe&&qi(Ce)===N.type)?(N=m(N,q.props),Gs(N,q),N.return=U,N):(N=Uo(q.type,q.key,q.props,null,U.mode,W),Gs(N,q),N.return=U,N)}function G(U,N,q,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==q.containerInfo||N.stateNode.implementation!==q.implementation?(N=_f(q,U.mode,W),N.return=U,N):(N=m(N,q.children||[]),N.return=U,N)}function Z(U,N,q,W,Ce){return N===null||N.tag!==7?(N=zi(q,U.mode,W,Ce),N.return=U,N):(N=m(N,q),N.return=U,N)}function ee(U,N,q){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Sf(""+N,U.mode,q),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return q=Uo(N.type,N.key,N.props,null,U.mode,q),Gs(q,N),q.return=U,q;case E:return N=_f(N,U.mode,q),N.return=U,N;case oe:return N=qi(N),ee(U,N,q)}if(pe(N)||M(N))return N=zi(N,U.mode,q,null),N.return=U,N;if(typeof N.then=="function")return ee(U,Go(N),q);if(N.$$typeof===K)return ee(U,Ho(U,N),q);Vo(U,N)}return null}function V(U,N,q,W){var Ce=N!==null?N.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ce!==null?null:T(U,N,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===Ce?x(U,N,q,W):null;case E:return q.key===Ce?G(U,N,q,W):null;case oe:return q=qi(q),V(U,N,q,W)}if(pe(q)||M(q))return Ce!==null?null:Z(U,N,q,W,null);if(typeof q.then=="function")return V(U,N,Go(q),W);if(q.$$typeof===K)return V(U,N,Ho(U,q),W);Vo(U,q)}return null}function Y(U,N,q,W,Ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(q)||null,T(N,U,""+W,Ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return U=U.get(W.key===null?q:W.key)||null,x(N,U,W,Ce);case E:return U=U.get(W.key===null?q:W.key)||null,G(N,U,W,Ce);case oe:return W=qi(W),Y(U,N,q,W,Ce)}if(pe(W)||M(W))return U=U.get(q)||null,Z(N,U,W,Ce,null);if(typeof W.then=="function")return Y(U,N,q,Go(W),Ce);if(W.$$typeof===K)return Y(U,N,q,Ho(N,W),Ce);Vo(N,W)}return null}function ve(U,N,q,W){for(var Ce=null,$e=null,_e=N,Le=N=0,Ve=null;_e!==null&&Le<q.length;Le++){_e.index>Le?(Ve=_e,_e=null):Ve=_e.sibling;var Ze=V(U,_e,q[Le],W);if(Ze===null){_e===null&&(_e=Ve);break}a&&_e&&Ze.alternate===null&&s(U,_e),N=v(Ze,N,Le),$e===null?Ce=Ze:$e.sibling=Ze,$e=Ze,_e=Ve}if(Le===q.length)return c(U,_e),Je&&Ra(U,Le),Ce;if(_e===null){for(;Le<q.length;Le++)_e=ee(U,q[Le],W),_e!==null&&(N=v(_e,N,Le),$e===null?Ce=_e:$e.sibling=_e,$e=_e);return Je&&Ra(U,Le),Ce}for(_e=d(_e);Le<q.length;Le++)Ve=Y(_e,U,Le,q[Le],W),Ve!==null&&(a&&Ve.alternate!==null&&_e.delete(Ve.key===null?Le:Ve.key),N=v(Ve,N,Le),$e===null?Ce=Ve:$e.sibling=Ve,$e=Ve);return a&&_e.forEach(function(_i){return s(U,_i)}),Je&&Ra(U,Le),Ce}function Te(U,N,q,W){if(q==null)throw Error(e(151));for(var Ce=null,$e=null,_e=N,Le=N=0,Ve=null,Ze=q.next();_e!==null&&!Ze.done;Le++,Ze=q.next()){_e.index>Le?(Ve=_e,_e=null):Ve=_e.sibling;var _i=V(U,_e,Ze.value,W);if(_i===null){_e===null&&(_e=Ve);break}a&&_e&&_i.alternate===null&&s(U,_e),N=v(_i,N,Le),$e===null?Ce=_i:$e.sibling=_i,$e=_i,_e=Ve}if(Ze.done)return c(U,_e),Je&&Ra(U,Le),Ce;if(_e===null){for(;!Ze.done;Le++,Ze=q.next())Ze=ee(U,Ze.value,W),Ze!==null&&(N=v(Ze,N,Le),$e===null?Ce=Ze:$e.sibling=Ze,$e=Ze);return Je&&Ra(U,Le),Ce}for(_e=d(_e);!Ze.done;Le++,Ze=q.next())Ze=Y(_e,U,Le,Ze.value,W),Ze!==null&&(a&&Ze.alternate!==null&&_e.delete(Ze.key===null?Le:Ze.key),N=v(Ze,N,Le),$e===null?Ce=Ze:$e.sibling=Ze,$e=Ze);return a&&_e.forEach(function($_){return s(U,$_)}),Je&&Ra(U,Le),Ce}function ft(U,N,q,W){if(typeof q=="object"&&q!==null&&q.type===S&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var Ce=q.key;N!==null;){if(N.key===Ce){if(Ce=q.type,Ce===S){if(N.tag===7){c(U,N.sibling),W=m(N,q.props.children),W.return=U,U=W;break e}}else if(N.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===oe&&qi(Ce)===N.type){c(U,N.sibling),W=m(N,q.props),Gs(W,q),W.return=U,U=W;break e}c(U,N);break}else s(U,N);N=N.sibling}q.type===S?(W=zi(q.props.children,U.mode,W,q.key),W.return=U,U=W):(W=Uo(q.type,q.key,q.props,null,U.mode,W),Gs(W,q),W.return=U,U=W)}return _(U);case E:e:{for(Ce=q.key;N!==null;){if(N.key===Ce)if(N.tag===4&&N.stateNode.containerInfo===q.containerInfo&&N.stateNode.implementation===q.implementation){c(U,N.sibling),W=m(N,q.children||[]),W.return=U,U=W;break e}else{c(U,N);break}else s(U,N);N=N.sibling}W=_f(q,U.mode,W),W.return=U,U=W}return _(U);case oe:return q=qi(q),ft(U,N,q,W)}if(pe(q))return ve(U,N,q,W);if(M(q)){if(Ce=M(q),typeof Ce!="function")throw Error(e(150));return q=Ce.call(q),Te(U,N,q,W)}if(typeof q.then=="function")return ft(U,N,Go(q),W);if(q.$$typeof===K)return ft(U,N,Ho(U,q),W);Vo(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,N!==null&&N.tag===6?(c(U,N.sibling),W=m(N,q),W.return=U,U=W):(c(U,N),W=Sf(q,U.mode,W),W.return=U,U=W),_(U)):c(U,N)}return function(U,N,q,W){try{qs=0;var Ce=ft(U,N,q,W);return zr=null,Ce}catch(_e){if(_e===Ur||_e===Fo)throw _e;var $e=Nn(29,_e,null,U.mode);return $e.lanes=W,$e.return=U,$e}}}var Vi=$p(!0),Zp=$p(!1),ii=!1;function Nf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ri(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function si(a,s,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,s=Do(a),Ip(a,null,c),s}return Lo(a,d,s,c),Do(a)}function Vs(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,Fm(a,c)}}function Lf(a,s){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var _={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?m=v=_:v=v.next=_,c=c.next}while(c!==null);v===null?m=v=s:v=v.next=s}else m=v=s;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Df=!1;function Ks(){if(Df){var a=Dr;if(a!==null)throw a}}function Js(a,s,c,d){Df=!1;var m=a.updateQueue;ii=!1;var v=m.firstBaseUpdate,_=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var x=T,G=x.next;x.next=null,_===null?v=G:_.next=G,_=x;var Z=a.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=G:T.next=G,Z.lastBaseUpdate=x))}if(v!==null){var ee=m.baseState;_=0,Z=G=x=null,T=v;do{var V=T.lane&-536870913,Y=V!==T.lane;if(Y?(Ge&V)===V:(d&V)===V){V!==0&&V===Lr&&(Df=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ve=a,Te=T;V=s;var ft=c;switch(Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){ee=ve.call(ft,ee,V);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,V=typeof ve=="function"?ve.call(ft,ee,V):ve,V==null)break e;ee=g({},ee,V);break e;case 2:ii=!0}}V=T.callback,V!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(G=Z=Y,x=ee):Z=Z.next=Y,_|=V;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);Z===null&&(x=ee),m.baseState=x,m.firstBaseUpdate=G,m.lastBaseUpdate=Z,v===null&&(m.shared.lanes=0),fi|=_,a.lanes=_,a.memoizedState=ee}}function Qp(a,s){if(typeof a!="function")throw Error(e(191,a));a.call(s)}function Wp(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Qp(c[a],s)}var Pr=D(null),Ko=D(0);function ev(a,s){a=Ha,me(Ko,a),me(Pr,s),Ha=a|s.baseLanes}function Uf(){me(Ko,Ha),me(Pr,Pr.current)}function zf(){Ha=Ko.current,te(Pr),te(Ko)}var In=D(null),Qn=null;function li(a){var s=a.alternate;me(Nt,Nt.current&1),me(In,a),Qn===null&&(s===null||Pr.current!==null||s.memoizedState!==null)&&(Qn=a)}function Pf(a){me(Nt,Nt.current),me(In,a),Qn===null&&(Qn=a)}function tv(a){a.tag===22?(me(Nt,Nt.current),me(In,a),Qn===null&&(Qn=a)):oi()}function oi(){me(Nt,Nt.current),me(In,In.current)}function Ln(a){te(In),Qn===a&&(Qn=null),te(Nt)}var Nt=D(0);function Jo(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Vd(c)||Kd(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ba=0,Ie=null,ut=null,Pt=null,Yo=!1,Hr=!1,Ki=!1,Xo=0,Ys=0,jr=null,H2=0;function wt(){throw Error(e(321))}function Hf(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Bn(a[c],s[c]))return!1;return!0}function jf(a,s,c,d,m,v){return Ba=v,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=a===null||a.memoizedState===null?zv:nd,Ki=!1,v=c(d,m),Ki=!1,Hr&&(v=av(s,c,d,m)),nv(a),v}function nv(a){j.H=Zs;var s=ut!==null&&ut.next!==null;if(Ba=0,Pt=ut=Ie=null,Yo=!1,Ys=0,jr=null,s)throw Error(e(300));a===null||Ht||(a=a.dependencies,a!==null&&Po(a)&&(Ht=!0))}function av(a,s,c,d){Ie=a;var m=0;do{if(Hr&&(jr=null),Ys=0,Hr=!1,25<=m)throw Error(e(301));if(m+=1,Pt=ut=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}j.H=Pv,v=s(c,d)}while(Hr);return v}function j2(){var a=j.H,s=a.useState()[0];return s=typeof s.then=="function"?Xs(s):s,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&(Ie.flags|=1024),s}function Ff(){var a=Xo!==0;return Xo=0,a}function qf(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Gf(a){if(Yo){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Yo=!1}Ba=0,Pt=ut=Ie=null,Hr=!1,Ys=Xo=0,jr=null}function hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ie.memoizedState=Pt=a:Pt=Pt.next=a,Pt}function It(){if(ut===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var s=Pt===null?Ie.memoizedState:Pt.next;if(s!==null)Pt=s,ut=a;else{if(a===null)throw Ie.alternate===null?Error(e(467)):Error(e(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?Ie.memoizedState=Pt=a:Pt=Pt.next=a}return Pt}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(a){var s=Ys;return Ys+=1,jr===null&&(jr=[]),a=Jp(jr,a,s),s=Ie,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?zv:nd),a}function Zo(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xs(a);if(a.$$typeof===K)return tn(a)}throw Error(e(438,String(a)))}function Vf(a){var s=null,c=Ie.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Ie.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=$o(),Ie.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),d=0;d<a;d++)c[d]=be;return s.index++,c}function Na(a,s){return typeof s=="function"?s(a):s}function Qo(a){var s=It();return Kf(s,ut,a)}function Kf(a,s,c){var d=a.queue;if(d===null)throw Error(e(311));d.lastRenderedReducer=c;var m=a.baseQueue,v=d.pending;if(v!==null){if(m!==null){var _=m.next;m.next=v.next,v.next=_}s.baseQueue=m=v,d.pending=null}if(v=a.baseState,m===null)a.memoizedState=v;else{s=m.next;var T=_=null,x=null,G=s,Z=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ge&ee)===ee:(Ba&ee)===ee){var V=G.revertLane;if(V===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Lr&&(Z=!0);else if((Ba&V)===V){G=G.next,V===Lr&&(Z=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(T=x=ee,_=v):x=x.next=ee,Ie.lanes|=V,fi|=V;ee=G.action,Ki&&c(v,ee),v=G.hasEagerState?G.eagerState:c(v,ee)}else V={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(T=x=V,_=v):x=x.next=V,Ie.lanes|=ee,fi|=ee;G=G.next}while(G!==null&&G!==s);if(x===null?_=v:x.next=T,!Bn(v,a.memoizedState)&&(Ht=!0,Z&&(c=Dr,c!==null)))throw c;a.memoizedState=v,a.baseState=_,a.baseQueue=x,d.lastRenderedState=v}return m===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Jf(a){var s=It(),c=s.queue;if(c===null)throw Error(e(311));c.lastRenderedReducer=a;var d=c.dispatch,m=c.pending,v=s.memoizedState;if(m!==null){c.pending=null;var _=m=m.next;do v=a(v,_.action),_=_.next;while(_!==m);Bn(v,s.memoizedState)||(Ht=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,d]}function iv(a,s,c){var d=Ie,m=It(),v=Je;if(v){if(c===void 0)throw Error(e(407));c=c()}else c=s();var _=!Bn((ut||m).memoizedState,c);if(_&&(m.memoizedState=c,Ht=!0),m=m.queue,$f(lv.bind(null,d,m,a),[a]),m.getSnapshot!==s||_||Pt!==null&&Pt.memoizedState.tag&1){if(d.flags|=2048,Fr(9,{destroy:void 0},sv.bind(null,d,m,c,s),null),pt===null)throw Error(e(349));v||(Ba&127)!==0||rv(d,s,c)}return c}function rv(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ie.updateQueue,s===null?(s=$o(),Ie.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function sv(a,s,c,d){s.value=c,s.getSnapshot=d,ov(s)&&uv(a)}function lv(a,s,c){return c(function(){ov(s)&&uv(a)})}function ov(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Bn(a,c)}catch{return!0}}function uv(a){var s=Ui(a,2);s!==null&&Cn(s,a,2)}function Yf(a){var s=hn();if(typeof a=="function"){var c=a;if(a=c(),Ki){Za(!0);try{c()}finally{Za(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:a},s}function cv(a,s,c,d){return a.baseState=c,Kf(a,ut,typeof d=="function"?d:Na)}function F2(a,s,c,d,m){if(tu(a))throw Error(e(485));if(a=s.action,a!==null){var v={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};j.T!==null?c(!0):v.isTransition=!1,d(v),c=s.pending,c===null?(v.next=s.pending=v,fv(s,v)):(v.next=c.next,s.pending=c.next=v)}}function fv(a,s){var c=s.action,d=s.payload,m=a.state;if(s.isTransition){var v=j.T,_={};j.T=_;try{var T=c(m,d),x=j.S;x!==null&&x(_,T),dv(a,s,T)}catch(G){Xf(a,s,G)}finally{v!==null&&_.types!==null&&(v.types=_.types),j.T=v}}else try{v=c(m,d),dv(a,s,v)}catch(G){Xf(a,s,G)}}function dv(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){hv(a,s,d)},function(d){return Xf(a,s,d)}):hv(a,s,c)}function hv(a,s,c){s.status="fulfilled",s.value=c,mv(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,fv(a,c)))}function Xf(a,s,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,mv(s),s=s.next;while(s!==d)}a.action=null}function mv(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function pv(a,s){return s}function vv(a,s){if(Je){var c=pt.formState;if(c!==null){e:{var d=Ie;if(Je){if(gt){t:{for(var m=gt,v=Zn;m.nodeType!==8;){if(!v){m=null;break t}if(m=Wn(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){gt=Wn(m.nextSibling),d=m.data==="F!";break e}}ni(d)}d=!1}d&&(s=c[0])}}return c=hn(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:s},c.queue=d,c=Lv.bind(null,Ie,d),d.dispatch=c,d=Yf(!1),v=td.bind(null,Ie,!1,d.queue),d=hn(),m={state:s,dispatch:null,action:a,pending:null},d.queue=m,c=F2.bind(null,Ie,m,v,c),m.dispatch=c,d.memoizedState=a,[s,c,!1]}function gv(a){var s=It();return yv(s,ut,a)}function yv(a,s,c){if(s=Kf(a,s,pv)[0],a=Qo(Na)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Xs(s)}catch(_){throw _===Ur?Fo:_}else d=s;s=It();var m=s.queue,v=m.dispatch;return c!==s.memoizedState&&(Ie.flags|=2048,Fr(9,{destroy:void 0},q2.bind(null,m,c),null)),[d,v,a]}function q2(a,s){a.action=s}function bv(a){var s=It(),c=ut;if(c!==null)return yv(s,c,a);It(),s=s.memoizedState,c=It();var d=c.queue.dispatch;return c.memoizedState=a,[s,d,!1]}function Fr(a,s,c,d){return a={tag:a,create:c,deps:d,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=$o(),Ie.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,s.lastEffect=a),a}function Sv(){return It().memoizedState}function Wo(a,s,c,d){var m=hn();Ie.flags|=a,m.memoizedState=Fr(1|s,{destroy:void 0},c,d===void 0?null:d)}function eu(a,s,c,d){var m=It();d=d===void 0?null:d;var v=m.memoizedState.inst;ut!==null&&d!==null&&Hf(d,ut.memoizedState.deps)?m.memoizedState=Fr(s,v,c,d):(Ie.flags|=a,m.memoizedState=Fr(1|s,v,c,d))}function _v(a,s){Wo(8390656,8,a,s)}function $f(a,s){eu(2048,8,a,s)}function G2(a){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=$o(),Ie.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Ev(a){var s=It().memoizedState;return G2({ref:s,nextImpl:a}),function(){if((We&2)!==0)throw Error(e(440));return s.impl.apply(void 0,arguments)}}function kv(a,s){return eu(4,2,a,s)}function Cv(a,s){return eu(4,4,a,s)}function wv(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Tv(a,s,c){c=c!=null?c.concat([a]):null,eu(4,4,wv.bind(null,s,a),c)}function Zf(){}function Av(a,s){var c=It();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Hf(s,d[1])?d[0]:(c.memoizedState=[a,s],a)}function Mv(a,s){var c=It();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Hf(s,d[1]))return d[0];if(d=a(),Ki){Za(!0);try{a()}finally{Za(!1)}}return c.memoizedState=[d,s],d}function Qf(a,s,c){return c===void 0||(Ba&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=Rg(),Ie.lanes|=a,fi|=a,c)}function Rv(a,s,c,d){return Bn(c,s)?c:Pr.current!==null?(a=Qf(a,c,d),Bn(a,s)||(Ht=!0),a):(Ba&42)===0||(Ba&1073741824)!==0&&(Ge&261930)===0?(Ht=!0,a.memoizedState=c):(a=Rg(),Ie.lanes|=a,fi|=a,s)}function Ov(a,s,c,d,m){var v=re.p;re.p=v!==0&&8>v?v:8;var _=j.T,T={};j.T=T,td(a,!1,s,c);try{var x=m(),G=j.S;if(G!==null&&G(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=P2(x,d);$s(a,s,Z,zn(a))}else $s(a,s,d,zn(a))}catch(ee){$s(a,s,{then:function(){},status:"rejected",reason:ee},zn())}finally{re.p=v,_!==null&&T.types!==null&&(_.types=T.types),j.T=_}}function V2(){}function Wf(a,s,c,d){if(a.tag!==5)throw Error(e(476));var m=xv(a).queue;Ov(a,m,s,Ee,c===null?V2:function(){return Bv(a),c(d)})}function xv(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:Ee},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Bv(a){var s=xv(a);s.next===null&&(s=a.alternate.memoizedState),$s(a,s.next.queue,{},zn())}function ed(){return tn(hl)}function Nv(){return It().memoizedState}function Iv(){return It().memoizedState}function K2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=zn();a=ri(c);var d=si(s,a,c);d!==null&&(Cn(d,s,c),Vs(d,s,c)),s={cache:Rf()},a.payload=s;return}s=s.return}}function J2(a,s,c){var d=zn();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tu(a)?Dv(s,c):(c=yf(a,s,c,d),c!==null&&(Cn(c,a,d),Uv(c,s,d)))}function Lv(a,s,c){var d=zn();$s(a,s,c,d)}function $s(a,s,c,d){var m={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(tu(a))Dv(s,m);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var _=s.lastRenderedState,T=v(_,c);if(m.hasEagerState=!0,m.eagerState=T,Bn(T,_))return Lo(a,s,m,0),pt===null&&Io(),!1}catch{}if(c=yf(a,s,m,d),c!==null)return Cn(c,a,d),Uv(c,s,d),!0}return!1}function td(a,s,c,d){if(d={lane:2,revertLane:Nd(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},tu(a)){if(s)throw Error(e(479))}else s=yf(a,c,d,2),s!==null&&Cn(s,a,2)}function tu(a){var s=a.alternate;return a===Ie||s!==null&&s===Ie}function Dv(a,s){Hr=Yo=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Uv(a,s,c){if((c&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,Fm(a,c)}}var Zs={readContext:tn,use:Zo,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Zs.useEffectEvent=wt;var zv={readContext:tn,use:Zo,useCallback:function(a,s){return hn().memoizedState=[a,s===void 0?null:s],a},useContext:tn,useEffect:_v,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Wo(4194308,4,wv.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Wo(4194308,4,a,s)},useInsertionEffect:function(a,s){Wo(4,2,a,s)},useMemo:function(a,s){var c=hn();s=s===void 0?null:s;var d=a();if(Ki){Za(!0);try{a()}finally{Za(!1)}}return c.memoizedState=[d,s],d},useReducer:function(a,s,c){var d=hn();if(c!==void 0){var m=c(s);if(Ki){Za(!0);try{c(s)}finally{Za(!1)}}}else m=s;return d.memoizedState=d.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},d.queue=a,a=a.dispatch=J2.bind(null,Ie,a),[d.memoizedState,a]},useRef:function(a){var s=hn();return a={current:a},s.memoizedState=a},useState:function(a){a=Yf(a);var s=a.queue,c=Lv.bind(null,Ie,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Zf,useDeferredValue:function(a,s){var c=hn();return Qf(c,a,s)},useTransition:function(){var a=Yf(!1);return a=Ov.bind(null,Ie,a.queue,!0,!1),hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var d=Ie,m=hn();if(Je){if(c===void 0)throw Error(e(407));c=c()}else{if(c=s(),pt===null)throw Error(e(349));(Ge&127)!==0||rv(d,s,c)}m.memoizedState=c;var v={value:c,getSnapshot:s};return m.queue=v,_v(lv.bind(null,d,v,a),[a]),d.flags|=2048,Fr(9,{destroy:void 0},sv.bind(null,d,v,c,s),null),c},useId:function(){var a=hn(),s=pt.identifierPrefix;if(Je){var c=da,d=fa;c=(d&~(1<<32-xn(d)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Xo++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=H2++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:ed,useFormState:vv,useActionState:vv,useOptimistic:function(a){var s=hn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=td.bind(null,Ie,!0,c),c.dispatch=s,[a,s]},useMemoCache:Vf,useCacheRefresh:function(){return hn().memoizedState=K2.bind(null,Ie)},useEffectEvent:function(a){var s=hn(),c={impl:a};return s.memoizedState=c,function(){if((We&2)!==0)throw Error(e(440));return c.impl.apply(void 0,arguments)}}},nd={readContext:tn,use:Zo,useCallback:Av,useContext:tn,useEffect:$f,useImperativeHandle:Tv,useInsertionEffect:kv,useLayoutEffect:Cv,useMemo:Mv,useReducer:Qo,useRef:Sv,useState:function(){return Qo(Na)},useDebugValue:Zf,useDeferredValue:function(a,s){var c=It();return Rv(c,ut.memoizedState,a,s)},useTransition:function(){var a=Qo(Na)[0],s=It().memoizedState;return[typeof a=="boolean"?a:Xs(a),s]},useSyncExternalStore:iv,useId:Nv,useHostTransitionStatus:ed,useFormState:gv,useActionState:gv,useOptimistic:function(a,s){var c=It();return cv(c,ut,a,s)},useMemoCache:Vf,useCacheRefresh:Iv};nd.useEffectEvent=Ev;var Pv={readContext:tn,use:Zo,useCallback:Av,useContext:tn,useEffect:$f,useImperativeHandle:Tv,useInsertionEffect:kv,useLayoutEffect:Cv,useMemo:Mv,useReducer:Jf,useRef:Sv,useState:function(){return Jf(Na)},useDebugValue:Zf,useDeferredValue:function(a,s){var c=It();return ut===null?Qf(c,a,s):Rv(c,ut.memoizedState,a,s)},useTransition:function(){var a=Jf(Na)[0],s=It().memoizedState;return[typeof a=="boolean"?a:Xs(a),s]},useSyncExternalStore:iv,useId:Nv,useHostTransitionStatus:ed,useFormState:bv,useActionState:bv,useOptimistic:function(a,s){var c=It();return ut!==null?cv(c,ut,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Iv};Pv.useEffectEvent=Ev;function ad(a,s,c,d){s=a.memoizedState,c=c(d,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var id={enqueueSetState:function(a,s,c){a=a._reactInternals;var d=zn(),m=ri(d);m.payload=s,c!=null&&(m.callback=c),s=si(a,m,d),s!==null&&(Cn(s,a,d),Vs(s,a,d))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var d=zn(),m=ri(d);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=si(a,m,d),s!==null&&(Cn(s,a,d),Vs(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=zn(),d=ri(c);d.tag=2,s!=null&&(d.callback=s),s=si(a,d,c),s!==null&&(Cn(s,a,c),Vs(s,a,c))}};function Hv(a,s,c,d,m,v,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,_):s.prototype&&s.prototype.isPureReactComponent?!Us(c,d)||!Us(m,v):!0}function jv(a,s,c,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==a&&id.enqueueReplaceState(s,s.state,null)}function Ji(a,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var m in a)c[m]===void 0&&(c[m]=a[m])}return c}function Fv(a){No(a)}function qv(a){console.error(a)}function Gv(a){No(a)}function nu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Vv(a,s,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rd(a,s,c){return c=ri(c),c.tag=3,c.payload={element:null},c.callback=function(){nu(a,s)},c}function Kv(a){return a=ri(a),a.tag=3,a}function Jv(a,s,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;a.payload=function(){return m(v)},a.callback=function(){Vv(s,c,d)}}var _=c.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){Vv(s,c,d),typeof m!="function"&&(di===null?di=new Set([this]):di.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function Y2(a,s,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Ir(s,c,m,!0),c=In.current,c!==null){switch(c.tag){case 31:case 13:return Qn===null?mu():c.alternate===null&&Tt===0&&(Tt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===qo?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Od(a,d,m)),!1;case 22:return c.flags|=65536,d===qo?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Od(a,d,m)),!1}throw Error(e(435,c.tag))}return Od(a,d,m),mu(),!1}if(Je)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,d!==Cf&&(a=Error(e(422),{cause:d}),Hs(Yn(a,c)))):(d!==Cf&&(s=Error(e(423),{cause:d}),Hs(Yn(s,c))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,d=Yn(d,c),m=rd(a.stateNode,d,m),Lf(a,m),Tt!==4&&(Tt=2)),!1;var v=Error(e(520),{cause:d});if(v=Yn(v,c),rl===null?rl=[v]:rl.push(v),Tt!==4&&(Tt=2),s===null)return!0;d=Yn(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=m&-m,c.lanes|=a,a=rd(c.stateNode,d,a),Lf(c,a),!1;case 1:if(s=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(di===null||!di.has(v))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Kv(m),Jv(m,a,c,d),Lf(c,m),!1}c=c.return}while(c!==null);return!1}var sd=Error(e(461)),Ht=!1;function nn(a,s,c,d){s.child=a===null?Zp(s,null,c,d):Vi(s,a.child,c,d)}function Yv(a,s,c,d,m){c=c.render;var v=s.ref;if("ref"in d){var _={};for(var T in d)T!=="ref"&&(_[T]=d[T])}else _=d;return ji(s),d=jf(a,s,c,_,v,m),T=Ff(),a!==null&&!Ht?(qf(a,s,m),Ia(a,s,m)):(Je&&T&&Ef(s),s.flags|=1,nn(a,s,d,m),s.child)}function Xv(a,s,c,d,m){if(a===null){var v=c.type;return typeof v=="function"&&!bf(v)&&v.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=v,$v(a,s,v,d,m)):(a=Uo(c.type,null,d,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(v=a.child,!md(a,m)){var _=v.memoizedProps;if(c=c.compare,c=c!==null?c:Us,c(_,d)&&a.ref===s.ref)return Ia(a,s,m)}return s.flags|=1,a=Ma(v,d),a.ref=s.ref,a.return=s,s.child=a}function $v(a,s,c,d,m){if(a!==null){var v=a.memoizedProps;if(Us(v,d)&&a.ref===s.ref)if(Ht=!1,s.pendingProps=d=v,md(a,m))(a.flags&131072)!==0&&(Ht=!0);else return s.lanes=a.lanes,Ia(a,s,m)}return ld(a,s,c,d,m)}function Zv(a,s,c,d){var m=d.children,v=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,a!==null){for(d=s.child=a.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~v}else d=0,s.child=null;return Qv(a,s,v,c,d)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&jo(s,v!==null?v.cachePool:null),v!==null?ev(s,v):Uf(),tv(s);else return d=s.lanes=536870912,Qv(a,s,v!==null?v.baseLanes|c:c,c,d)}else v!==null?(jo(s,v.cachePool),ev(s,v),oi(),s.memoizedState=null):(a!==null&&jo(s,null),Uf(),oi());return nn(a,s,m,c),s.child}function Qs(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qv(a,s,c,d,m){var v=xf();return v=v===null?null:{parent:zt._currentValue,pool:v},s.memoizedState={baseLanes:c,cachePool:v},a!==null&&jo(s,null),Uf(),tv(s),a!==null&&Ir(a,s,d,!0),s.childLanes=m,null}function au(a,s){return s=ru({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Wv(a,s,c){return Vi(s,a.child,null,c),a=au(s,s.pendingProps),a.flags|=2,Ln(s),s.memoizedState=null,a}function X2(a,s,c){var d=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Je){if(d.mode==="hidden")return a=au(s,d),s.lanes=536870912,Qs(null,a);if(Pf(s),(a=gt)?(a=f0(a,Zn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ei!==null?{id:fa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},c=Dp(a),c.return=s,s.child=c,en=s,gt=null)):a=null,a===null)throw ni(s);return s.lanes=536870912,null}return au(s,d)}var v=a.memoizedState;if(v!==null){var _=v.dehydrated;if(Pf(s),m)if(s.flags&256)s.flags&=-257,s=Wv(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(e(558));else if(Ht||Ir(a,s,c,!1),m=(c&a.childLanes)!==0,Ht||m){if(d=pt,d!==null&&(_=qm(d,c),_!==0&&_!==v.retryLane))throw v.retryLane=_,Ui(a,_),Cn(d,a,_),sd;mu(),s=Wv(a,s,c)}else a=v.treeContext,gt=Wn(_.nextSibling),en=s,Je=!0,ti=null,Zn=!1,a!==null&&Pp(s,a),s=au(s,d),s.flags|=4096;return s}return a=Ma(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function iu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(e(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function ld(a,s,c,d,m){return ji(s),c=jf(a,s,c,d,void 0,m),d=Ff(),a!==null&&!Ht?(qf(a,s,m),Ia(a,s,m)):(Je&&d&&Ef(s),s.flags|=1,nn(a,s,c,m),s.child)}function eg(a,s,c,d,m,v){return ji(s),s.updateQueue=null,c=av(s,d,c,m),nv(a),d=Ff(),a!==null&&!Ht?(qf(a,s,v),Ia(a,s,v)):(Je&&d&&Ef(s),s.flags|=1,nn(a,s,c,v),s.child)}function tg(a,s,c,d,m){if(ji(s),s.stateNode===null){var v=Or,_=c.contextType;typeof _=="object"&&_!==null&&(v=tn(_)),v=new c(d,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=id,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=d,v.state=s.memoizedState,v.refs={},Nf(s),_=c.contextType,v.context=typeof _=="object"&&_!==null?tn(_):Or,v.state=s.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(ad(s,c,_,d),v.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&id.enqueueReplaceState(v,v.state,null),Js(s,d,v,m),Ks(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){v=s.stateNode;var T=s.memoizedProps,x=Ji(c,T);v.props=x;var G=v.context,Z=c.contextType;_=Or,typeof Z=="object"&&Z!==null&&(_=tn(Z));var ee=c.getDerivedStateFromProps;Z=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||G!==_)&&jv(s,v,d,_),ii=!1;var V=s.memoizedState;v.state=V,Js(s,d,v,m),Ks(),G=s.memoizedState,T||V!==G||ii?(typeof ee=="function"&&(ad(s,c,ee,d),G=s.memoizedState),(x=ii||Hv(s,c,x,d,V,G,_))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=G),v.props=d,v.state=G,v.context=_,d=x):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{v=s.stateNode,If(a,s),_=s.memoizedProps,Z=Ji(c,_),v.props=Z,ee=s.pendingProps,V=v.context,G=c.contextType,x=Or,typeof G=="object"&&G!==null&&(x=tn(G)),T=c.getDerivedStateFromProps,(G=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==ee||V!==x)&&jv(s,v,d,x),ii=!1,V=s.memoizedState,v.state=V,Js(s,d,v,m),Ks();var Y=s.memoizedState;_!==ee||V!==Y||ii||a!==null&&a.dependencies!==null&&Po(a.dependencies)?(typeof T=="function"&&(ad(s,c,T,d),Y=s.memoizedState),(Z=ii||Hv(s,c,Z,d,V,Y,x)||a!==null&&a.dependencies!==null&&Po(a.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,Y,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,Y,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&V===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&V===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Y),v.props=d,v.state=Y,v.context=x,d=Z):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&V===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&V===a.memoizedState||(s.flags|=1024),d=!1)}return v=d,iu(a,s),d=(s.flags&128)!==0,v||d?(v=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,a!==null&&d?(s.child=Vi(s,a.child,null,m),s.child=Vi(s,null,c,m)):nn(a,s,c,m),s.memoizedState=v.state,a=s.child):a=Ia(a,s,m),a}function ng(a,s,c,d){return Pi(),s.flags|=256,nn(a,s,c,d),s.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(a){return{baseLanes:a,cachePool:Vp()}}function cd(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Un),a}function ag(a,s,c){var d=s.pendingProps,m=!1,v=(s.flags&128)!==0,_;if((_=v)||(_=a!==null&&a.memoizedState===null?!1:(Nt.current&2)!==0),_&&(m=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,a===null){if(Je){if(m?li(s):oi(),(a=gt)?(a=f0(a,Zn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ei!==null?{id:fa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},c=Dp(a),c.return=s,s.child=c,en=s,gt=null)):a=null,a===null)throw ni(s);return Kd(a)?s.lanes=32:s.lanes=536870912,null}var T=d.children;return d=d.fallback,m?(oi(),m=s.mode,T=ru({mode:"hidden",children:T},m),d=zi(d,m,c,null),T.return=s,d.return=s,T.sibling=d,s.child=T,d=s.child,d.memoizedState=ud(c),d.childLanes=cd(a,_,c),s.memoizedState=od,Qs(null,d)):(li(s),fd(s,T))}var x=a.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(v)s.flags&256?(li(s),s.flags&=-257,s=dd(a,s,c)):s.memoizedState!==null?(oi(),s.child=a.child,s.flags|=128,s=null):(oi(),T=d.fallback,m=s.mode,d=ru({mode:"visible",children:d.children},m),T=zi(T,m,c,null),T.flags|=2,d.return=s,T.return=s,d.sibling=T,s.child=d,Vi(s,a.child,null,c),d=s.child,d.memoizedState=ud(c),d.childLanes=cd(a,_,c),s.memoizedState=od,s=Qs(null,d));else if(li(s),Kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,d=Error(e(419)),d.stack="",d.digest=_,Hs({value:d,source:null,stack:null}),s=dd(a,s,c)}else if(Ht||Ir(a,s,c,!1),_=(c&a.childLanes)!==0,Ht||_){if(_=pt,_!==null&&(d=qm(_,c),d!==0&&d!==x.retryLane))throw x.retryLane=d,Ui(a,d),Cn(_,a,d),sd;Vd(T)||mu(),s=dd(a,s,c)}else Vd(T)?(s.flags|=192,s.child=a.child,s=null):(a=x.treeContext,gt=Wn(T.nextSibling),en=s,Je=!0,ti=null,Zn=!1,a!==null&&Pp(s,a),s=fd(s,d.children),s.flags|=4096);return s}return m?(oi(),T=d.fallback,m=s.mode,x=a.child,G=x.sibling,d=Ma(x,{mode:"hidden",children:d.children}),d.subtreeFlags=x.subtreeFlags&65011712,G!==null?T=Ma(G,T):(T=zi(T,m,c,null),T.flags|=2),T.return=s,d.return=s,d.sibling=T,s.child=d,Qs(null,d),d=s.child,T=a.child.memoizedState,T===null?T=ud(c):(m=T.cachePool,m!==null?(x=zt._currentValue,m=m.parent!==x?{parent:x,pool:x}:m):m=Vp(),T={baseLanes:T.baseLanes|c,cachePool:m}),d.memoizedState=T,d.childLanes=cd(a,_,c),s.memoizedState=od,Qs(a.child,d)):(li(s),c=a.child,a=c.sibling,c=Ma(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,a!==null&&(_=s.deletions,_===null?(s.deletions=[a],s.flags|=16):_.push(a)),s.child=c,s.memoizedState=null,c)}function fd(a,s){return s=ru({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function ru(a,s){return a=Nn(22,a,null,s),a.lanes=0,a}function dd(a,s,c){return Vi(s,a.child,null,c),a=fd(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function ig(a,s,c){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),Af(a.return,s,c)}function hd(a,s,c,d,m,v){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m,treeForkCount:v}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=c,_.tailMode=m,_.treeForkCount=v)}function rg(a,s,c){var d=s.pendingProps,m=d.revealOrder,v=d.tail;d=d.children;var _=Nt.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,me(Nt,_),nn(a,s,d,c),d=Je?Ps:0,!T&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ig(a,c,s);else if(a.tag===19)ig(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(m){case"forwards":for(c=s.child,m=null;c!==null;)a=c.alternate,a!==null&&Jo(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),hd(s,!1,m,c,v,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&Jo(a)===null){s.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}hd(s,!0,c,null,v,d);break;case"together":hd(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Ia(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),fi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ir(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(e(153));if(s.child!==null){for(a=s.child,c=Ma(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Ma(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function md(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Po(a)))}function $2(a,s,c){switch(s.tag){case 3:dn(s,s.stateNode.containerInfo),ai(s,zt,a.memoizedState.cache),Pi();break;case 27:case 5:Cs(s);break;case 4:dn(s,s.stateNode.containerInfo);break;case 10:ai(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pf(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(li(s),s.flags|=128,null):(c&s.child.childLanes)!==0?ag(a,s,c):(li(s),a=Ia(a,s,c),a!==null?a.sibling:null);li(s);break;case 19:var m=(a.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Ir(a,s,c,!1),d=(c&s.childLanes)!==0),m){if(d)return rg(a,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(Nt,Nt.current),d)break;return null;case 22:return s.lanes=0,Zv(a,s,c,s.pendingProps);case 24:ai(s,zt,a.memoizedState.cache)}return Ia(a,s,c)}function sg(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ht=!0;else{if(!md(a,c)&&(s.flags&128)===0)return Ht=!1,$2(a,s,c);Ht=(a.flags&131072)!==0}else Ht=!1,Je&&(s.flags&1048576)!==0&&zp(s,Ps,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=qi(s.elementType),s.type=a,typeof a=="function")bf(a)?(d=Ji(a,d),s.tag=1,s=tg(null,s,a,d,c)):(s.tag=0,s=ld(null,s,a,d,c));else{if(a!=null){var m=a.$$typeof;if(m===F){s.tag=11,s=Yv(null,s,a,d,c);break e}else if(m===$){s.tag=14,s=Xv(null,s,a,d,c);break e}}throw s=ae(a)||a,Error(e(306,s,""))}}return s;case 0:return ld(a,s,s.type,s.pendingProps,c);case 1:return d=s.type,m=Ji(d,s.pendingProps),tg(a,s,d,m,c);case 3:e:{if(dn(s,s.stateNode.containerInfo),a===null)throw Error(e(387));d=s.pendingProps;var v=s.memoizedState;m=v.element,If(a,s),Js(s,d,null,c);var _=s.memoizedState;if(d=_.cache,ai(s,zt,d),d!==v.cache&&Mf(s,[zt],c,!0),Ks(),d=_.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=ng(a,s,d,c);break e}else if(d!==m){m=Yn(Error(e(424)),s),Hs(m),s=ng(a,s,d,c);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,gt=Wn(a.firstChild),en=s,Je=!0,ti=null,Zn=!0,c=Zp(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Pi(),d===m){s=Ia(a,s,c);break e}nn(a,s,d,c)}s=s.child}return s;case 26:return iu(a,s),a===null?(c=g0(s.type,null,s.pendingProps,null))?s.memoizedState=c:Je||(c=s.type,a=s.pendingProps,d=_u(He.current).createElement(c),d[Wt]=s,d[yn]=a,an(d,c,a),Zt(d),s.stateNode=d):s.memoizedState=g0(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Cs(s),a===null&&Je&&(d=s.stateNode=m0(s.type,s.pendingProps,He.current),en=s,Zn=!0,m=gt,vi(s.type)?(Jd=m,gt=Wn(d.firstChild)):gt=m),nn(a,s,s.pendingProps.children,c),iu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Je&&((m=d=gt)&&(d=T_(d,s.type,s.pendingProps,Zn),d!==null?(s.stateNode=d,en=s,gt=Wn(d.firstChild),Zn=!1,m=!0):m=!1),m||ni(s)),Cs(s),m=s.type,v=s.pendingProps,_=a!==null?a.memoizedProps:null,d=v.children,Fd(m,v)?d=null:_!==null&&Fd(m,_)&&(s.flags|=32),s.memoizedState!==null&&(m=jf(a,s,j2,null,null,c),hl._currentValue=m),iu(a,s),nn(a,s,d,c),s.child;case 6:return a===null&&Je&&((a=c=gt)&&(c=A_(c,s.pendingProps,Zn),c!==null?(s.stateNode=c,en=s,gt=null,a=!0):a=!1),a||ni(s)),null;case 13:return ag(a,s,c);case 4:return dn(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Vi(s,null,d,c):nn(a,s,d,c),s.child;case 11:return Yv(a,s,s.type,s.pendingProps,c);case 7:return nn(a,s,s.pendingProps,c),s.child;case 8:return nn(a,s,s.pendingProps.children,c),s.child;case 12:return nn(a,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,ai(s,s.type,d.value),nn(a,s,d.children,c),s.child;case 9:return m=s.type._context,d=s.pendingProps.children,ji(s),m=tn(m),d=d(m),s.flags|=1,nn(a,s,d,c),s.child;case 14:return Xv(a,s,s.type,s.pendingProps,c);case 15:return $v(a,s,s.type,s.pendingProps,c);case 19:return rg(a,s,c);case 31:return X2(a,s,c);case 22:return Zv(a,s,c,s.pendingProps);case 24:return ji(s),d=tn(zt),a===null?(m=xf(),m===null&&(m=pt,v=Rf(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=c),m=v),s.memoizedState={parent:d,cache:m},Nf(s),ai(s,zt,m)):((a.lanes&c)!==0&&(If(a,s),Js(s,null,null,c),Ks()),m=a.memoizedState,v=s.memoizedState,m.parent!==d?(m={parent:d,cache:d},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ai(s,zt,d)):(d=v.cache,ai(s,zt,d),d!==m.cache&&Mf(s,[zt],c,!0))),nn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(e(156,s.tag))}function La(a){a.flags|=4}function pd(a,s,c,d,m){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(m&335544128)===m)if(a.stateNode.complete)a.flags|=8192;else if(Ng())a.flags|=8192;else throw Gi=qo,Bf}else a.flags&=-16777217}function lg(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!E0(s))if(Ng())a.flags|=8192;else throw Gi=qo,Bf}function su(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Hm():536870912,a.lanes|=s,Kr|=s)}function Ws(a,s){if(!Je)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function yt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(s)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=d,a.childLanes=c,s}function Z2(a,s,c){var d=s.pendingProps;switch(kf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return c=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),xa(zt),Bt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Nr(s)?La(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wf())),yt(s),null;case 26:var m=s.type,v=s.memoizedState;return a===null?(La(s),v!==null?(yt(s),lg(s,v)):(yt(s),pd(s,m,null,d,c))):v?v!==a.memoizedState?(La(s),yt(s),lg(s,v)):(yt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&La(s),yt(s),pd(s,m,a,d,c)),null;case 27:if(go(s),c=He.current,m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&La(s);else{if(!d){if(s.stateNode===null)throw Error(e(166));return yt(s),null}a=Se.current,Nr(s)?Hp(s):(a=m0(m,d,c),s.stateNode=a,La(s))}return yt(s),null;case 5:if(go(s),m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&La(s);else{if(!d){if(s.stateNode===null)throw Error(e(166));return yt(s),null}if(v=Se.current,Nr(s))Hp(s);else{var _=_u(He.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?_.createElement("select",{is:d.is}):_.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?_.createElement(m,{is:d.is}):_.createElement(m)}}v[Wt]=s,v[yn]=d;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=v;e:switch(an(v,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&La(s)}}return yt(s),pd(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&La(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(e(166));if(a=He.current,Nr(s)){if(a=s.stateNode,c=s.memoizedProps,d=null,m=en,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}a[Wt]=s,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||a0(a.nodeValue,c)),a||ni(s,!0)}else a=_u(a).createTextNode(d),a[Wt]=s,s.stateNode=a}return yt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(d=Nr(s),c!==null){if(a===null){if(!d)throw Error(e(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(e(557));a[Wt]=s}else Pi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),a=!1}else c=wf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(e(558))}return yt(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Nr(s),d!==null&&d.dehydrated!==null){if(a===null){if(!m)throw Error(e(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(e(317));m[Wt]=s}else Pi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),m=!1}else m=wf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=c,s):(c=d!==null,a=a!==null&&a.memoizedState!==null,c&&(d=s.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),su(s,s.updateQueue),yt(s),null);case 4:return Bt(),a===null&&Ud(s.stateNode.containerInfo),yt(s),null;case 10:return xa(s.type),yt(s),null;case 19:if(te(Nt),d=s.memoizedState,d===null)return yt(s),null;if(m=(s.flags&128)!==0,v=d.rendering,v===null)if(m)Ws(d,!1);else{if(Tt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(v=Jo(a),v!==null){for(s.flags|=128,Ws(d,!1),a=v.updateQueue,s.updateQueue=a,su(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Lp(c,a),c=c.sibling;return me(Nt,Nt.current&1|2),Je&&Ra(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&Rn()>fu&&(s.flags|=128,m=!0,Ws(d,!1),s.lanes=4194304)}else{if(!m)if(a=Jo(v),a!==null){if(s.flags|=128,m=!0,a=a.updateQueue,s.updateQueue=a,su(s,a),Ws(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Je)return yt(s),null}else 2*Rn()-d.renderingStartTime>fu&&c!==536870912&&(s.flags|=128,m=!0,Ws(d,!1),s.lanes=4194304);d.isBackwards?(v.sibling=s.child,s.child=v):(a=d.last,a!==null?a.sibling=v:s.child=v,d.last=v)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Rn(),a.sibling=null,c=Nt.current,me(Nt,m?c&1|2:c&1),Je&&Ra(s,d.treeForkCount),a):(yt(s),null);case 22:case 23:return Ln(s),zf(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),c=s.updateQueue,c!==null&&su(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),a!==null&&te(Fi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),xa(zt),yt(s),null;case 25:return null;case 30:return null}throw Error(e(156,s.tag))}function Q2(a,s){switch(kf(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return xa(zt),Bt(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return go(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(e(340));Pi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ln(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(e(340));Pi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return te(Nt),null;case 4:return Bt(),null;case 10:return xa(s.type),null;case 22:case 23:return Ln(s),zf(),a!==null&&te(Fi),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return xa(zt),null;case 25:return null;default:return null}}function og(a,s){switch(kf(s),s.tag){case 3:xa(zt),Bt();break;case 26:case 27:case 5:go(s);break;case 4:Bt();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:te(Nt);break;case 10:xa(s.type);break;case 22:case 23:Ln(s),zf(),a!==null&&te(Fi);break;case 24:xa(zt)}}function el(a,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&a)===a){d=void 0;var v=c.create,_=c.inst;d=v(),_.destroy=d}c=c.next}while(c!==m)}}catch(T){rt(s,s.return,T)}}function ui(a,s,c){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&a)===a){var _=d.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,m=s;var x=c,G=T;try{G()}catch(Z){rt(m,x,Z)}}}d=d.next}while(d!==v)}}catch(Z){rt(s,s.return,Z)}}function ug(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{Wp(s,c)}catch(d){rt(a,a.return,d)}}}function cg(a,s,c){c.props=Ji(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){rt(a,s,d)}}function tl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof c=="function"?a.refCleanup=c(d):c.current=d}}catch(m){rt(a,s,m)}}function ha(a,s){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){rt(a,s,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){rt(a,s,m)}else c.current=null}function fg(a){var s=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){rt(a,a.return,m)}}function vd(a,s,c){try{var d=a.stateNode;S_(d,a.type,c,s),d[yn]=s}catch(m){rt(a,a.return,m)}}function dg(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vi(a.type)||a.tag===4}function gd(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||dg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yd(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Ta));else if(d!==4&&(d===27&&vi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(yd(a,s,c),a=a.sibling;a!==null;)yd(a,s,c),a=a.sibling}function lu(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(d!==4&&(d===27&&vi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(lu(a,s,c),a=a.sibling;a!==null;)lu(a,s,c),a=a.sibling}function hg(a){var s=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);an(s,d,c),s[Wt]=a,s[yn]=c}catch(v){rt(a,a.return,v)}}var Da=!1,jt=!1,bd=!1,mg=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function W2(a,s){if(a=a.containerInfo,Hd=Mu,a=Tp(a),df(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var _=0,T=-1,x=-1,G=0,Z=0,ee=a,V=null;t:for(;;){for(var Y;ee!==c||m!==0&&ee.nodeType!==3||(T=_+m),ee!==v||d!==0&&ee.nodeType!==3||(x=_+d),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)V=ee,ee=Y;for(;;){if(ee===a)break t;if(V===c&&++G===m&&(T=_),V===v&&++Z===d&&(x=_),(Y=ee.nextSibling)!==null)break;ee=V,V=ee.parentNode}ee=Y}c=T===-1||x===-1?null:{start:T,end:x}}else c=null}c=c||{start:0,end:0}}else c=null;for(jd={focusedElem:a,selectionRange:c},Mu=!1,Qt=s;Qt!==null;)if(s=Qt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Qt=a;else for(;Qt!==null;){switch(s=Qt,v=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)m=a[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=s,m=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var ve=Ji(c.type,m);a=d.getSnapshotBeforeUpdate(ve,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(Te){rt(c,c.return,Te)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Gd(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Gd(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(e(163))}if(a=s.sibling,a!==null){a.return=s.return,Qt=a;break}Qt=s.return}}function pg(a,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:za(a,c),d&4&&el(5,c);break;case 1:if(za(a,c),d&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(_){rt(c,c.return,_)}else{var m=Ji(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(m,s,a.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(c,c.return,_)}}d&64&&ug(c),d&512&&tl(c,c.return);break;case 3:if(za(a,c),d&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Wp(a,s)}catch(_){rt(c,c.return,_)}}break;case 27:s===null&&d&4&&hg(c);case 26:case 5:za(a,c),s===null&&d&4&&fg(c),d&512&&tl(c,c.return);break;case 12:za(a,c);break;case 31:za(a,c),d&4&&yg(a,c);break;case 13:za(a,c),d&4&&bg(a,c),d&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=o_.bind(null,c),M_(a,c))));break;case 22:if(d=c.memoizedState!==null||Da,!d){s=s!==null&&s.memoizedState!==null||jt,m=Da;var v=jt;Da=d,(jt=s)&&!v?Pa(a,c,(c.subtreeFlags&8772)!==0):za(a,c),Da=m,jt=v}break;case 30:break;default:za(a,c)}}function vg(a){var s=a.alternate;s!==null&&(a.alternate=null,vg(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Yc(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Et=null,Sn=!1;function Ua(a,s,c){for(c=c.child;c!==null;)gg(a,s,c),c=c.sibling}function gg(a,s,c){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(ws,c)}catch{}switch(c.tag){case 26:jt||ha(c,s),Ua(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jt||ha(c,s);var d=Et,m=Sn;vi(c.type)&&(Et=c.stateNode,Sn=!1),Ua(a,s,c),cl(c.stateNode),Et=d,Sn=m;break;case 5:jt||ha(c,s);case 6:if(d=Et,m=Sn,Et=null,Ua(a,s,c),Et=d,Sn=m,Et!==null)if(Sn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(c.stateNode)}catch(v){rt(c,s,v)}else try{Et.removeChild(c.stateNode)}catch(v){rt(c,s,v)}break;case 18:Et!==null&&(Sn?(a=Et,u0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),es(a)):u0(Et,c.stateNode));break;case 4:d=Et,m=Sn,Et=c.stateNode.containerInfo,Sn=!0,Ua(a,s,c),Et=d,Sn=m;break;case 0:case 11:case 14:case 15:ui(2,c,s),jt||ui(4,c,s),Ua(a,s,c);break;case 1:jt||(ha(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&cg(c,s,d)),Ua(a,s,c);break;case 21:Ua(a,s,c);break;case 22:jt=(d=jt)||c.memoizedState!==null,Ua(a,s,c),jt=d;break;default:Ua(a,s,c)}}function yg(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{es(a)}catch(c){rt(s,s.return,c)}}}function bg(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{es(a)}catch(c){rt(s,s.return,c)}}function e_(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new mg),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new mg),s;default:throw Error(e(435,a.tag))}}function ou(a,s){var c=e_(a);s.forEach(function(d){if(!c.has(d)){c.add(d);var m=u_.bind(null,a,d);d.then(m,m)}})}function _n(a,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],v=a,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(vi(T.type)){Et=T.stateNode,Sn=!1;break e}break;case 5:Et=T.stateNode,Sn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(Et===null)throw Error(e(160));gg(v,_,m),Et=null,Sn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Sg(s,a),s=s.sibling}var ua=null;function Sg(a,s){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:_n(s,a),En(a),d&4&&(ui(3,a,a.return),el(3,a),ui(5,a,a.return));break;case 1:_n(s,a),En(a),d&512&&(jt||c===null||ha(c,c.return)),d&64&&Da&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=ua;if(_n(s,a),En(a),d&512&&(jt||c===null||ha(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ms]||v[Wt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),an(v,d,c),v[Wt]=a,Zt(v),d=v;break e;case"link":var _=S0("link","href",m).get(d+(c.href||""));if(_){for(var T=0;T<_.length;T++)if(v=_[T],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){_.splice(T,1);break t}}v=m.createElement(d),an(v,d,c),m.head.appendChild(v);break;case"meta":if(_=S0("meta","content",m).get(d+(c.content||""))){for(T=0;T<_.length;T++)if(v=_[T],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){_.splice(T,1);break t}}v=m.createElement(d),an(v,d,c),m.head.appendChild(v);break;default:throw Error(e(468,d))}v[Wt]=a,Zt(v),d=v}a.stateNode=d}else _0(m,a.type,a.stateNode);else a.stateNode=b0(m,d,a.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?_0(m,a.type,a.stateNode):b0(m,d,a.memoizedProps)):d===null&&a.stateNode!==null&&vd(a,a.memoizedProps,c.memoizedProps)}break;case 27:_n(s,a),En(a),d&512&&(jt||c===null||ha(c,c.return)),c!==null&&d&4&&vd(a,a.memoizedProps,c.memoizedProps);break;case 5:if(_n(s,a),En(a),d&512&&(jt||c===null||ha(c,c.return)),a.flags&32){m=a.stateNode;try{kr(m,"")}catch(ve){rt(a,a.return,ve)}}d&4&&a.stateNode!=null&&(m=a.memoizedProps,vd(a,m,c!==null?c.memoizedProps:m)),d&1024&&(bd=!0);break;case 6:if(_n(s,a),En(a),d&4){if(a.stateNode===null)throw Error(e(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(ve){rt(a,a.return,ve)}}break;case 3:if(Cu=null,m=ua,ua=Eu(s.containerInfo),_n(s,a),ua=m,En(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{es(s.containerInfo)}catch(ve){rt(a,a.return,ve)}bd&&(bd=!1,_g(a));break;case 4:d=ua,ua=Eu(a.stateNode.containerInfo),_n(s,a),En(a),ua=d;break;case 12:_n(s,a),En(a);break;case 31:_n(s,a),En(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,ou(a,d)));break;case 13:_n(s,a),En(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cu=Rn()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,ou(a,d)));break;case 22:m=a.memoizedState!==null;var x=c!==null&&c.memoizedState!==null,G=Da,Z=jt;if(Da=G||m,jt=Z||x,_n(s,a),jt=Z,Da=G,En(a),d&8192)e:for(s=a.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||x||Da||jt||Yi(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){x=c=s;try{if(v=x.stateNode,m)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var ee=x.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ve){rt(x,x.return,ve)}}}else if(s.tag===6){if(c===null){x=s;try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(ve){rt(x,x.return,ve)}}}else if(s.tag===18){if(c===null){x=s;try{var Y=x.stateNode;m?c0(Y,!0):c0(x.stateNode,!1)}catch(ve){rt(x,x.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ou(a,c))));break;case 19:_n(s,a),En(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,ou(a,d)));break;case 30:break;case 21:break;default:_n(s,a),En(a)}}function En(a){var s=a.flags;if(s&2){try{for(var c,d=a.return;d!==null;){if(dg(d)){c=d;break}d=d.return}if(c==null)throw Error(e(160));switch(c.tag){case 27:var m=c.stateNode,v=gd(a);lu(a,v,m);break;case 5:var _=c.stateNode;c.flags&32&&(kr(_,""),c.flags&=-33);var T=gd(a);lu(a,T,_);break;case 3:case 4:var x=c.stateNode.containerInfo,G=gd(a);yd(a,G,x);break;default:throw Error(e(161))}}catch(Z){rt(a,a.return,Z)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function _g(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;_g(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function za(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pg(a,s.alternate,s),s=s.sibling}function Yi(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ui(4,s,s.return),Yi(s);break;case 1:ha(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&cg(s,s.return,c),Yi(s);break;case 27:cl(s.stateNode);case 26:case 5:ha(s,s.return),Yi(s);break;case 22:s.memoizedState===null&&Yi(s);break;case 30:Yi(s);break;default:Yi(s)}a=a.sibling}}function Pa(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,m=a,v=s,_=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(m,v,c),el(4,v);break;case 1:if(Pa(m,v,c),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){rt(d,d.return,G)}if(d=v,m=d.updateQueue,m!==null){var T=d.stateNode;try{var x=m.shared.hiddenCallbacks;if(x!==null)for(m.shared.hiddenCallbacks=null,m=0;m<x.length;m++)Qp(x[m],T)}catch(G){rt(d,d.return,G)}}c&&_&64&&ug(v),tl(v,v.return);break;case 27:hg(v);case 26:case 5:Pa(m,v,c),c&&d===null&&_&4&&fg(v),tl(v,v.return);break;case 12:Pa(m,v,c);break;case 31:Pa(m,v,c),c&&_&4&&yg(m,v);break;case 13:Pa(m,v,c),c&&_&4&&bg(m,v);break;case 22:v.memoizedState===null&&Pa(m,v,c),tl(v,v.return);break;case 30:break;default:Pa(m,v,c)}s=s.sibling}}function Sd(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&js(c))}function _d(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&js(a))}function ca(a,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Eg(a,s,c,d),s=s.sibling}function Eg(a,s,c,d){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ca(a,s,c,d),m&2048&&el(9,s);break;case 1:ca(a,s,c,d);break;case 3:ca(a,s,c,d),m&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&js(a)));break;case 12:if(m&2048){ca(a,s,c,d),a=s.stateNode;try{var v=s.memoizedProps,_=v.id,T=v.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(x){rt(s,s.return,x)}}else ca(a,s,c,d);break;case 31:ca(a,s,c,d);break;case 13:ca(a,s,c,d);break;case 23:break;case 22:v=s.stateNode,_=s.alternate,s.memoizedState!==null?v._visibility&2?ca(a,s,c,d):nl(a,s):v._visibility&2?ca(a,s,c,d):(v._visibility|=2,qr(a,s,c,d,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Sd(_,s);break;case 24:ca(a,s,c,d),m&2048&&_d(s.alternate,s);break;default:ca(a,s,c,d)}}function qr(a,s,c,d,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=a,_=s,T=c,x=d,G=_.flags;switch(_.tag){case 0:case 11:case 15:qr(v,_,T,x,m),el(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?qr(v,_,T,x,m):nl(v,_):(Z._visibility|=2,qr(v,_,T,x,m)),m&&G&2048&&Sd(_.alternate,_);break;case 24:qr(v,_,T,x,m),m&&G&2048&&_d(_.alternate,_);break;default:qr(v,_,T,x,m)}s=s.sibling}}function nl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,d=s,m=d.flags;switch(d.tag){case 22:nl(c,d),m&2048&&Sd(d.alternate,d);break;case 24:nl(c,d),m&2048&&_d(d.alternate,d);break;default:nl(c,d)}s=s.sibling}}var al=8192;function Gr(a,s,c){if(a.subtreeFlags&al)for(a=a.child;a!==null;)kg(a,s,c),a=a.sibling}function kg(a,s,c){switch(a.tag){case 26:Gr(a,s,c),a.flags&al&&a.memoizedState!==null&&H_(c,ua,a.memoizedState,a.memoizedProps);break;case 5:Gr(a,s,c);break;case 3:case 4:var d=ua;ua=Eu(a.stateNode.containerInfo),Gr(a,s,c),ua=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=al,al=16777216,Gr(a,s,c),al=d):Gr(a,s,c));break;default:Gr(a,s,c)}}function Cg(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function il(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Qt=d,Tg(d,a)}Cg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wg(a),a=a.sibling}function wg(a){switch(a.tag){case 0:case 11:case 15:il(a),a.flags&2048&&ui(9,a,a.return);break;case 3:il(a);break;case 12:il(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,uu(a)):il(a);break;default:il(a)}}function uu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Qt=d,Tg(d,a)}Cg(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ui(8,s,s.return),uu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,uu(s));break;default:uu(s)}a=a.sibling}}function Tg(a,s){for(;Qt!==null;){var c=Qt;switch(c.tag){case 0:case 11:case 15:ui(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:js(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Qt=d;else e:for(c=a;Qt!==null;){d=Qt;var m=d.sibling,v=d.return;if(vg(d),d===c){Qt=null;break e}if(m!==null){m.return=v,Qt=m;break e}Qt=v}}}var t_={getCacheForType:function(a){var s=tn(zt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return tn(zt).controller.signal}},n_=typeof WeakMap=="function"?WeakMap:Map,We=0,pt=null,je=null,Ge=0,it=0,Dn=null,ci=!1,Vr=!1,Ed=!1,Ha=0,Tt=0,fi=0,Xi=0,kd=0,Un=0,Kr=0,rl=null,kn=null,Cd=!1,cu=0,Ag=0,fu=1/0,du=null,di=null,Kt=0,hi=null,Jr=null,ja=0,wd=0,Td=null,Mg=null,sl=0,Ad=null;function zn(){return(We&2)!==0&&Ge!==0?Ge&-Ge:j.T!==null?Nd():Gm()}function Rg(){if(Un===0)if((Ge&536870912)===0||Je){var a=So;So<<=1,(So&3932160)===0&&(So=262144),Un=a}else Un=536870912;return a=In.current,a!==null&&(a.flags|=32),Un}function Cn(a,s,c){(a===pt&&(it===2||it===9)||a.cancelPendingCommit!==null)&&(Yr(a,0),mi(a,Ge,Un,!1)),As(a,c),((We&2)===0||a!==pt)&&(a===pt&&((We&2)===0&&(Xi|=c),Tt===4&&mi(a,Ge,Un,!1)),ma(a))}function Og(a,s,c){if((We&6)!==0)throw Error(e(327));var d=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Ts(a,s),m=d?r_(a,s):Rd(a,s,!0),v=d;do{if(m===0){Vr&&!d&&mi(a,s,0,!1);break}else{if(c=a.current.alternate,v&&!a_(c)){m=Rd(a,s,!1),v=!1;continue}if(m===2){if(v=s,a.errorRecoveryDisabledLanes&v)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=a;m=rl;var x=T.current.memoizedState.isDehydrated;if(x&&(Yr(T,_).flags|=256),_=Rd(T,_,!1),_!==2){if(Ed&&!x){T.errorRecoveryDisabledLanes|=v,Xi|=v,m=4;break e}v=kn,kn=m,v!==null&&(kn===null?kn=v:kn.push.apply(kn,v))}m=_}if(v=!1,m!==2)continue}}if(m===1){Yr(a,0),mi(a,s,0,!0);break}e:{switch(d=a,v=m,v){case 0:case 1:throw Error(e(345));case 4:if((s&4194048)!==s)break;case 6:mi(d,s,Un,!ci);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(e(329))}if((s&62914560)===s&&(m=cu+300-Rn(),10<m)){if(mi(d,s,Un,!ci),Eo(d,0,!0)!==0)break e;ja=s,d.timeoutHandle=l0(xg.bind(null,d,c,kn,du,Cd,s,Un,Xi,Kr,ci,v,"Throttled",-0,0),m);break e}xg(d,c,kn,du,Cd,s,Un,Xi,Kr,ci,v,null,-0,0)}}break}while(!0);ma(a)}function xg(a,s,c,d,m,v,_,T,x,G,Z,ee,V,Y){if(a.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},kg(s,v,ee);var ve=(v&62914560)===v?cu-Rn():(v&4194048)===v?Ag-Rn():0;if(ve=j_(ee,ve),ve!==null){ja=v,a.cancelPendingCommit=ve(Pg.bind(null,a,s,v,c,d,m,_,T,x,Z,ee,null,V,Y)),mi(a,v,_,!G);return}}Pg(a,s,v,c,d,m,_,T,x)}function a_(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],v=m.getSnapshot;m=m.value;try{if(!Bn(v(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mi(a,s,c,d){s&=~kd,s&=~Xi,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var m=s;0<m;){var v=31-xn(m),_=1<<v;d[v]=-1,m&=~_}c!==0&&jm(a,c,s)}function hu(){return(We&6)===0?(ll(0),!1):!0}function Md(){if(je!==null){if(it===0)var a=je.return;else a=je,Oa=Hi=null,Gf(a),zr=null,qs=0,a=je;for(;a!==null;)og(a.alternate,a),a=a.return;je=null}}function Yr(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,k_(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ja=0,Md(),pt=a,je=c=Ma(a.current,null),Ge=s,it=0,Dn=null,ci=!1,Vr=Ts(a,s),Ed=!1,Kr=Un=kd=Xi=fi=Tt=0,kn=rl=null,Cd=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var m=31-xn(d),v=1<<m;s|=a[m],d&=~v}return Ha=s,Io(),c}function Bg(a,s){Ie=null,j.H=Zs,s===Ur||s===Fo?(s=Yp(),it=3):s===Bf?(s=Yp(),it=4):it=s===sd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,je===null&&(Tt=1,nu(a,Yn(s,a.current)))}function Ng(){var a=In.current;return a===null?!0:(Ge&4194048)===Ge?Qn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===Qn:!1}function Ig(){var a=j.H;return j.H=Zs,a===null?Zs:a}function Lg(){var a=j.A;return j.A=t_,a}function mu(){Tt=4,ci||(Ge&4194048)!==Ge&&In.current!==null||(Vr=!0),(fi&134217727)===0&&(Xi&134217727)===0||pt===null||mi(pt,Ge,Un,!1)}function Rd(a,s,c){var d=We;We|=2;var m=Ig(),v=Lg();(pt!==a||Ge!==s)&&(du=null,Yr(a,s)),s=!1;var _=Tt;e:do try{if(it!==0&&je!==null){var T=je,x=Dn;switch(it){case 8:Md(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var G=it;if(it=0,Dn=null,Xr(a,T,x,G),c&&Vr){_=0;break e}break;default:G=it,it=0,Dn=null,Xr(a,T,x,G)}}i_(),_=Tt;break}catch(Z){Bg(a,Z)}while(!0);return s&&a.shellSuspendCounter++,Oa=Hi=null,We=d,j.H=m,j.A=v,je===null&&(pt=null,Ge=0,Io()),_}function i_(){for(;je!==null;)Dg(je)}function r_(a,s){var c=We;We|=2;var d=Ig(),m=Lg();pt!==a||Ge!==s?(du=null,fu=Rn()+500,Yr(a,s)):Vr=Ts(a,s);e:do try{if(it!==0&&je!==null){s=je;var v=Dn;t:switch(it){case 1:it=0,Dn=null,Xr(a,s,v,1);break;case 2:case 9:if(Kp(v)){it=0,Dn=null,Ug(s);break}s=function(){it!==2&&it!==9||pt!==a||(it=7),ma(a)},v.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Kp(v)?(it=0,Dn=null,Ug(s)):(it=0,Dn=null,Xr(a,s,v,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(_?E0(_):T.stateNode.complete){it=0,Dn=null;var x=T.sibling;if(x!==null)je=x;else{var G=T.return;G!==null?(je=G,pu(G)):je=null}break t}}it=0,Dn=null,Xr(a,s,v,5);break;case 6:it=0,Dn=null,Xr(a,s,v,6);break;case 8:Md(),Tt=6;break e;default:throw Error(e(462))}}s_();break}catch(Z){Bg(a,Z)}while(!0);return Oa=Hi=null,j.H=d,j.A=m,We=c,je!==null?0:(pt=null,Ge=0,Io(),Tt)}function s_(){for(;je!==null&&!RS();)Dg(je)}function Dg(a){var s=sg(a.alternate,a,Ha);a.memoizedProps=a.pendingProps,s===null?pu(a):je=s}function Ug(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=eg(c,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=eg(c,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Gf(s);default:og(c,s),s=je=Lp(s,Ha),s=sg(c,s,Ha)}a.memoizedProps=a.pendingProps,s===null?pu(a):je=s}function Xr(a,s,c,d){Oa=Hi=null,Gf(s),zr=null,qs=0;var m=s.return;try{if(Y2(a,m,s,c,Ge)){Tt=1,nu(a,Yn(c,a.current)),je=null;return}}catch(v){if(m!==null)throw je=m,v;Tt=1,nu(a,Yn(c,a.current)),je=null;return}s.flags&32768?(Je||d===1?a=!0:Vr||(Ge&536870912)!==0?a=!1:(ci=a=!0,(d===2||d===9||d===3||d===6)&&(d=In.current,d!==null&&d.tag===13&&(d.flags|=16384))),zg(s,a)):pu(s)}function pu(a){var s=a;do{if((s.flags&32768)!==0){zg(s,ci);return}a=s.return;var c=Z2(s.alternate,s,Ha);if(c!==null){je=c;return}if(s=s.sibling,s!==null){je=s;return}je=s=a}while(s!==null);Tt===0&&(Tt=5)}function zg(a,s){do{var c=Q2(a.alternate,a);if(c!==null){c.flags&=32767,je=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){je=a;return}je=a=c}while(a!==null);Tt=6,je=null}function Pg(a,s,c,d,m,v,_,T,x){a.cancelPendingCommit=null;do vu();while(Kt!==0);if((We&6)!==0)throw Error(e(327));if(s!==null){if(s===a.current)throw Error(e(177));if(v=s.lanes|s.childLanes,v|=gf,PS(a,c,v,_,T,x),a===pt&&(je=pt=null,Ge=0),Jr=s,hi=a,ja=c,wd=v,Td=m,Mg=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,c_(yo,function(){return Gg(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=j.T,j.T=null,m=re.p,re.p=2,_=We,We|=4;try{W2(a,s,c)}finally{We=_,re.p=m,j.T=d}}Kt=1,Hg(),jg(),Fg()}}function Hg(){if(Kt===1){Kt=0;var a=hi,s=Jr,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var d=re.p;re.p=2;var m=We;We|=4;try{Sg(s,a);var v=jd,_=Tp(a.containerInfo),T=v.focusedElem,x=v.selectionRange;if(_!==T&&T&&T.ownerDocument&&wp(T.ownerDocument.documentElement,T)){if(x!==null&&df(T)){var G=x.start,Z=x.end;if(Z===void 0&&(Z=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,V=ee&&ee.defaultView||window;if(V.getSelection){var Y=V.getSelection(),ve=T.textContent.length,Te=Math.min(x.start,ve),ft=x.end===void 0?Te:Math.min(x.end,ve);!Y.extend&&Te>ft&&(_=ft,ft=Te,Te=_);var U=Cp(T,Te),N=Cp(T,ft);if(U&&N&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==N.node||Y.focusOffset!==N.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),Te>ft?(Y.addRange(q),Y.extend(N.node,N.offset)):(q.setEnd(N.node,N.offset),Y.addRange(q))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Mu=!!Hd,jd=Hd=null}finally{We=m,re.p=d,j.T=c}}a.current=s,Kt=2}}function jg(){if(Kt===2){Kt=0;var a=hi,s=Jr,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var d=re.p;re.p=2;var m=We;We|=4;try{pg(a,s.alternate,s)}finally{We=m,re.p=d,j.T=c}}Kt=3}}function Fg(){if(Kt===4||Kt===3){Kt=0,OS();var a=hi,s=Jr,c=ja,d=Mg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,Jr=hi=null,qg(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(di=null),Kc(c),s=s.stateNode,On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(ws,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=j.T,m=re.p,re.p=2,j.T=null;try{for(var v=a.onRecoverableError,_=0;_<d.length;_++){var T=d[_];v(T.value,{componentStack:T.stack})}}finally{j.T=s,re.p=m}}(ja&3)!==0&&vu(),ma(a),m=a.pendingLanes,(c&261930)!==0&&(m&42)!==0?a===Ad?sl++:(sl=0,Ad=a):sl=0,ll(0)}}function qg(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,js(s)))}function vu(){return Hg(),jg(),Fg(),Gg()}function Gg(){if(Kt!==5)return!1;var a=hi,s=wd;wd=0;var c=Kc(ja),d=j.T,m=re.p;try{re.p=32>c?32:c,j.T=null,c=Td,Td=null;var v=hi,_=ja;if(Kt=0,Jr=hi=null,ja=0,(We&6)!==0)throw Error(e(331));var T=We;if(We|=4,wg(v.current),Eg(v,v.current,_,c),We=T,ll(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(ws,v)}catch{}return!0}finally{re.p=m,j.T=d,qg(a,s)}}function Vg(a,s,c){s=Yn(c,s),s=rd(a.stateNode,s,2),a=si(a,s,2),a!==null&&(As(a,2),ma(a))}function rt(a,s,c){if(a.tag===3)Vg(a,a,c);else for(;s!==null;){if(s.tag===3){Vg(s,a,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(di===null||!di.has(d))){a=Yn(c,a),c=Kv(2),d=si(s,c,2),d!==null&&(Jv(c,d,s,a),As(d,2),ma(d));break}}s=s.return}}function Od(a,s,c){var d=a.pingCache;if(d===null){d=a.pingCache=new n_;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(c)||(Ed=!0,m.add(c),a=l_.bind(null,a,s,c),s.then(a,a))}function l_(a,s,c){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,pt===a&&(Ge&c)===c&&(Tt===4||Tt===3&&(Ge&62914560)===Ge&&300>Rn()-cu?(We&2)===0&&Yr(a,0):kd|=c,Kr===Ge&&(Kr=0)),ma(a)}function Kg(a,s){s===0&&(s=Hm()),a=Ui(a,s),a!==null&&(As(a,s),ma(a))}function o_(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Kg(a,c)}function u_(a,s){var c=0;switch(a.tag){case 31:case 13:var d=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(e(314))}d!==null&&d.delete(s),Kg(a,c)}function c_(a,s){return Fc(a,s)}var gu=null,$r=null,xd=!1,yu=!1,Bd=!1,pi=0;function ma(a){a!==$r&&a.next===null&&($r===null?gu=$r=a:$r=$r.next=a),yu=!0,xd||(xd=!0,d_())}function ll(a,s){if(!Bd&&yu){Bd=!0;do for(var c=!1,d=gu;d!==null;){if(a!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var _=d.suspendedLanes,T=d.pingedLanes;v=(1<<31-xn(42|a)+1)-1,v&=m&~(_&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,$g(d,v))}else v=Ge,v=Eo(d,d===pt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ts(d,v)||(c=!0,$g(d,v));d=d.next}while(c);Bd=!1}}function f_(){Jg()}function Jg(){yu=xd=!1;var a=0;pi!==0&&E_()&&(a=pi);for(var s=Rn(),c=null,d=gu;d!==null;){var m=d.next,v=Yg(d,s);v===0?(d.next=null,c===null?gu=m:c.next=m,m===null&&($r=c)):(c=d,(a!==0||(v&3)!==0)&&(yu=!0)),d=m}Kt!==0&&Kt!==5||ll(a),pi!==0&&(pi=0)}function Yg(a,s){for(var c=a.suspendedLanes,d=a.pingedLanes,m=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var _=31-xn(v),T=1<<_,x=m[_];x===-1?((T&c)===0||(T&d)!==0)&&(m[_]=zS(T,s)):x<=s&&(a.expiredLanes|=T),v&=~T}if(s=pt,c=Ge,c=Eo(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,c===0||a===s&&(it===2||it===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&qc(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ts(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(d!==null&&qc(d),Kc(c)){case 2:case 8:c=zm;break;case 32:c=yo;break;case 268435456:c=Pm;break;default:c=yo}return d=Xg.bind(null,a),c=Fc(c,d),a.callbackPriority=s,a.callbackNode=c,s}return d!==null&&d!==null&&qc(d),a.callbackPriority=2,a.callbackNode=null,2}function Xg(a,s){if(Kt!==0&&Kt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(vu()&&a.callbackNode!==c)return null;var d=Ge;return d=Eo(a,a===pt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Og(a,d,s),Yg(a,Rn()),a.callbackNode!=null&&a.callbackNode===c?Xg.bind(null,a):null)}function $g(a,s){if(vu())return null;Og(a,s,!0)}function d_(){C_(function(){(We&6)!==0?Fc(Um,f_):Jg()})}function Nd(){if(pi===0){var a=Lr;a===0&&(a=bo,bo<<=1,(bo&261888)===0&&(bo=256)),pi=a}return pi}function Zg(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:To(""+a)}function Qg(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function h_(a,s,c,d,m){if(s==="submit"&&c&&c.stateNode===m){var v=Zg((m[yn]||null).action),_=d.submitter;_&&(s=(s=_[yn]||null)?Zg(s.formAction):_.getAttribute("formAction"),s!==null&&(v=s,_=null));var T=new Oo("action","action",null,d,m);a.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(pi!==0){var x=_?Qg(m,_):new FormData(m);Wf(c,{pending:!0,data:x,method:m.method,action:v},null,x)}}else typeof v=="function"&&(T.preventDefault(),x=_?Qg(m,_):new FormData(m),Wf(c,{pending:!0,data:x,method:m.method,action:v},v,x))},currentTarget:m}]})}}for(var Id=0;Id<vf.length;Id++){var Ld=vf[Id],m_=Ld.toLowerCase(),p_=Ld[0].toUpperCase()+Ld.slice(1);oa(m_,"on"+p_)}oa(Rp,"onAnimationEnd"),oa(Op,"onAnimationIteration"),oa(xp,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(x2,"onTransitionRun"),oa(B2,"onTransitionStart"),oa(N2,"onTransitionCancel"),oa(Bp,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Wg(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],m=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var _=d.length-1;0<=_;_--){var T=d[_],x=T.instance,G=T.currentTarget;if(T=T.listener,x!==v&&m.isPropagationStopped())break e;v=T,m.currentTarget=G;try{v(m)}catch(Z){No(Z)}m.currentTarget=null,v=x}else for(_=0;_<d.length;_++){if(T=d[_],x=T.instance,G=T.currentTarget,T=T.listener,x!==v&&m.isPropagationStopped())break e;v=T,m.currentTarget=G;try{v(m)}catch(Z){No(Z)}m.currentTarget=null,v=x}}}}function Fe(a,s){var c=s[Jc];c===void 0&&(c=s[Jc]=new Set);var d=a+"__bubble";c.has(d)||(e0(s,a,2,!1),c.add(d))}function Dd(a,s,c){var d=0;s&&(d|=4),e0(c,a,d,s)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Ud(a){if(!a[bu]){a[bu]=!0,Jm.forEach(function(c){c!=="selectionchange"&&(v_.has(c)||Dd(c,!1,a),Dd(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[bu]||(s[bu]=!0,Dd("selectionchange",!1,s))}}function e0(a,s,c,d){switch(R0(s)){case 2:var m=G_;break;case 8:m=V_;break;default:m=Qd}c=m.bind(null,s,c,a),m=void 0,!nf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?a.addEventListener(s,c,{capture:!0,passive:m}):a.addEventListener(s,c,!0):m!==void 0?a.addEventListener(s,c,{passive:m}):a.addEventListener(s,c,!1)}function zd(a,s,c,d,m){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var T=d.stateNode.containerInfo;if(T===m)break;if(_===4)for(_=d.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;T!==null;){if(_=yr(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){d=v=_;continue e}T=T.parentNode}}d=d.return}rp(function(){var G=v,Z=ef(c),ee=[];e:{var V=Np.get(a);if(V!==void 0){var Y=Oo,ve=a;switch(a){case"keypress":if(Mo(c)===0)break e;case"keydown":case"keyup":Y=u2;break;case"focusin":ve="focus",Y=lf;break;case"focusout":ve="blur",Y=lf;break;case"beforeblur":case"afterblur":Y=lf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=d2;break;case Rp:case Op:case xp:Y=e2;break;case Bp:Y=m2;break;case"scroll":case"scrollend":Y=XS;break;case"wheel":Y=v2;break;case"copy":case"cut":case"paste":Y=n2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cp;break;case"toggle":case"beforetoggle":Y=y2}var Te=(s&4)!==0,ft=!Te&&(a==="scroll"||a==="scrollend"),U=Te?V!==null?V+"Capture":null:V;Te=[];for(var N=G,q;N!==null;){var W=N;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||U===null||(W=Os(N,U),W!=null&&Te.push(ul(N,W,q))),ft)break;N=N.return}0<Te.length&&(V=new Y(V,ve,null,c,Z),ee.push({event:V,listeners:Te}))}}if((s&7)===0){e:{if(V=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",V&&c!==Wc&&(ve=c.relatedTarget||c.fromElement)&&(yr(ve)||ve[gr]))break e;if((Y||V)&&(V=Z.window===Z?Z:(V=Z.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(ve=c.relatedTarget||c.toElement,Y=G,ve=ve?yr(ve):null,ve!==null&&(ft=r(ve),Te=ve.tag,ve!==ft||Te!==5&&Te!==27&&Te!==6)&&(ve=null)):(Y=null,ve=G),Y!==ve)){if(Te=op,W="onMouseLeave",U="onMouseEnter",N="mouse",(a==="pointerout"||a==="pointerover")&&(Te=cp,W="onPointerLeave",U="onPointerEnter",N="pointer"),ft=Y==null?V:Rs(Y),q=ve==null?V:Rs(ve),V=new Te(W,N+"leave",Y,c,Z),V.target=ft,V.relatedTarget=q,W=null,yr(Z)===G&&(Te=new Te(U,N+"enter",ve,c,Z),Te.target=q,Te.relatedTarget=ft,W=Te),ft=W,Y&&ve)t:{for(Te=g_,U=Y,N=ve,q=0,W=U;W;W=Te(W))q++;W=0;for(var Ce=N;Ce;Ce=Te(Ce))W++;for(;0<q-W;)U=Te(U),q--;for(;0<W-q;)N=Te(N),W--;for(;q--;){if(U===N||N!==null&&U===N.alternate){Te=U;break t}U=Te(U),N=Te(N)}Te=null}else Te=null;Y!==null&&t0(ee,V,Y,Te,!1),ve!==null&&ft!==null&&t0(ee,ft,ve,Te,!0)}}e:{if(V=G?Rs(G):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var $e=yp;else if(vp(V))if(bp)$e=M2;else{$e=T2;var _e=w2}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?G&&Qc(G.elementType)&&($e=yp):$e=A2;if($e&&($e=$e(a,G))){gp(ee,$e,c,Z);break e}_e&&_e(a,V,G),a==="focusout"&&G&&V.type==="number"&&G.memoizedProps.value!=null&&Zc(V,"number",V.value)}switch(_e=G?Rs(G):window,a){case"focusin":(vp(_e)||_e.contentEditable==="true")&&(Ar=_e,hf=G,zs=null);break;case"focusout":zs=hf=Ar=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Ap(ee,c,Z);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":Ap(ee,c,Z)}var Le;if(uf)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Tr?mp(a,c)&&(Ve="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(fp&&c.locale!=="ko"&&(Tr||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Tr&&(Le=sp()):(Wa=Z,af="value"in Wa?Wa.value:Wa.textContent,Tr=!0)),_e=Su(G,Ve),0<_e.length&&(Ve=new up(Ve,a,null,c,Z),ee.push({event:Ve,listeners:_e}),Le?Ve.data=Le:(Le=pp(c),Le!==null&&(Ve.data=Le)))),(Le=S2?_2(a,c):E2(a,c))&&(Ve=Su(G,"onBeforeInput"),0<Ve.length&&(_e=new up("onBeforeInput","beforeinput",null,c,Z),ee.push({event:_e,listeners:Ve}),_e.data=Le)),h_(ee,a,G,c,Z)}Wg(ee,s)})}function ul(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Su(a,s){for(var c=s+"Capture",d=[];a!==null;){var m=a,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Os(a,c),m!=null&&d.unshift(ul(a,m,v)),m=Os(a,s),m!=null&&d.push(ul(a,m,v))),a.tag===3)return d;a=a.return}return[]}function g_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function t0(a,s,c,d,m){for(var v=s._reactName,_=[];c!==null&&c!==d;){var T=c,x=T.alternate,G=T.stateNode;if(T=T.tag,x!==null&&x===d)break;T!==5&&T!==26&&T!==27||G===null||(x=G,m?(G=Os(c,v),G!=null&&_.unshift(ul(c,G,x))):m||(G=Os(c,v),G!=null&&_.push(ul(c,G,x)))),c=c.return}_.length!==0&&a.push({event:s,listeners:_})}var y_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function n0(a){return(typeof a=="string"?a:""+a).replace(y_,`
`).replace(b_,"")}function a0(a,s){return s=n0(s),n0(a)===s}function ct(a,s,c,d,m,v){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||kr(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&kr(a,""+d);break;case"className":Co(a,"class",d);break;case"tabIndex":Co(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(a,c,d);break;case"style":ap(a,d,v);break;case"data":if(s!=="object"){Co(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=To(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(s!=="input"&&ct(a,s,"name",m.name,m,null),ct(a,s,"formEncType",m.formEncType,m,null),ct(a,s,"formMethod",m.formMethod,m,null),ct(a,s,"formTarget",m.formTarget,m,null)):(ct(a,s,"encType",m.encType,m,null),ct(a,s,"method",m.method,m,null),ct(a,s,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=To(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=Ta);break;case"onScroll":d!=null&&Fe("scroll",a);break;case"onScrollEnd":d!=null&&Fe("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(e(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(e(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=To(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":Fe("beforetoggle",a),Fe("toggle",a),ko(a,"popover",d);break;case"xlinkActuate":wa(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":wa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":wa(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":wa(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":wa(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":wa(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":wa(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":wa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":wa(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ko(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=JS.get(c)||c,ko(a,c,d))}}function Pd(a,s,c,d,m,v){switch(c){case"style":ap(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(e(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(e(60));a.innerHTML=c}}break;case"children":typeof d=="string"?kr(a,d):(typeof d=="number"||typeof d=="bigint")&&kr(a,""+d);break;case"onScroll":d!=null&&Fe("scroll",a);break;case"onScrollEnd":d!=null&&Fe("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ym.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),v=a[yn]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(s,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,d,m);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):ko(a,c,d)}}}function an(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",a),Fe("load",a);var d=!1,m=!1,v;for(v in c)if(c.hasOwnProperty(v)){var _=c[v];if(_!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(e(137,s));default:ct(a,s,v,_,c,null)}}m&&ct(a,s,"srcSet",c.srcSet,c,null),d&&ct(a,s,"src",c.src,c,null);return;case"input":Fe("invalid",a);var T=v=_=m=null,x=null,G=null;for(d in c)if(c.hasOwnProperty(d)){var Z=c[d];if(Z!=null)switch(d){case"name":m=Z;break;case"type":_=Z;break;case"checked":x=Z;break;case"defaultChecked":G=Z;break;case"value":v=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(e(137,s));break;default:ct(a,s,d,Z,c,null)}}Wm(a,v,T,x,G,_,m,!1);return;case"select":Fe("invalid",a),d=_=v=null;for(m in c)if(c.hasOwnProperty(m)&&(T=c[m],T!=null))switch(m){case"value":v=T;break;case"defaultValue":_=T;break;case"multiple":d=T;default:ct(a,s,m,T,c,null)}s=v,c=_,a.multiple=!!d,s!=null?Er(a,!!d,s,!1):c!=null&&Er(a,!!d,c,!0);return;case"textarea":Fe("invalid",a),v=m=d=null;for(_ in c)if(c.hasOwnProperty(_)&&(T=c[_],T!=null))switch(_){case"value":d=T;break;case"defaultValue":m=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(e(91));break;default:ct(a,s,_,T,c,null)}tp(a,d,m,v);return;case"option":for(x in c)c.hasOwnProperty(x)&&(d=c[x],d!=null)&&(x==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":ct(a,s,x,d,c,null));return;case"dialog":Fe("beforetoggle",a),Fe("toggle",a),Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":Fe("load",a);break;case"video":case"audio":for(d=0;d<ol.length;d++)Fe(ol[d],a);break;case"image":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"embed":case"source":case"link":Fe("error",a),Fe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(d=c[G],d!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(e(137,s));default:ct(a,s,G,d,c,null)}return;default:if(Qc(s)){for(Z in c)c.hasOwnProperty(Z)&&(d=c[Z],d!==void 0&&Pd(a,s,Z,d,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(d=c[T],d!=null&&ct(a,s,T,d,c,null))}function S_(a,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,_=null,T=null,x=null,G=null,Z=null;for(Y in c){var ee=c[Y];if(c.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=ee;default:d.hasOwnProperty(Y)||ct(a,s,Y,null,d,ee)}}for(var V in d){var Y=d[V];if(ee=c[V],d.hasOwnProperty(V)&&(Y!=null||ee!=null))switch(V){case"type":v=Y;break;case"name":m=Y;break;case"checked":G=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(e(137,s));break;default:Y!==ee&&ct(a,s,V,Y,d,ee)}}$c(a,_,T,x,G,Z,v,m);return;case"select":Y=_=T=V=null;for(v in c)if(x=c[v],c.hasOwnProperty(v)&&x!=null)switch(v){case"value":break;case"multiple":Y=x;default:d.hasOwnProperty(v)||ct(a,s,v,null,d,x)}for(m in d)if(v=d[m],x=c[m],d.hasOwnProperty(m)&&(v!=null||x!=null))switch(m){case"value":V=v;break;case"defaultValue":T=v;break;case"multiple":_=v;default:v!==x&&ct(a,s,m,v,d,x)}s=T,c=_,d=Y,V!=null?Er(a,!!c,V,!1):!!d!=!!c&&(s!=null?Er(a,!!c,s,!0):Er(a,!!c,c?[]:"",!1));return;case"textarea":Y=V=null;for(T in c)if(m=c[T],c.hasOwnProperty(T)&&m!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(a,s,T,null,d,m)}for(_ in d)if(m=d[_],v=c[_],d.hasOwnProperty(_)&&(m!=null||v!=null))switch(_){case"value":V=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(e(91));break;default:m!==v&&ct(a,s,_,m,d,v)}ep(a,V,Y);return;case"option":for(var ve in c)V=c[ve],c.hasOwnProperty(ve)&&V!=null&&!d.hasOwnProperty(ve)&&(ve==="selected"?a.selected=!1:ct(a,s,ve,null,d,V));for(x in d)V=d[x],Y=c[x],d.hasOwnProperty(x)&&V!==Y&&(V!=null||Y!=null)&&(x==="selected"?a.selected=V&&typeof V!="function"&&typeof V!="symbol":ct(a,s,x,V,d,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)V=c[Te],c.hasOwnProperty(Te)&&V!=null&&!d.hasOwnProperty(Te)&&ct(a,s,Te,null,d,V);for(G in d)if(V=d[G],Y=c[G],d.hasOwnProperty(G)&&V!==Y&&(V!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(e(137,s));break;default:ct(a,s,G,V,d,Y)}return;default:if(Qc(s)){for(var ft in c)V=c[ft],c.hasOwnProperty(ft)&&V!==void 0&&!d.hasOwnProperty(ft)&&Pd(a,s,ft,void 0,d,V);for(Z in d)V=d[Z],Y=c[Z],!d.hasOwnProperty(Z)||V===Y||V===void 0&&Y===void 0||Pd(a,s,Z,V,d,Y);return}}for(var U in c)V=c[U],c.hasOwnProperty(U)&&V!=null&&!d.hasOwnProperty(U)&&ct(a,s,U,null,d,V);for(ee in d)V=d[ee],Y=c[ee],!d.hasOwnProperty(ee)||V===Y||V==null&&Y==null||ct(a,s,ee,V,d,Y)}function i0(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function __(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var m=c[d],v=m.transferSize,_=m.initiatorType,T=m.duration;if(v&&T&&i0(_)){for(_=0,T=m.responseEnd,d+=1;d<c.length;d++){var x=c[d],G=x.startTime;if(G>T)break;var Z=x.transferSize,ee=x.initiatorType;Z&&i0(ee)&&(x=x.responseEnd,_+=Z*(x<T?1:(T-G)/(x-G)))}if(--d,s+=8*(v+_)/(m.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Hd=null,jd=null;function _u(a){return a.nodeType===9?a:a.ownerDocument}function r0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Fd(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qd=null;function E_(){var a=window.event;return a&&a.type==="popstate"?a===qd?!1:(qd=a,!0):(qd=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,k_=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,C_=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(a){return o0.resolve(null).then(a).catch(w_)}:l0;function w_(a){setTimeout(function(){throw a})}function vi(a){return a==="head"}function u0(a,s){var c=s,d=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(d===0){a.removeChild(m),es(s);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")cl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,cl(c);for(var v=c.firstChild;v;){var _=v.nextSibling,T=v.nodeName;v[Ms]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=_}}else c==="body"&&cl(a.ownerDocument.body);c=m}while(c);es(s)}function c0(a,s){var c=a;a=0;do{var d=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=d}while(c)}function Gd(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Gd(c),Yc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function T_(a,s,c,d){for(;a.nodeType===1;){var m=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Ms])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Wn(a.nextSibling),a===null)break}return null}function A_(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Wn(a.nextSibling),a===null))return null;return a}function f0(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Wn(a.nextSibling),a===null))return null;return a}function Vd(a){return a.data==="$?"||a.data==="$~"}function Kd(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function M_(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Wn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Jd=null;function d0(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Wn(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function h0(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function m0(a,s,c){switch(s=_u(c),a){case"html":if(a=s.documentElement,!a)throw Error(e(452));return a;case"head":if(a=s.head,!a)throw Error(e(453));return a;case"body":if(a=s.body,!a)throw Error(e(454));return a;default:throw Error(e(451))}}function cl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Yc(a)}var ea=new Map,p0=new Set;function Eu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fa=re.d;re.d={f:R_,r:O_,D:x_,C:B_,L:N_,m:I_,X:D_,S:L_,M:U_};function R_(){var a=Fa.f(),s=hu();return a||s}function O_(a){var s=br(a);s!==null&&s.tag===5&&s.type==="form"?Bv(s):Fa.r(a)}var Zr=typeof document>"u"?null:document;function v0(a,s,c){var d=Zr;if(d&&typeof s=="string"&&s){var m=Kn(s);m='link[rel="'+a+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),p0.has(m)||(p0.add(m),a={rel:a,crossOrigin:c,href:s},d.querySelector(m)===null&&(s=d.createElement("link"),an(s,"link",a),Zt(s),d.head.appendChild(s)))}}function x_(a){Fa.D(a),v0("dns-prefetch",a,null)}function B_(a,s){Fa.C(a,s),v0("preconnect",a,s)}function N_(a,s,c){Fa.L(a,s,c);var d=Zr;if(d&&a&&s){var m='link[rel="preload"][as="'+Kn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Kn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Kn(c.imageSizes)+'"]')):m+='[href="'+Kn(a)+'"]';var v=m;switch(s){case"style":v=Qr(a);break;case"script":v=Wr(a)}ea.has(v)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),ea.set(v,a),d.querySelector(m)!==null||s==="style"&&d.querySelector(fl(v))||s==="script"&&d.querySelector(dl(v))||(s=d.createElement("link"),an(s,"link",a),Zt(s),d.head.appendChild(s)))}}function I_(a,s){Fa.m(a,s);var c=Zr;if(c&&a){var d=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Kn(d)+'"][href="'+Kn(a)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Wr(a)}if(!ea.has(v)&&(a=g({rel:"modulepreload",href:a},s),ea.set(v,a),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(dl(v)))return}d=c.createElement("link"),an(d,"link",a),Zt(d),c.head.appendChild(d)}}}function L_(a,s,c){Fa.S(a,s,c);var d=Zr;if(d&&a){var m=Sr(d).hoistableStyles,v=Qr(a);s=s||"default";var _=m.get(v);if(!_){var T={loading:0,preload:null};if(_=d.querySelector(fl(v)))T.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=ea.get(v))&&Yd(a,c);var x=_=d.createElement("link");Zt(x),an(x,"link",a),x._p=new Promise(function(G,Z){x.onload=G,x.onerror=Z}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ku(_,s,d)}_={type:"stylesheet",instance:_,count:1,state:T},m.set(v,_)}}}function D_(a,s){Fa.X(a,s);var c=Zr;if(c&&a){var d=Sr(c).hoistableScripts,m=Wr(a),v=d.get(m);v||(v=c.querySelector(dl(m)),v||(a=g({src:a,async:!0},s),(s=ea.get(m))&&Xd(a,s),v=c.createElement("script"),Zt(v),an(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function U_(a,s){Fa.M(a,s);var c=Zr;if(c&&a){var d=Sr(c).hoistableScripts,m=Wr(a),v=d.get(m);v||(v=c.querySelector(dl(m)),v||(a=g({src:a,async:!0,type:"module"},s),(s=ea.get(m))&&Xd(a,s),v=c.createElement("script"),Zt(v),an(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function g0(a,s,c,d){var m=(m=He.current)?Eu(m):null;if(!m)throw Error(e(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Qr(c.href),c=Sr(m).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Qr(c.href);var v=Sr(m).hoistableStyles,_=v.get(a);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,_),(v=m.querySelector(fl(a)))&&!v._p&&(_.instance=v,_.state.loading=5),ea.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ea.set(a,c),v||z_(m,a,c,_.state))),s&&d===null)throw Error(e(528,""));return _}if(s&&d!==null)throw Error(e(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wr(c),c=Sr(m).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(e(444,a))}}function Qr(a){return'href="'+Kn(a)+'"'}function fl(a){return'link[rel="stylesheet"]['+a+"]"}function y0(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function z_(a,s,c,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),an(s,"link",c),Zt(s),a.head.appendChild(s))}function Wr(a){return'[src="'+Kn(a)+'"]'}function dl(a){return"script[async]"+a}function b0(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+Kn(c.href)+'"]');if(d)return s.instance=d,Zt(d),d;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Zt(d),an(d,"style",m),ku(d,c.precedence,a),s.instance=d;case"stylesheet":m=Qr(c.href);var v=a.querySelector(fl(m));if(v)return s.state.loading|=4,s.instance=v,Zt(v),v;d=y0(c),(m=ea.get(m))&&Yd(d,m),v=(a.ownerDocument||a).createElement("link"),Zt(v);var _=v;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),an(v,"link",d),s.state.loading|=4,ku(v,c.precedence,a),s.instance=v;case"script":return v=Wr(c.src),(m=a.querySelector(dl(v)))?(s.instance=m,Zt(m),m):(d=c,(m=ea.get(v))&&(d=g({},c),Xd(d,m)),a=a.ownerDocument||a,m=a.createElement("script"),Zt(m),an(m,"link",d),a.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(e(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,ku(d,c.precedence,a));return s.instance}function ku(a,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,_=0;_<d.length;_++){var T=d[_];if(T.dataset.precedence===s)v=T;else if(v!==m)break}v?v.parentNode.insertBefore(a,v.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Yd(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Xd(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Cu=null;function S0(a,s,c){if(Cu===null){var d=new Map,m=Cu=new Map;m.set(c,d)}else m=Cu,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),m=0;m<c.length;m++){var v=c[m];if(!(v[Ms]||v[Wt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(s)||"";_=a+_;var T=d.get(_);T?T.push(v):d.set(_,[v])}}return d}function _0(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function P_(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function E0(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function H_(a,s,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=Qr(d.href),v=s.querySelector(fl(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=wu.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=v,Zt(v);return}v=s.ownerDocument||s,d=y0(d),(m=ea.get(m))&&Yd(d,m),v=v.createElement("link"),Zt(v);var _=v;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),an(v,"link",d),c.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=wu.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var $d=0;function j_(a,s){return a.stylesheets&&a.count===0&&Au(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var d=setTimeout(function(){if(a.stylesheets&&Au(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+s);0<a.imgBytes&&$d===0&&($d=62500*__());var m=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Au(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>$d?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tu=null;function Au(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tu=new Map,s.forEach(F_,a),Tu=null,wu.call(a))}function F_(a,s){if(!(s.state.loading&4)){var c=Tu.get(a);if(c)var d=c.get(null);else{c=new Map,Tu.set(a,c);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var _=m[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(c.set(_.dataset.precedence,_),d=_)}d&&c.set(null,d)}m=s.instance,_=m.getAttribute("data-precedence"),v=c.get(_)||d,v===d&&c.set(null,m),c.set(_,m),this.count++,d=wu.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),s.state.loading|=4}}var hl={$$typeof:K,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function q_(a,s,c,d,m,v,_,T,x){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function k0(a,s,c,d,m,v,_,T,x,G,Z,ee){return a=new q_(a,s,c,_,x,G,Z,ee,T),s=1,v===!0&&(s|=24),v=Nn(3,null,null,s),a.current=v,v.stateNode=a,s=Rf(),s.refCount++,a.pooledCache=s,s.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:s},Nf(v),a}function C0(a){return a?(a=Or,a):Or}function w0(a,s,c,d,m,v){m=C0(m),d.context===null?d.context=m:d.pendingContext=m,d=ri(s),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=si(a,d,s),c!==null&&(Cn(c,a,s),Vs(c,a,s))}function T0(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Zd(a,s){T0(a,s),(a=a.alternate)&&T0(a,s)}function A0(a){if(a.tag===13||a.tag===31){var s=Ui(a,67108864);s!==null&&Cn(s,a,67108864),Zd(a,67108864)}}function M0(a){if(a.tag===13||a.tag===31){var s=zn();s=Vc(s);var c=Ui(a,s);c!==null&&Cn(c,a,s),Zd(a,s)}}var Mu=!0;function G_(a,s,c,d){var m=j.T;j.T=null;var v=re.p;try{re.p=2,Qd(a,s,c,d)}finally{re.p=v,j.T=m}}function V_(a,s,c,d){var m=j.T;j.T=null;var v=re.p;try{re.p=8,Qd(a,s,c,d)}finally{re.p=v,j.T=m}}function Qd(a,s,c,d){if(Mu){var m=Wd(d);if(m===null)zd(a,s,d,Ru,c),O0(a,d);else if(J_(m,a,s,c,d))d.stopPropagation();else if(O0(a,d),s&4&&-1<K_.indexOf(a)){for(;m!==null;){var v=br(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Bi(v.pendingLanes);if(_!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-xn(_);T.entanglements[1]|=x,_&=~x}ma(v),(We&6)===0&&(fu=Rn()+500,ll(0))}}break;case 31:case 13:T=Ui(v,2),T!==null&&Cn(T,v,2),hu(),Zd(v,2)}if(v=Wd(d),v===null&&zd(a,s,d,Ru,c),v===m)break;m=v}m!==null&&d.stopPropagation()}else zd(a,s,d,null,c)}}function Wd(a){return a=ef(a),eh(a)}var Ru=null;function eh(a){if(Ru=null,a=yr(a),a!==null){var s=r(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=o(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Ru=a,null}function R0(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xS()){case Um:return 2;case zm:return 8;case yo:case BS:return 32;case Pm:return 268435456;default:return 32}default:return 32}}var th=!1,gi=null,yi=null,bi=null,ml=new Map,pl=new Map,Si=[],K_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O0(a,s){switch(a){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(s.pointerId)}}function vl(a,s,c,d,m,v){return a===null||a.nativeEvent!==v?(a={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},s!==null&&(s=br(s),s!==null&&A0(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function J_(a,s,c,d,m){switch(s){case"focusin":return gi=vl(gi,a,s,c,d,m),!0;case"dragenter":return yi=vl(yi,a,s,c,d,m),!0;case"mouseover":return bi=vl(bi,a,s,c,d,m),!0;case"pointerover":var v=m.pointerId;return ml.set(v,vl(ml.get(v)||null,a,s,c,d,m)),!0;case"gotpointercapture":return v=m.pointerId,pl.set(v,vl(pl.get(v)||null,a,s,c,d,m)),!0}return!1}function x0(a){var s=yr(a.target);if(s!==null){var c=r(s);if(c!==null){if(s=c.tag,s===13){if(s=o(c),s!==null){a.blockedOn=s,Vm(a.priority,function(){M0(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,Vm(a.priority,function(){M0(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ou(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Wd(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);Wc=d,c.target.dispatchEvent(d),Wc=null}else return s=br(c),s!==null&&A0(s),a.blockedOn=c,!1;s.shift()}return!0}function B0(a,s,c){Ou(a)&&c.delete(s)}function Y_(){th=!1,gi!==null&&Ou(gi)&&(gi=null),yi!==null&&Ou(yi)&&(yi=null),bi!==null&&Ou(bi)&&(bi=null),ml.forEach(B0),pl.forEach(B0)}function xu(a,s){a.blockedOn===s&&(a.blockedOn=null,th||(th=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Y_)))}var Bu=null;function N0(a){Bu!==a&&(Bu=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bu===a&&(Bu=null);for(var s=0;s<a.length;s+=3){var c=a[s],d=a[s+1],m=a[s+2];if(typeof d!="function"){if(eh(d||c)===null)continue;break}var v=br(c);v!==null&&(a.splice(s,3),s-=3,Wf(v,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function es(a){function s(x){return xu(x,a)}gi!==null&&xu(gi,a),yi!==null&&xu(yi,a),bi!==null&&xu(bi,a),ml.forEach(s),pl.forEach(s);for(var c=0;c<Si.length;c++){var d=Si[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Si.length&&(c=Si[0],c.blockedOn===null);)x0(c),c.blockedOn===null&&Si.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],_=m[yn]||null;if(typeof v=="function")_||N0(c);else if(_){var T=null;if(v&&v.hasAttribute("formAction")){if(m=v,_=v[yn]||null)T=_.formAction;else if(eh(m)!==null)continue}else T=_.action;typeof T=="function"?c[d+1]=T:(c.splice(d,3),d-=3),N0(c)}}}function I0(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function nh(a){this._internalRoot=a}Nu.prototype.render=nh.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(e(409));var c=s.current,d=zn();w0(c,d,a,s,null,null)},Nu.prototype.unmount=nh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;w0(a.current,2,null,a,null,null),hu(),s[gr]=null}};function Nu(a){this._internalRoot=a}Nu.prototype.unstable_scheduleHydration=function(a){if(a){var s=Gm();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Si.length&&s!==0&&s<Si[c].priority;c++);Si.splice(c,0,a),c===0&&x0(a)}};var L0=l.version;if(L0!=="19.2.3")throw Error(e(527,L0,"19.2.3"));re.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(e(188)):(a=Object.keys(a).join(","),Error(e(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var X_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{ws=Iu.inject(X_),On=Iu}catch{}}return yl.createRoot=function(a,s){if(!n(a))throw Error(e(299));var c=!1,d="",m=Fv,v=qv,_=Gv;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=k0(a,1,!1,null,null,c,d,null,m,v,_,I0),a[gr]=s.current,Ud(a),new nh(s)},yl.hydrateRoot=function(a,s,c){if(!n(a))throw Error(e(299));var d=!1,m="",v=Fv,_=qv,T=Gv,x=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&(x=c.formState)),s=k0(a,1,!0,s,c??null,d,m,x,v,_,T,I0),s.context=C0(null),c=s.current,d=zn(),d=Vc(d),m=ri(d),m.callback=null,si(c,m,d),c=d,s.current.lanes=c,As(s,c),ma(s),a[gr]=s.current,Ud(a),new Nu(s)},yl.version="19.2.3",yl}var V0;function oE(){if(V0)return rh.exports;V0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(l){console.error(l)}}return i(),rh.exports=lE(),rh.exports}var uE=oE(),uh={exports:{}},ch={};var K0;function cE(){if(K0)return ch;K0=1;var i=hc().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return ch.c=function(l){return i.H.useMemoCache(l)},ch}var J0;function fE(){return J0||(J0=1,uh.exports=cE()),uh.exports}var dE=fE();const eo={black:"#000",white:"#fff"},ts={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ns={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},as={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},is={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},rs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},bl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},hE={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ir(i,...l){const t=new URL(`https://mui.com/production-error/?code=${i}`);return l.forEach(e=>t.searchParams.append("args[]",e)),`Minified MUI error #${i}; visit ${t} for the full message.`}const O1="$$material";function wh(){return wh=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var e in t)({}).hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},wh.apply(null,arguments)}function mE(i){if(i.sheet)return i.sheet;for(var l=0;l<document.styleSheets.length;l++)if(document.styleSheets[l].ownerNode===i)return document.styleSheets[l]}function pE(i){var l=document.createElement("style");return l.setAttribute("data-emotion",i.key),i.nonce!==void 0&&l.setAttribute("nonce",i.nonce),l.appendChild(document.createTextNode("")),l.setAttribute("data-s",""),l}var vE=(function(){function i(t){var e=this;this._insertTag=function(n){var r;e.tags.length===0?e.insertionPoint?r=e.insertionPoint.nextSibling:e.prepend?r=e.container.firstChild:r=e.before:r=e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(n,r),e.tags.push(n)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var l=i.prototype;return l.hydrate=function(e){e.forEach(this._insertTag)},l.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pE(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=mE(n);try{r.insertRule(e,r.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(e));this.ctr++},l.flush=function(){this.tags.forEach(function(e){var n;return(n=e.parentNode)==null?void 0:n.removeChild(e)}),this.tags=[],this.ctr=0},i})(),cn="-ms-",sc="-moz-",et="-webkit-",x1="comm",em="rule",tm="decl",gE="@import",B1="@keyframes",yE="@layer",bE=Math.abs,mc=String.fromCharCode,SE=Object.assign;function _E(i,l){return rn(i,0)^45?(((l<<2^rn(i,0))<<2^rn(i,1))<<2^rn(i,2))<<2^rn(i,3):0}function N1(i){return i.trim()}function EE(i,l){return(i=l.exec(i))?i[0]:i}function tt(i,l,t){return i.replace(l,t)}function Th(i,l){return i.indexOf(l)}function rn(i,l){return i.charCodeAt(l)|0}function to(i,l,t){return i.slice(l,t)}function ga(i){return i.length}function nm(i){return i.length}function Lu(i,l){return l.push(i),i}function kE(i,l){return i.map(l).join("")}var pc=1,ps=1,I1=0,Mn=0,qt=0,ys="";function vc(i,l,t,e,n,r,o){return{value:i,root:l,parent:t,type:e,props:n,children:r,line:pc,column:ps,length:o,return:""}}function Sl(i,l){return SE(vc("",null,null,"",null,null,0),i,{length:-i.length},l)}function CE(){return qt}function wE(){return qt=Mn>0?rn(ys,--Mn):0,ps--,qt===10&&(ps=1,pc--),qt}function jn(){return qt=Mn<I1?rn(ys,Mn++):0,ps++,qt===10&&(ps=1,pc++),qt}function Ea(){return rn(ys,Mn)}function Vu(){return Mn}function fo(i,l){return to(ys,i,l)}function no(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L1(i){return pc=ps=1,I1=ga(ys=i),Mn=0,[]}function D1(i){return ys="",i}function Ku(i){return N1(fo(Mn-1,Ah(i===91?i+2:i===40?i+1:i)))}function TE(i){for(;(qt=Ea())&&qt<33;)jn();return no(i)>2||no(qt)>3?"":" "}function AE(i,l){for(;--l&&jn()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return fo(i,Vu()+(l<6&&Ea()==32&&jn()==32))}function Ah(i){for(;jn();)switch(qt){case i:return Mn;case 34:case 39:i!==34&&i!==39&&Ah(qt);break;case 40:i===41&&Ah(i);break;case 92:jn();break}return Mn}function ME(i,l){for(;jn()&&i+qt!==57;)if(i+qt===84&&Ea()===47)break;return"/*"+fo(l,Mn-1)+"*"+mc(i===47?i:jn())}function RE(i){for(;!no(Ea());)jn();return fo(i,Mn)}function OE(i){return D1(Ju("",null,null,null,[""],i=L1(i),0,[0],i))}function Ju(i,l,t,e,n,r,o,u,f){for(var h=0,p=0,g=o,y=0,b=0,E=0,S=1,A=1,R=1,L=0,K="",F=n,ne=r,J=e,$=K;A;)switch(E=L,L=jn()){case 40:if(E!=108&&rn($,g-1)==58){Th($+=tt(Ku(L),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:$+=Ku(L);break;case 9:case 10:case 13:case 32:$+=TE(E);break;case 92:$+=AE(Vu()-1,7);continue;case 47:switch(Ea()){case 42:case 47:Lu(xE(ME(jn(),Vu()),l,t),f);break;default:$+="/"}break;case 123*S:u[h++]=ga($)*R;case 125*S:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+p:R==-1&&($=tt($,/\f/g,"")),b>0&&ga($)-g&&Lu(b>32?X0($+";",e,t,g-1):X0(tt($," ","")+";",e,t,g-2),f);break;case 59:$+=";";default:if(Lu(J=Y0($,l,t,h,p,n,u,K,F=[],ne=[],g),r),L===123)if(p===0)Ju($,l,J,J,F,r,g,u,ne);else switch(y===99&&rn($,3)===110?100:y){case 100:case 108:case 109:case 115:Ju(i,J,J,e&&Lu(Y0(i,J,J,0,0,n,u,K,n,F=[],g),ne),n,ne,g,u,e?F:ne);break;default:Ju($,J,J,J,[""],ne,0,u,ne)}}h=p=b=0,S=R=1,K=$="",g=o;break;case 58:g=1+ga($),b=E;default:if(S<1){if(L==123)--S;else if(L==125&&S++==0&&wE()==125)continue}switch($+=mc(L),L*S){case 38:R=p>0?1:($+="\f",-1);break;case 44:u[h++]=(ga($)-1)*R,R=1;break;case 64:Ea()===45&&($+=Ku(jn())),y=Ea(),p=g=ga(K=$+=RE(Vu())),L++;break;case 45:E===45&&ga($)==2&&(S=0)}}return r}function Y0(i,l,t,e,n,r,o,u,f,h,p){for(var g=n-1,y=n===0?r:[""],b=nm(y),E=0,S=0,A=0;E<e;++E)for(var R=0,L=to(i,g+1,g=bE(S=o[E])),K=i;R<b;++R)(K=N1(S>0?y[R]+" "+L:tt(L,/&\f/g,y[R])))&&(f[A++]=K);return vc(i,l,t,n===0?em:u,f,h,p)}function xE(i,l,t){return vc(i,l,t,x1,mc(CE()),to(i,2,-2),0)}function X0(i,l,t,e){return vc(i,l,t,tm,to(i,0,e),to(i,e+1,-1),e)}function cs(i,l){for(var t="",e=nm(i),n=0;n<e;n++)t+=l(i[n],n,i,l)||"";return t}function BE(i,l,t,e){switch(i.type){case yE:if(i.children.length)break;case gE:case tm:return i.return=i.return||i.value;case x1:return"";case B1:return i.return=i.value+"{"+cs(i.children,e)+"}";case em:i.value=i.props.join(",")}return ga(t=cs(i.children,e))?i.return=i.value+"{"+t+"}":""}function NE(i){var l=nm(i);return function(t,e,n,r){for(var o="",u=0;u<l;u++)o+=i[u](t,e,n,r)||"";return o}}function IE(i){return function(l){l.root||(l=l.return)&&i(l)}}function U1(i){var l=Object.create(null);return function(t){return l[t]===void 0&&(l[t]=i(t)),l[t]}}var LE=function(l,t,e){for(var n=0,r=0;n=r,r=Ea(),n===38&&r===12&&(t[e]=1),!no(r);)jn();return fo(l,Mn)},DE=function(l,t){var e=-1,n=44;do switch(no(n)){case 0:n===38&&Ea()===12&&(t[e]=1),l[e]+=LE(Mn-1,t,e);break;case 2:l[e]+=Ku(n);break;case 4:if(n===44){l[++e]=Ea()===58?"&\f":"",t[e]=l[e].length;break}default:l[e]+=mc(n)}while(n=jn());return l},UE=function(l,t){return D1(DE(L1(l),t))},$0=new WeakMap,zE=function(l){if(!(l.type!=="rule"||!l.parent||l.length<1)){for(var t=l.value,e=l.parent,n=l.column===e.column&&l.line===e.line;e.type!=="rule";)if(e=e.parent,!e)return;if(!(l.props.length===1&&t.charCodeAt(0)!==58&&!$0.get(e))&&!n){$0.set(l,!0);for(var r=[],o=UE(t,r),u=e.props,f=0,h=0;f<o.length;f++)for(var p=0;p<u.length;p++,h++)l.props[h]=r[f]?o[f].replace(/&\f/g,u[p]):u[p]+" "+o[f]}}},PE=function(l){if(l.type==="decl"){var t=l.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(l.return="",l.value="")}};function z1(i,l){switch(_E(i,l)){case 5103:return et+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return et+i+sc+i+cn+i+i;case 6828:case 4268:return et+i+cn+i+i;case 6165:return et+i+cn+"flex-"+i+i;case 5187:return et+i+tt(i,/(\w+).+(:[^]+)/,et+"box-$1$2"+cn+"flex-$1$2")+i;case 5443:return et+i+cn+"flex-item-"+tt(i,/flex-|-self/,"")+i;case 4675:return et+i+cn+"flex-line-pack"+tt(i,/align-content|flex-|-self/,"")+i;case 5548:return et+i+cn+tt(i,"shrink","negative")+i;case 5292:return et+i+cn+tt(i,"basis","preferred-size")+i;case 6060:return et+"box-"+tt(i,"-grow","")+et+i+cn+tt(i,"grow","positive")+i;case 4554:return et+tt(i,/([^-])(transform)/g,"$1"+et+"$2")+i;case 6187:return tt(tt(tt(i,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),i,"")+i;case 5495:case 3959:return tt(i,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(i,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+i+i;case 4095:case 3583:case 4068:case 2532:return tt(i,/(.+)-inline(.+)/,et+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ga(i)-1-l>6)switch(rn(i,l+1)){case 109:if(rn(i,l+4)!==45)break;case 102:return tt(i,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+sc+(rn(i,l+3)==108?"$3":"$2-$3"))+i;case 115:return~Th(i,"stretch")?z1(tt(i,"stretch","fill-available"),l)+i:i}break;case 4949:if(rn(i,l+1)!==115)break;case 6444:switch(rn(i,ga(i)-3-(~Th(i,"!important")&&10))){case 107:return tt(i,":",":"+et)+i;case 101:return tt(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(rn(i,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+cn+"$2box$3")+i}break;case 5936:switch(rn(i,l+11)){case 114:return et+i+cn+tt(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return et+i+cn+tt(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return et+i+cn+tt(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return et+i+cn+i+i}return i}var HE=function(l,t,e,n){if(l.length>-1&&!l.return)switch(l.type){case tm:l.return=z1(l.value,l.length);break;case B1:return cs([Sl(l,{value:tt(l.value,"@","@"+et)})],n);case em:if(l.length)return kE(l.props,function(r){switch(EE(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cs([Sl(l,{props:[tt(r,/:(read-\w+)/,":"+sc+"$1")]})],n);case"::placeholder":return cs([Sl(l,{props:[tt(r,/:(plac\w+)/,":"+et+"input-$1")]}),Sl(l,{props:[tt(r,/:(plac\w+)/,":"+sc+"$1")]}),Sl(l,{props:[tt(r,/:(plac\w+)/,cn+"input-$1")]})],n)}return""})}},jE=[HE],FE=function(l){var t=l.key;if(t==="css"){var e=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(e,function(S){var A=S.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var n=l.stylisPlugins||jE,r={},o,u=[];o=l.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var A=S.getAttribute("data-emotion").split(" "),R=1;R<A.length;R++)r[A[R]]=!0;u.push(S)});var f,h=[zE,PE];{var p,g=[BE,IE(function(S){p.insert(S)})],y=NE(h.concat(n,g)),b=function(A){return cs(OE(A),y)};f=function(A,R,L,K){p=L,b(A?A+"{"+R.styles+"}":R.styles),K&&(E.inserted[R.name]=!0)}}var E={key:t,sheet:new vE({key:t,container:o,nonce:l.nonce,speedy:l.speedy,prepend:l.prepend,insertionPoint:l.insertionPoint}),nonce:l.nonce,inserted:r,registered:{},insert:f};return E.sheet.hydrate(u),E},qE=!0;function GE(i,l,t){var e="";return t.split(" ").forEach(function(n){i[n]!==void 0?l.push(i[n]+";"):n&&(e+=n+" ")}),e}var P1=function(l,t,e){var n=l.key+"-"+t.name;(e===!1||qE===!1)&&l.registered[n]===void 0&&(l.registered[n]=t.styles)},VE=function(l,t,e){P1(l,t,e);var n=l.key+"-"+t.name;if(l.inserted[t.name]===void 0){var r=t;do l.insert(t===r?"."+n:"",r,l.sheet,!0),r=r.next;while(r!==void 0)}};function KE(i){for(var l=0,t,e=0,n=i.length;n>=4;++e,n-=4)t=i.charCodeAt(e)&255|(i.charCodeAt(++e)&255)<<8|(i.charCodeAt(++e)&255)<<16|(i.charCodeAt(++e)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,l=(t&65535)*1540483477+((t>>>16)*59797<<16)^(l&65535)*1540483477+((l>>>16)*59797<<16);switch(n){case 3:l^=(i.charCodeAt(e+2)&255)<<16;case 2:l^=(i.charCodeAt(e+1)&255)<<8;case 1:l^=i.charCodeAt(e)&255,l=(l&65535)*1540483477+((l>>>16)*59797<<16)}return l^=l>>>13,l=(l&65535)*1540483477+((l>>>16)*59797<<16),((l^l>>>15)>>>0).toString(36)}var JE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YE=/[A-Z]|^ms/g,XE=/_EMO_([^_]+?)_([^]*?)_EMO_/g,H1=function(l){return l.charCodeAt(1)===45},Z0=function(l){return l!=null&&typeof l!="boolean"},fh=U1(function(i){return H1(i)?i:i.replace(YE,"-$&").toLowerCase()}),Q0=function(l,t){switch(l){case"animation":case"animationName":if(typeof t=="string")return t.replace(XE,function(e,n,r){return ya={name:n,styles:r,next:ya},n})}return JE[l]!==1&&!H1(l)&&typeof t=="number"&&t!==0?t+"px":t};function ao(i,l,t){if(t==null)return"";var e=t;if(e.__emotion_styles!==void 0)return e;switch(typeof t){case"boolean":return"";case"object":{var n=t;if(n.anim===1)return ya={name:n.name,styles:n.styles,next:ya},n.name;var r=t;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)ya={name:o.name,styles:o.styles,next:ya},o=o.next;var u=r.styles+";";return u}return $E(i,l,t)}case"function":{if(i!==void 0){var f=ya,h=t(i);return ya=f,ao(i,l,h)}break}}var p=t;if(l==null)return p;var g=l[p];return g!==void 0?g:p}function $E(i,l,t){var e="";if(Array.isArray(t))for(var n=0;n<t.length;n++)e+=ao(i,l,t[n])+";";else for(var r in t){var o=t[r];if(typeof o!="object"){var u=o;l!=null&&l[u]!==void 0?e+=r+"{"+l[u]+"}":Z0(u)&&(e+=fh(r)+":"+Q0(r,u)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(l==null||l[o[0]]===void 0))for(var f=0;f<o.length;f++)Z0(o[f])&&(e+=fh(r)+":"+Q0(r,o[f])+";");else{var h=ao(i,l,o);switch(r){case"animation":case"animationName":{e+=fh(r)+":"+h+";";break}default:e+=r+"{"+h+"}"}}}return e}var W0=/label:\s*([^\s;{]+)\s*(;|$)/g,ya;function j1(i,l,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var e=!0,n="";ya=void 0;var r=i[0];if(r==null||r.raw===void 0)e=!1,n+=ao(t,l,r);else{var o=r;n+=o[0]}for(var u=1;u<i.length;u++)if(n+=ao(t,l,i[u]),e){var f=r;n+=f[u]}W0.lastIndex=0;for(var h="",p;(p=W0.exec(n))!==null;)h+="-"+p[1];var g=KE(n)+h;return{name:g,styles:n,next:ya}}var ZE=function(l){return l()},QE=Ch.useInsertionEffect?Ch.useInsertionEffect:!1,WE=QE||ZE,F1=Xt.createContext(typeof HTMLElement<"u"?FE({key:"css"}):null);F1.Provider;var ek=function(l){return Xt.forwardRef(function(t,e){var n=Xt.useContext(F1);return l(t,n,e)})},q1=Xt.createContext({}),tk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nk=U1(function(i){return tk.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),ak=nk,ik=function(l){return l!=="theme"},ey=function(l){return typeof l=="string"&&l.charCodeAt(0)>96?ak:ik},ty=function(l,t,e){var n;if(t){var r=t.shouldForwardProp;n=l.__emotion_forwardProp&&r?function(o){return l.__emotion_forwardProp(o)&&r(o)}:r}return typeof n!="function"&&e&&(n=l.__emotion_forwardProp),n},rk=function(l){var t=l.cache,e=l.serialized,n=l.isStringTag;return P1(t,e,n),WE(function(){return VE(t,e,n)}),null},sk=function i(l,t){var e=l.__emotion_real===l,n=e&&l.__emotion_base||l,r,o;t!==void 0&&(r=t.label,o=t.target);var u=ty(l,t,e),f=u||ey(n),h=!f("as");return function(){var p=arguments,g=e&&l.__emotion_styles!==void 0?l.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var y=p[0];g.push(y[0]);for(var b=p.length,E=1;E<b;E++)g.push(p[E],y[E])}var S=ek(function(A,R,L){var K=h&&A.as||n,F="",ne=[],J=A;if(A.theme==null){J={};for(var $ in A)J[$]=A[$];J.theme=Xt.useContext(q1)}typeof A.className=="string"?F=GE(R.registered,ne,A.className):A.className!=null&&(F=A.className+" ");var oe=j1(g.concat(ne),R.registered,J);F+=R.key+"-"+oe.name,o!==void 0&&(F+=" "+o);var ye=h&&u===void 0?ey(K):f,be={};for(var he in A)h&&he==="as"||ye(he)&&(be[he]=A[he]);return be.className=F,L&&(be.ref=L),Xt.createElement(Xt.Fragment,null,Xt.createElement(rk,{cache:R,serialized:oe,isStringTag:typeof K=="string"}),Xt.createElement(K,be))});return S.displayName=r!==void 0?r:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",S.defaultProps=l.defaultProps,S.__emotion_real=S,S.__emotion_base=n,S.__emotion_styles=g,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(A,R){var L=i(A,wh({},t,R,{shouldForwardProp:ty(S,R,!0)}));return L.apply(void 0,g)},S}},lk=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Mh=sk.bind(null);lk.forEach(function(i){Mh[i]=Mh(i)});function G1(i,l){return Mh(i,l)}function ok(i,l){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=l(i.__emotion_styles))}const ny=[];function er(i){return ny[0]=i,j1(ny)}var dh={exports:{}},dt={};var ay;function uk(){if(ay)return dt;ay=1;var i=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case i:switch(S=S.type,S){case t:case n:case e:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case o:case u:case g:case p:return S;case r:return S;default:return A}}case l:return A}}}return dt.ContextConsumer=r,dt.ContextProvider=o,dt.Element=i,dt.ForwardRef=u,dt.Fragment=t,dt.Lazy=g,dt.Memo=p,dt.Portal=l,dt.Profiler=n,dt.StrictMode=e,dt.Suspense=f,dt.SuspenseList=h,dt.isContextConsumer=function(S){return E(S)===r},dt.isContextProvider=function(S){return E(S)===o},dt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},dt.isForwardRef=function(S){return E(S)===u},dt.isFragment=function(S){return E(S)===t},dt.isLazy=function(S){return E(S)===g},dt.isMemo=function(S){return E(S)===p},dt.isPortal=function(S){return E(S)===l},dt.isProfiler=function(S){return E(S)===n},dt.isStrictMode=function(S){return E(S)===e},dt.isSuspense=function(S){return E(S)===f},dt.isSuspenseList=function(S){return E(S)===h},dt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===n||S===e||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===o||S.$$typeof===r||S.$$typeof===u||S.$$typeof===b||S.getModuleId!==void 0)},dt.typeOf=E,dt}var iy;function ck(){return iy||(iy=1,dh.exports=uk()),dh.exports}var V1=ck();function Sa(i){if(typeof i!="object"||i===null)return!1;const l=Object.getPrototypeOf(i);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function K1(i){if(Xt.isValidElement(i)||V1.isValidElementType(i)||!Sa(i))return i;const l={};return Object.keys(i).forEach(t=>{l[t]=K1(i[t])}),l}function Fn(i,l,t={clone:!0}){const e=t.clone?{...i}:i;return Sa(i)&&Sa(l)&&Object.keys(l).forEach(n=>{Xt.isValidElement(l[n])||V1.isValidElementType(l[n])?e[n]=l[n]:Sa(l[n])&&Object.prototype.hasOwnProperty.call(i,n)&&Sa(i[n])?e[n]=Fn(i[n],l[n],t):t.clone?e[n]=Sa(l[n])?K1(l[n]):l[n]:e[n]=l[n]}),e}const fk=i=>{const l=Object.keys(i).map(t=>({key:t,val:i[t]}))||[];return l.sort((t,e)=>t.val-e.val),l.reduce((t,e)=>({...t,[e.key]:e.val}),{})};function dk(i){const{values:l={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:e=5,...n}=i,r=fk(l),o=Object.keys(r);function u(y){return`@media (min-width:${typeof l[y]=="number"?l[y]:y}${t})`}function f(y){return`@media (max-width:${(typeof l[y]=="number"?l[y]:y)-e/100}${t})`}function h(y,b){const E=o.indexOf(b);return`@media (min-width:${typeof l[y]=="number"?l[y]:y}${t}) and (max-width:${(E!==-1&&typeof l[o[E]]=="number"?l[o[E]]:b)-e/100}${t})`}function p(y){return o.indexOf(y)+1<o.length?h(y,o[o.indexOf(y)+1]):u(y)}function g(y){const b=o.indexOf(y);return b===0?u(o[1]):b===o.length-1?f(o[b]):h(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:u,down:f,between:h,only:p,not:g,unit:t,...n}}function ry(i,l){if(!i.containerQueries)return l;const t=Object.keys(l).filter(e=>e.startsWith("@container")).sort((e,n)=>{const r=/min-width:\s*([0-9.]+)/;return+(e.match(r)?.[1]||0)-+(n.match(r)?.[1]||0)});return t.length?t.reduce((e,n)=>{const r=l[n];return delete e[n],e[n]=r,e},{...l}):l}function hk(i,l){return l==="@"||l.startsWith("@")&&(i.some(t=>l.startsWith(`@${t}`))||!!l.match(/^@\d/))}function mk(i,l){const t=l.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,e,n]=t,r=Number.isNaN(+e)?e||0:+e;return i.containerQueries(n).up(r)}function pk(i){const l=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function t(r,o){r.up=(...u)=>l(i.breakpoints.up(...u),o),r.down=(...u)=>l(i.breakpoints.down(...u),o),r.between=(...u)=>l(i.breakpoints.between(...u),o),r.only=(...u)=>l(i.breakpoints.only(...u),o),r.not=(...u)=>{const f=l(i.breakpoints.not(...u),o);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const e={},n=r=>(t(e,r),e);return t(n),{...i,containerQueries:n}}const vk={borderRadius:4};function Zl(i,l){return l?Fn(i,l,{clone:!1}):i}const gc={xs:0,sm:600,md:900,lg:1200,xl:1536},sy={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${gc[i]}px)`},gk={containerQueries:i=>({up:l=>{let t=typeof l=="number"?l:gc[l]||l;return typeof t=="number"&&(t=`${t}px`),i?`@container ${i} (min-width:${t})`:`@container (min-width:${t})`}})};function Ya(i,l,t){const e=i.theme||{};if(Array.isArray(l)){const r=e.breakpoints||sy;return l.reduce((o,u,f)=>(o[r.up(r.keys[f])]=t(l[f]),o),{})}if(typeof l=="object"){const r=e.breakpoints||sy;return Object.keys(l).reduce((o,u)=>{if(hk(r.keys,u)){const f=mk(e.containerQueries?e:gk,u);f&&(o[f]=t(l[u],u))}else if(Object.keys(r.values||gc).includes(u)){const f=r.up(u);o[f]=t(l[u],u)}else{const f=u;o[f]=l[f]}return o},{})}return t(l)}function yk(i={}){return i.keys?.reduce((t,e)=>{const n=i.up(e);return t[n]={},t},{})||{}}function ly(i,l){return i.reduce((t,e)=>{const n=t[e];return(!n||Object.keys(n).length===0)&&delete t[e],t},l)}function io(i){if(typeof i!="string")throw new Error(ir(7));return i.charAt(0).toUpperCase()+i.slice(1)}function yc(i,l,t=!0){if(!l||typeof l!="string")return null;if(i&&i.vars&&t){const e=`vars.${l}`.split(".").reduce((n,r)=>n&&n[r]?n[r]:null,i);if(e!=null)return e}return l.split(".").reduce((e,n)=>e&&e[n]!=null?e[n]:null,i)}function lc(i,l,t,e=t){let n;return typeof i=="function"?n=i(t):Array.isArray(i)?n=i[t]||e:n=yc(i,t)||e,l&&(n=l(n,e,i)),n}function Dt(i){const{prop:l,cssProperty:t=i.prop,themeKey:e,transform:n}=i,r=o=>{if(o[l]==null)return null;const u=o[l],f=o.theme,h=yc(f,e)||{};return Ya(o,u,g=>{let y=lc(h,n,g);return g===y&&typeof g=="string"&&(y=lc(h,n,`${l}${g==="default"?"":io(g)}`,g)),t===!1?y:{[t]:y}})};return r.propTypes={},r.filterProps=[l],r}function bk(i){const l={};return t=>(l[t]===void 0&&(l[t]=i(t)),l[t])}const Sk={m:"margin",p:"padding"},_k={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oy={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ek=bk(i=>{if(i.length>2)if(oy[i])i=oy[i];else return[i];const[l,t]=i.split(""),e=Sk[l],n=_k[t]||"";return Array.isArray(n)?n.map(r=>e+r):[e+n]}),am=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],im=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...am,...im];function ho(i,l,t,e){const n=yc(i,l,!0)??t;return typeof n=="number"||typeof n=="string"?r=>typeof r=="string"?r:typeof n=="string"?n.startsWith("var(")&&r===0?0:n.startsWith("var(")&&r===1?n:`calc(${r} * ${n})`:n*r:Array.isArray(n)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),u=n[o];return r>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof n=="function"?n:()=>{}}function rm(i){return ho(i,"spacing",8)}function mo(i,l){return typeof l=="string"||l==null?l:i(l)}function kk(i,l){return t=>i.reduce((e,n)=>(e[n]=mo(l,t),e),{})}function Ck(i,l,t,e){if(!l.includes(t))return null;const n=Ek(t),r=kk(n,e),o=i[t];return Ya(i,o,r)}function J1(i,l){const t=rm(i.theme);return Object.keys(i).map(e=>Ck(i,l,e,t)).reduce(Zl,{})}function At(i){return J1(i,am)}At.propTypes={};At.filterProps=am;function Mt(i){return J1(i,im)}Mt.propTypes={};Mt.filterProps=im;function Y1(i=8,l=rm({spacing:i})){if(i.mui)return i;const t=(...e)=>(e.length===0?[1]:e).map(r=>{const o=l(r);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function bc(...i){const l=i.reduce((e,n)=>(n.filterProps.forEach(r=>{e[r]=n}),e),{}),t=e=>Object.keys(e).reduce((n,r)=>l[r]?Zl(n,l[r](e)):n,{});return t.propTypes={},t.filterProps=i.reduce((e,n)=>e.concat(n.filterProps),[]),t}function ia(i){return typeof i!="number"?i:`${i}px solid`}function sa(i,l){return Dt({prop:i,themeKey:"borders",transform:l})}const wk=sa("border",ia),Tk=sa("borderTop",ia),Ak=sa("borderRight",ia),Mk=sa("borderBottom",ia),Rk=sa("borderLeft",ia),Ok=sa("borderColor"),xk=sa("borderTopColor"),Bk=sa("borderRightColor"),Nk=sa("borderBottomColor"),Ik=sa("borderLeftColor"),Lk=sa("outline",ia),Dk=sa("outlineColor"),Sc=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const l=ho(i.theme,"shape.borderRadius",4),t=e=>({borderRadius:mo(l,e)});return Ya(i,i.borderRadius,t)}return null};Sc.propTypes={};Sc.filterProps=["borderRadius"];bc(wk,Tk,Ak,Mk,Rk,Ok,xk,Bk,Nk,Ik,Sc,Lk,Dk);const _c=i=>{if(i.gap!==void 0&&i.gap!==null){const l=ho(i.theme,"spacing",8),t=e=>({gap:mo(l,e)});return Ya(i,i.gap,t)}return null};_c.propTypes={};_c.filterProps=["gap"];const Ec=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const l=ho(i.theme,"spacing",8),t=e=>({columnGap:mo(l,e)});return Ya(i,i.columnGap,t)}return null};Ec.propTypes={};Ec.filterProps=["columnGap"];const kc=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const l=ho(i.theme,"spacing",8),t=e=>({rowGap:mo(l,e)});return Ya(i,i.rowGap,t)}return null};kc.propTypes={};kc.filterProps=["rowGap"];const Uk=Dt({prop:"gridColumn"}),zk=Dt({prop:"gridRow"}),Pk=Dt({prop:"gridAutoFlow"}),Hk=Dt({prop:"gridAutoColumns"}),jk=Dt({prop:"gridAutoRows"}),Fk=Dt({prop:"gridTemplateColumns"}),qk=Dt({prop:"gridTemplateRows"}),Gk=Dt({prop:"gridTemplateAreas"}),Vk=Dt({prop:"gridArea"});bc(_c,Ec,kc,Uk,zk,Pk,Hk,jk,Fk,qk,Gk,Vk);function fs(i,l){return l==="grey"?l:i}const Kk=Dt({prop:"color",themeKey:"palette",transform:fs}),Jk=Dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fs}),Yk=Dt({prop:"backgroundColor",themeKey:"palette",transform:fs});bc(Kk,Jk,Yk);function Hn(i){return i<=1&&i!==0?`${i*100}%`:i}const Xk=Dt({prop:"width",transform:Hn}),sm=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const l=t=>{const e=i.theme?.breakpoints?.values?.[t]||gc[t];return e?i.theme?.breakpoints?.unit!=="px"?{maxWidth:`${e}${i.theme.breakpoints.unit}`}:{maxWidth:e}:{maxWidth:Hn(t)}};return Ya(i,i.maxWidth,l)}return null};sm.filterProps=["maxWidth"];const $k=Dt({prop:"minWidth",transform:Hn}),Zk=Dt({prop:"height",transform:Hn}),Qk=Dt({prop:"maxHeight",transform:Hn}),Wk=Dt({prop:"minHeight",transform:Hn});Dt({prop:"size",cssProperty:"width",transform:Hn});Dt({prop:"size",cssProperty:"height",transform:Hn});const eC=Dt({prop:"boxSizing"});bc(Xk,sm,$k,Zk,Qk,Wk,eC);const po={border:{themeKey:"borders",transform:ia},borderTop:{themeKey:"borders",transform:ia},borderRight:{themeKey:"borders",transform:ia},borderBottom:{themeKey:"borders",transform:ia},borderLeft:{themeKey:"borders",transform:ia},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ia},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Sc},color:{themeKey:"palette",transform:fs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fs},backgroundColor:{themeKey:"palette",transform:fs},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:At},mt:{style:At},mr:{style:At},mb:{style:At},ml:{style:At},mx:{style:At},my:{style:At},margin:{style:At},marginTop:{style:At},marginRight:{style:At},marginBottom:{style:At},marginLeft:{style:At},marginX:{style:At},marginY:{style:At},marginInline:{style:At},marginInlineStart:{style:At},marginInlineEnd:{style:At},marginBlock:{style:At},marginBlockStart:{style:At},marginBlockEnd:{style:At},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:_c},rowGap:{style:kc},columnGap:{style:Ec},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hn},maxWidth:{style:sm},minWidth:{transform:Hn},height:{transform:Hn},maxHeight:{transform:Hn},minHeight:{transform:Hn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function tC(...i){const l=i.reduce((e,n)=>e.concat(Object.keys(n)),[]),t=new Set(l);return i.every(e=>t.size===Object.keys(e).length)}function nC(i,l){return typeof i=="function"?i(l):i}function aC(){function i(t,e,n,r){const o={[t]:e,theme:n},u=r[t];if(!u)return{[t]:e};const{cssProperty:f=t,themeKey:h,transform:p,style:g}=u;if(e==null)return null;if(h==="typography"&&e==="inherit")return{[t]:e};const y=yc(n,h)||{};return g?g(o):Ya(o,e,E=>{let S=lc(y,p,E);return E===S&&typeof E=="string"&&(S=lc(y,p,`${t}${E==="default"?"":io(E)}`,E)),f===!1?S:{[f]:S}})}function l(t){const{sx:e,theme:n={},nested:r}=t||{};if(!e)return null;const o=n.unstable_sxConfig??po;function u(f){let h=f;if(typeof f=="function")h=f(n);else if(typeof f!="object")return f;if(!h)return null;const p=yk(n.breakpoints),g=Object.keys(p);let y=p;return Object.keys(h).forEach(b=>{const E=nC(h[b],n);if(E!=null)if(typeof E=="object")if(o[b])y=Zl(y,i(b,E,n,o));else{const S=Ya({theme:n},E,A=>({[b]:A}));tC(S,E)?y[b]=l({sx:E,theme:n,nested:!0}):y=Zl(y,S)}else y=Zl(y,i(b,E,n,o))}),!r&&n.modularCssLayers?{"@layer sx":ry(n,ly(g,y))}:ry(n,ly(g,y))}return Array.isArray(e)?e.map(u):u(e)}return l}const rr=aC();rr.filterProps=["sx"];function iC(i,l){const t=this;if(t.vars){if(!t.colorSchemes?.[i]||typeof t.getColorSchemeSelector!="function")return{};let e=t.getColorSchemeSelector(i);return e==="&"?l:((e.includes("data-")||e.includes("."))&&(e=`*:where(${e.replace(/\s*&$/,"")}) &`),{[e]:l})}return t.palette.mode===i?l:{}}function lm(i={},...l){const{breakpoints:t={},palette:e={},spacing:n,shape:r={},...o}=i,u=dk(t),f=Y1(n);let h=Fn({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...e},spacing:f,shape:{...vk,...r}},o);return h=pk(h),h.applyStyles=iC,h=l.reduce((p,g)=>Fn(p,g),h),h.unstable_sxConfig={...po,...o?.unstable_sxConfig},h.unstable_sx=function(g){return rr({sx:g,theme:this})},h}function rC(i){return Object.keys(i).length===0}function sC(i=null){const l=Xt.useContext(q1);return!l||rC(l)?i:l}const lC=lm();function oC(i=lC){return sC(i)}const uC=i=>{const l={systemProps:{},otherProps:{}},t=i?.theme?.unstable_sxConfig??po;return Object.keys(i).forEach(e=>{t[e]?l.systemProps[e]=i[e]:l.otherProps[e]=i[e]}),l};function X1(i){const{sx:l,...t}=i,{systemProps:e,otherProps:n}=uC(t);let r;return Array.isArray(l)?r=[e,...l]:typeof l=="function"?r=(...o)=>{const u=l(...o);return Sa(u)?{...e,...u}:e}:r={...e,...l},{...n,sx:r}}const uy=i=>i,cC=()=>{let i=uy;return{configure(l){i=l},generate(l){return i(l)},reset(){i=uy}}},$1=cC();function Z1(i){var l,t,e="";if(typeof i=="string"||typeof i=="number")e+=i;else if(typeof i=="object")if(Array.isArray(i)){var n=i.length;for(l=0;l<n;l++)i[l]&&(t=Z1(i[l]))&&(e&&(e+=" "),e+=t)}else for(t in i)i[t]&&(e&&(e+=" "),e+=t);return e}function om(){for(var i,l,t=0,e="",n=arguments.length;t<n;t++)(i=arguments[t])&&(l=Z1(i))&&(e&&(e+=" "),e+=l);return e}function fC(i={}){const{themeId:l,defaultTheme:t,defaultClassName:e="MuiBox-root",generateClassName:n}=i,r=G1("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(rr);return Xt.forwardRef(function(f,h){const p=oC(t),{className:g,component:y="div",...b}=X1(f);return Ei.jsx(r,{as:y,ref:h,className:om(g,n?n(e):e),theme:l&&p[l]||p,...b})})}const dC={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Q1(i,l,t="Mui"){const e=dC[l];return e?`${t}-${e}`:`${$1.generate(i)}-${l}`}function W1(i,l,t="Mui"){const e={};return l.forEach(n=>{e[n]=Q1(i,n,t)}),e}function eb(i){const{variants:l,...t}=i,e={variants:l,style:er(t),isProcessed:!0};return e.style===t||l&&l.forEach(n=>{typeof n.style!="function"&&(n.style=er(n.style))}),e}const hC=lm();function hh(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Wi(i,l){return l&&i&&typeof i=="object"&&i.styles&&!i.styles.startsWith("@layer")&&(i.styles=`@layer ${l}{${String(i.styles)}}`),i}function mC(i){return i?(l,t)=>t[i]:null}function pC(i,l,t){i.theme=yC(i.theme)?t:i.theme[l]||i.theme}function Yu(i,l,t){const e=typeof l=="function"?l(i):l;if(Array.isArray(e))return e.flatMap(n=>Yu(i,n,t));if(Array.isArray(e?.variants)){let n;if(e.isProcessed)n=t?Wi(e.style,t):e.style;else{const{variants:r,...o}=e;n=t?Wi(er(o),t):o}return tb(i,e.variants,[n],t)}return e?.isProcessed?t?Wi(er(e.style),t):e.style:t?Wi(er(e),t):e}function tb(i,l,t=[],e=void 0){let n;e:for(let r=0;r<l.length;r+=1){const o=l[r];if(typeof o.props=="function"){if(n??={...i,...i.ownerState,ownerState:i.ownerState},!o.props(n))continue}else for(const u in o.props)if(i[u]!==o.props[u]&&i.ownerState?.[u]!==o.props[u])continue e;typeof o.style=="function"?(n??={...i,...i.ownerState,ownerState:i.ownerState},t.push(e?Wi(er(o.style(n)),e):o.style(n))):t.push(e?Wi(er(o.style),e):o.style)}return t}function vC(i={}){const{themeId:l,defaultTheme:t=hC,rootShouldForwardProp:e=hh,slotShouldForwardProp:n=hh}=i;function r(u){pC(u,l,t)}return(u,f={})=>{ok(u,J=>J.filter($=>$!==rr));const{name:h,slot:p,skipVariantsResolver:g,skipSx:y,overridesResolver:b=mC(SC(p)),...E}=f,S=h&&h.startsWith("Mui")||p?"components":"custom",A=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,R=y||!1;let L=hh;p==="Root"||p==="root"?L=e:p?L=n:bC(u)&&(L=void 0);const K=G1(u,{shouldForwardProp:L,label:gC(),...E}),F=J=>{if(J.__emotion_real===J)return J;if(typeof J=="function")return function(oe){return Yu(oe,J,oe.theme.modularCssLayers?S:void 0)};if(Sa(J)){const $=eb(J);return function(ye){return $.variants?Yu(ye,$,ye.theme.modularCssLayers?S:void 0):ye.theme.modularCssLayers?Wi($.style,S):$.style}}return J},ne=(...J)=>{const $=[],oe=J.map(F),ye=[];if($.push(r),h&&b&&ye.push(function(ue){const pe=ue.theme.components?.[h]?.styleOverrides;if(!pe)return null;const j={};for(const re in pe)j[re]=Yu(ue,pe[re],ue.theme.modularCssLayers?"theme":void 0);return b(ue,j)}),h&&!A&&ye.push(function(ue){const pe=ue.theme?.components?.[h]?.variants;return pe?tb(ue,pe,[],ue.theme.modularCssLayers?"theme":void 0):null}),R||ye.push(rr),Array.isArray(oe[0])){const M=oe.shift(),ue=new Array($.length).fill(""),ae=new Array(ye.length).fill("");let pe;pe=[...ue,...M,...ae],pe.raw=[...ue,...M.raw,...ae],$.unshift(pe)}const be=[...$,...oe,...ye],he=K(...be);return u.muiName&&(he.muiName=u.muiName),he};return K.withConfig&&(ne.withConfig=K.withConfig),ne}}function gC(i,l){return void 0}function yC(i){for(const l in i)return!1;return!0}function bC(i){return typeof i=="string"&&i.charCodeAt(0)>96}function SC(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}function Rh(i,l,t=!1){const e={...l};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const r=n;if(r==="components"||r==="slots")e[r]={...i[r],...e[r]};else if(r==="componentsProps"||r==="slotProps"){const o=i[r],u=l[r];if(!u)e[r]=o||{};else if(!o)e[r]=u;else{e[r]={...u};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const h=f;e[r][h]=Rh(o[h],u[h],t)}}}else r==="className"&&t&&l.className?e.className=om(i?.className,l?.className):r==="style"&&t&&l.style?e.style={...i?.style,...l?.style}:e[r]===void 0&&(e[r]=i[r])}return e}function _C(i,l=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(l,Math.min(i,t))}function um(i,l=0,t=1){return _C(i,l,t)}function EC(i){i=i.slice(1);const l=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let t=i.match(l);return t&&t[0].length===1&&(t=t.map(e=>e+e)),t?`rgb${t.length===4?"a":""}(${t.map((e,n)=>n<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}function Mi(i){if(i.type)return i;if(i.charAt(0)==="#")return Mi(EC(i));const l=i.indexOf("("),t=i.substring(0,l);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ir(9,i));let e=i.substring(l+1,i.length-1),n;if(t==="color"){if(e=e.split(" "),n=e.shift(),e.length===4&&e[3].charAt(0)==="/"&&(e[3]=e[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(ir(10,n))}else e=e.split(",");return e=e.map(r=>parseFloat(r)),{type:t,values:e,colorSpace:n}}const kC=i=>{const l=Mi(i);return l.values.slice(0,3).map((t,e)=>l.type.includes("hsl")&&e!==0?`${t}%`:t).join(" ")},Vl=(i,l)=>{try{return kC(i)}catch{return i}};function Cc(i){const{type:l,colorSpace:t}=i;let{values:e}=i;return l.includes("rgb")?e=e.map((n,r)=>r<3?parseInt(n,10):n):l.includes("hsl")&&(e[1]=`${e[1]}%`,e[2]=`${e[2]}%`),l.includes("color")?e=`${t} ${e.join(" ")}`:e=`${e.join(", ")}`,`${l}(${e})`}function nb(i){i=Mi(i);const{values:l}=i,t=l[0],e=l[1]/100,n=l[2]/100,r=e*Math.min(n,1-n),o=(h,p=(h+t/30)%12)=>n-r*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const f=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return i.type==="hsla"&&(u+="a",f.push(l[3])),Cc({type:u,values:f})}function Oh(i){i=Mi(i);let l=i.type==="hsl"||i.type==="hsla"?Mi(nb(i)).values:i.values;return l=l.map(t=>(i.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*l[0]+.7152*l[1]+.0722*l[2]).toFixed(3))}function CC(i,l){const t=Oh(i),e=Oh(l);return(Math.max(t,e)+.05)/(Math.min(t,e)+.05)}function ab(i,l){return i=Mi(i),l=um(l),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${l}`:i.values[3]=l,Cc(i)}function $i(i,l,t){try{return ab(i,l)}catch{return i}}function wc(i,l){if(i=Mi(i),l=um(l),i.type.includes("hsl"))i.values[2]*=1-l;else if(i.type.includes("rgb")||i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]*=1-l;return Cc(i)}function st(i,l,t){try{return wc(i,l)}catch{return i}}function Tc(i,l){if(i=Mi(i),l=um(l),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*l;else if(i.type.includes("rgb"))for(let t=0;t<3;t+=1)i.values[t]+=(255-i.values[t])*l;else if(i.type.includes("color"))for(let t=0;t<3;t+=1)i.values[t]+=(1-i.values[t])*l;return Cc(i)}function lt(i,l,t){try{return Tc(i,l)}catch{return i}}function wC(i,l=.15){return Oh(i)>.5?wc(i,l):Tc(i,l)}function Du(i,l,t){try{return wC(i,l)}catch{return i}}const TC=Xt.createContext(void 0);function AC(i){const{theme:l,name:t,props:e}=i;if(!l||!l.components||!l.components[t])return e;const n=l.components[t];return n.defaultProps?Rh(n.defaultProps,e,l.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?Rh(n,e,l.components.mergeClassNameAndStyle):e}function MC({props:i,name:l}){const t=Xt.useContext(TC);return AC({props:i,name:l,theme:{components:t}})}const cy={theme:void 0};function RC(i){let l,t;return function(n){let r=l;return(r===void 0||n.theme!==t)&&(cy.theme=n.theme,r=eb(i(cy)),l=r,t=n.theme),r}}function OC(i=""){function l(...e){if(!e.length)return"";const n=e[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${n}${l(...e.slice(1))})`:`, ${n}`}return(e,...n)=>`var(--${i?`${i}-`:""}${e}${l(...n)})`}const fy=(i,l,t,e=[])=>{let n=i;l.forEach((r,o)=>{o===l.length-1?Array.isArray(n)?n[Number(r)]=t:n&&typeof n=="object"&&(n[r]=t):n&&typeof n=="object"&&(n[r]||(n[r]=e.includes(r)?[]:{}),n=n[r])})},xC=(i,l,t)=>{function e(n,r=[],o=[]){Object.entries(n).forEach(([u,f])=>{(!t||t&&!t([...r,u]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?e(f,[...r,u],Array.isArray(f)?[...o,u]:o):l([...r,u],f,o))})}e(i)},BC=(i,l)=>typeof l=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(e=>i.includes(e))||i[i.length-1].toLowerCase().includes("opacity")?l:`${l}px`:l;function mh(i,l){const{prefix:t,shouldSkipGeneratingVar:e}=l||{},n={},r={},o={};return xC(i,(u,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!e||!e(u,f))){const p=`--${t?`${t}-`:""}${u.join("-")}`,g=BC(u,f);Object.assign(n,{[p]:g}),fy(r,u,`var(${p})`,h),fy(o,u,`var(${p}, ${g})`,h)}},u=>u[0]==="vars"),{css:n,vars:r,varsWithDefaults:o}}function NC(i,l={}){const{getSelector:t=R,disableCssColorScheme:e,colorSchemeSelector:n,enableContrastVars:r}=l,{colorSchemes:o={},components:u,defaultColorScheme:f="light",...h}=i,{vars:p,css:g,varsWithDefaults:y}=mh(h,l);let b=y;const E={},{[f]:S,...A}=o;if(Object.entries(A||{}).forEach(([F,ne])=>{const{vars:J,css:$,varsWithDefaults:oe}=mh(ne,l);b=Fn(b,oe),E[F]={css:$,vars:J}}),S){const{css:F,vars:ne,varsWithDefaults:J}=mh(S,l);b=Fn(b,J),E[f]={css:F,vars:ne}}function R(F,ne){let J=n;if(n==="class"&&(J=".%s"),n==="data"&&(J="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(J=`[${n}="%s"]`),F){if(J==="media")return i.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${o[F]?.palette?.mode||F})`]:{":root":ne}};if(J)return i.defaultColorScheme===F?`:root, ${J.replace("%s",String(F))}`:J.replace("%s",String(F))}return":root"}return{vars:b,generateThemeVars:()=>{let F={...p};return Object.entries(E).forEach(([,{vars:ne}])=>{F=Fn(F,ne)}),F},generateStyleSheets:()=>{const F=[],ne=i.defaultColorScheme||"light";function J(ye,be){Object.keys(be).length&&F.push(typeof ye=="string"?{[ye]:{...be}}:ye)}J(t(void 0,{...g}),g);const{[ne]:$,...oe}=E;if($){const{css:ye}=$,be=o[ne]?.palette?.mode,he=!e&&be?{colorScheme:be,...ye}:{...ye};J(t(ne,{...he}),he)}return Object.entries(oe).forEach(([ye,{css:be}])=>{const he=o[ye]?.palette?.mode,M=!e&&he?{colorScheme:he,...be}:{...be};J(t(ye,{...M}),M)}),r&&F.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),F}}}function IC(i){return function(t){return i==="media"?`@media (prefers-color-scheme: ${t})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${t}"] &`:i==="class"?`.${t} &`:i==="data"?`[data-${t}] &`:`${i.replace("%s",t)} &`:"&"}}function LC(i,l,t=void 0){const e={};for(const n in i){const r=i[n];let o="",u=!0;for(let f=0;f<r.length;f+=1){const h=r[f];h&&(o+=(u===!0?"":" ")+l(h),u=!1,t&&t[h]&&(o+=" "+t[h]))}e[n]=o}return e}function ib(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:eo.white,default:eo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const rb=ib();function sb(){return{text:{primary:eo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:eo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xh=sb();function dy(i,l,t,e){const n=e.light||e,r=e.dark||e*1.5;i[l]||(i.hasOwnProperty(t)?i[l]=i[t]:l==="light"?i.light=Tc(i.main,n):l==="dark"&&(i.dark=wc(i.main,r)))}function hy(i,l,t,e,n){const r=n.light||n,o=n.dark||n*1.5;l[t]||(l.hasOwnProperty(e)?l[t]=l[e]:t==="light"?l.light=`color-mix(in ${i}, ${l.main}, #fff ${(r*100).toFixed(0)}%)`:t==="dark"&&(l.dark=`color-mix(in ${i}, ${l.main}, #000 ${(o*100).toFixed(0)}%)`))}function DC(i="light"){return i==="dark"?{main:as[200],light:as[50],dark:as[400]}:{main:as[700],light:as[400],dark:as[800]}}function UC(i="light"){return i==="dark"?{main:ns[200],light:ns[50],dark:ns[400]}:{main:ns[500],light:ns[300],dark:ns[700]}}function zC(i="light"){return i==="dark"?{main:ts[500],light:ts[300],dark:ts[700]}:{main:ts[700],light:ts[400],dark:ts[800]}}function PC(i="light"){return i==="dark"?{main:is[400],light:is[300],dark:is[700]}:{main:is[700],light:is[500],dark:is[900]}}function HC(i="light"){return i==="dark"?{main:rs[400],light:rs[300],dark:rs[700]}:{main:rs[800],light:rs[500],dark:rs[900]}}function jC(i="light"){return i==="dark"?{main:bl[400],light:bl[300],dark:bl[700]}:{main:"#ed6c02",light:bl[500],dark:bl[900]}}function FC(i){return`oklch(from ${i} var(--__l) 0 h / var(--__a))`}function cm(i){const{mode:l="light",contrastThreshold:t=3,tonalOffset:e=.2,colorSpace:n,...r}=i,o=i.primary||DC(l),u=i.secondary||UC(l),f=i.error||zC(l),h=i.info||PC(l),p=i.success||HC(l),g=i.warning||jC(l);function y(A){return n?FC(A):CC(A,xh.text.primary)>=t?xh.text.primary:rb.text.primary}const b=({color:A,name:R,mainShade:L=500,lightShade:K=300,darkShade:F=700})=>{if(A={...A},!A.main&&A[L]&&(A.main=A[L]),!A.hasOwnProperty("main"))throw new Error(ir(11,R?` (${R})`:"",L));if(typeof A.main!="string")throw new Error(ir(12,R?` (${R})`:"",JSON.stringify(A.main)));return n?(hy(n,A,"light",K,e),hy(n,A,"dark",F,e)):(dy(A,"light",K,e),dy(A,"dark",F,e)),A.contrastText||(A.contrastText=y(A.main)),A};let E;return l==="light"?E=ib():l==="dark"&&(E=sb()),Fn({common:{...eo},mode:l,primary:b({color:o,name:"primary"}),secondary:b({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:f,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:h,name:"info"}),success:b({color:p,name:"success"}),grey:hE,contrastThreshold:t,getContrastText:y,augmentColor:b,tonalOffset:e,...E},r)}function qC(i){const l={};return Object.entries(i).forEach(e=>{const[n,r]=e;typeof r=="object"&&(l[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),l}function GC(i,l){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...l}}function VC(i){return Math.round(i*1e5)/1e5}const my={textTransform:"uppercase"},py='"Roboto", "Helvetica", "Arial", sans-serif';function KC(i,l){const{fontFamily:t=py,fontSize:e=14,fontWeightLight:n=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:h,pxToRem:p,...g}=typeof l=="function"?l(i):l,y=e/14,b=p||(A=>`${A/f*y}rem`),E=(A,R,L,K,F)=>({fontFamily:t,fontWeight:A,fontSize:b(R),lineHeight:L,...t===py?{letterSpacing:`${VC(K/R)}em`}:{},...F,...h}),S={h1:E(n,96,1.167,-1.5),h2:E(n,60,1.2,-.5),h3:E(r,48,1.167,0),h4:E(r,34,1.235,.25),h5:E(r,24,1.334,0),h6:E(o,20,1.6,.15),subtitle1:E(r,16,1.75,.15),subtitle2:E(o,14,1.57,.1),body1:E(r,16,1.5,.15),body2:E(r,14,1.43,.15),button:E(o,14,1.75,.4,my),caption:E(r,12,1.66,.4),overline:E(r,12,2.66,1,my),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fn({htmlFontSize:f,pxToRem:b,fontFamily:t,fontSize:e,fontWeightLight:n,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:u,...S},g,{clone:!1})}const JC=.2,YC=.14,XC=.12;function kt(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${JC})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${YC})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${XC})`].join(",")}const $C=["none",kt(0,2,1,-1,0,1,1,0,0,1,3,0),kt(0,3,1,-2,0,2,2,0,0,1,5,0),kt(0,3,3,-2,0,3,4,0,0,1,8,0),kt(0,2,4,-1,0,4,5,0,0,1,10,0),kt(0,3,5,-1,0,5,8,0,0,1,14,0),kt(0,3,5,-1,0,6,10,0,0,1,18,0),kt(0,4,5,-2,0,7,10,1,0,2,16,1),kt(0,5,5,-3,0,8,10,1,0,3,14,2),kt(0,5,6,-3,0,9,12,1,0,3,16,2),kt(0,6,6,-3,0,10,14,1,0,4,18,3),kt(0,6,7,-4,0,11,15,1,0,4,20,3),kt(0,7,8,-4,0,12,17,2,0,5,22,4),kt(0,7,8,-4,0,13,19,2,0,5,24,4),kt(0,7,9,-4,0,14,21,2,0,5,26,4),kt(0,8,9,-5,0,15,22,2,0,6,28,5),kt(0,8,10,-5,0,16,24,2,0,6,30,5),kt(0,8,11,-5,0,17,26,2,0,6,32,5),kt(0,9,11,-5,0,18,28,2,0,7,34,6),kt(0,9,12,-6,0,19,29,2,0,7,36,6),kt(0,10,13,-6,0,20,31,3,0,8,38,7),kt(0,10,13,-6,0,21,33,3,0,8,40,7),kt(0,10,14,-6,0,22,35,3,0,8,42,7),kt(0,11,14,-7,0,23,36,3,0,9,44,8),kt(0,11,15,-7,0,24,38,3,0,9,46,8)],ZC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vy(i){return`${Math.round(i)}ms`}function WC(i){if(!i)return 0;const l=i/36;return Math.min(Math.round((4+15*l**.25+l/5)*10),3e3)}function ew(i){const l={...ZC,...i.easing},t={...QC,...i.duration};return{getAutoHeightDuration:WC,create:(n=["all"],r={})=>{const{duration:o=t.standard,easing:u=l.easeInOut,delay:f=0,...h}=r;return(Array.isArray(n)?n:[n]).map(p=>`${p} ${typeof o=="string"?o:vy(o)} ${u} ${typeof f=="string"?f:vy(f)}`).join(",")},...i,easing:l,duration:t}}const tw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function nw(i){return Sa(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function lb(i={}){const l={...i};function t(e){const n=Object.entries(e);for(let r=0;r<n.length;r++){const[o,u]=n[r];!nw(u)||o.startsWith("unstable_")?delete e[o]:Sa(u)&&(e[o]={...u},t(e[o]))}}return t(l),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(l,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function gy(i){return typeof i=="number"?`${(i*100).toFixed(0)}%`:`calc((${i}) * 100%)`}const aw=i=>{if(!Number.isNaN(+i))return+i;const l=i.match(/\d*\.?\d+/g);if(!l)return 0;let t=0;for(let e=0;e<l.length;e+=1)t+=+l[e];return t};function iw(i){Object.assign(i,{alpha(l,t){const e=this||i;return e.colorSpace?`oklch(from ${l} l c h / ${typeof t=="string"?`calc(${t})`:t})`:e.vars?`rgba(${l.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:ab(l,aw(t))},lighten(l,t){const e=this||i;return e.colorSpace?`color-mix(in ${e.colorSpace}, ${l}, #fff ${gy(t)})`:Tc(l,t)},darken(l,t){const e=this||i;return e.colorSpace?`color-mix(in ${e.colorSpace}, ${l}, #000 ${gy(t)})`:wc(l,t)}})}function Bh(i={},...l){const{breakpoints:t,mixins:e={},spacing:n,palette:r={},transitions:o={},typography:u={},shape:f,colorSpace:h,...p}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(ir(20));const g=cm({...r,colorSpace:h}),y=lm(i);let b=Fn(y,{mixins:GC(y.breakpoints,e),palette:g,shadows:$C.slice(),typography:KC(g,u),transitions:ew(o),zIndex:{...tw}});return b=Fn(b,p),b=l.reduce((E,S)=>Fn(E,S),b),b.unstable_sxConfig={...po,...p?.unstable_sxConfig},b.unstable_sx=function(S){return rr({sx:S,theme:this})},b.toRuntimeSource=lb,iw(b),b}function rw(i){let l;return i<1?l=5.11916*i**2:l=4.5*Math.log(i+1)+2,Math.round(l*10)/1e3}const sw=[...Array(25)].map((i,l)=>{if(l===0)return"none";const t=rw(l);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function ob(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function ub(i){return i==="dark"?sw:[]}function lw(i){const{palette:l={mode:"light"},opacity:t,overlays:e,colorSpace:n,...r}=i,o=cm({...l,colorSpace:n});return{palette:o,opacity:{...ob(o.mode),...t},overlays:e||ub(o.mode),...r}}function ow(i){return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!i[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const uw=i=>[...[...Array(25)].map((l,t)=>`--${i?`${i}-`:""}overlays-${t}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],cw=i=>(l,t)=>{const e=i.rootSelector||":root",n=i.colorSchemeSelector;let r=n;if(n==="class"&&(r=".%s"),n==="data"&&(r="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(r=`[${n}="%s"]`),i.defaultColorScheme===l){if(l==="dark"){const o={};return uw(i.cssVarPrefix).forEach(u=>{o[u]=t[u],delete t[u]}),r==="media"?{[e]:t,"@media (prefers-color-scheme: dark)":{[e]:o}}:r?{[r.replace("%s",l)]:o,[`${e}, ${r.replace("%s",l)}`]:t}:{[e]:{...t,...o}}}if(r&&r!=="media")return`${e}, ${r.replace("%s",String(l))}`}else if(l){if(r==="media")return{[`@media (prefers-color-scheme: ${String(l)})`]:{[e]:t}};if(r)return r.replace("%s",String(l))}return e};function fw(i,l){l.forEach(t=>{i[t]||(i[t]={})})}function Q(i,l,t){!i[l]&&t&&(i[l]=t)}function Kl(i){return typeof i!="string"||!i.startsWith("hsl")?i:nb(i)}function qa(i,l){`${l}Channel`in i||(i[`${l}Channel`]=Vl(Kl(i[l])))}function dw(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const pa=i=>{try{return i()}catch{}},hw=(i="mui")=>OC(i);function ph(i,l,t,e,n){if(!t)return;t=t===!0?{}:t;const r=n==="dark"?"dark":"light";if(!e){l[n]=lw({...t,palette:{mode:r,...t?.palette},colorSpace:i});return}const{palette:o,...u}=Bh({...e,palette:{mode:r,...t?.palette},colorSpace:i});return l[n]={...t,palette:o,opacity:{...ob(r),...t?.opacity},overlays:t?.overlays||ub(r)},u}function mw(i={},...l){const{colorSchemes:t={light:!0},defaultColorScheme:e,disableCssColorScheme:n=!1,cssVarPrefix:r="mui",nativeColor:o=!1,shouldSkipGeneratingVar:u=ow,colorSchemeSelector:f=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...p}=i,g=Object.keys(t)[0],y=e||(t.light&&g!=="light"?"light":g),b=hw(r),{[y]:E,light:S,dark:A,...R}=t,L={...R};let K=E;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(K=!0),!K)throw new Error(ir(21,y));let F;o&&(F="oklch");const ne=ph(F,L,K,p,y);S&&!L.light&&ph(F,L,S,void 0,"light"),A&&!L.dark&&ph(F,L,A,void 0,"dark");let J={defaultColorScheme:y,...ne,cssVarPrefix:r,colorSchemeSelector:f,rootSelector:h,getCssVar:b,colorSchemes:L,font:{...qC(ne.typography),...ne.font},spacing:dw(p.spacing)};Object.keys(J.colorSchemes).forEach(he=>{const M=J.colorSchemes[he].palette,ue=pe=>{const j=pe.split("-"),re=j[1],Ee=j[2];return b(pe,M[re][Ee])};M.mode==="light"&&(Q(M.common,"background","#fff"),Q(M.common,"onBackground","#000")),M.mode==="dark"&&(Q(M.common,"background","#000"),Q(M.common,"onBackground","#fff"));function ae(pe,j,re){if(F){let Ee;return pe===$i&&(Ee=`transparent ${((1-re)*100).toFixed(0)}%`),pe===st&&(Ee=`#000 ${(re*100).toFixed(0)}%`),pe===lt&&(Ee=`#fff ${(re*100).toFixed(0)}%`),`color-mix(in ${F}, ${j}, ${Ee})`}return pe(j,re)}if(fw(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){Q(M.Alert,"errorColor",ae(st,M.error.light,.6)),Q(M.Alert,"infoColor",ae(st,M.info.light,.6)),Q(M.Alert,"successColor",ae(st,M.success.light,.6)),Q(M.Alert,"warningColor",ae(st,M.warning.light,.6)),Q(M.Alert,"errorFilledBg",ue("palette-error-main")),Q(M.Alert,"infoFilledBg",ue("palette-info-main")),Q(M.Alert,"successFilledBg",ue("palette-success-main")),Q(M.Alert,"warningFilledBg",ue("palette-warning-main")),Q(M.Alert,"errorFilledColor",pa(()=>M.getContrastText(M.error.main))),Q(M.Alert,"infoFilledColor",pa(()=>M.getContrastText(M.info.main))),Q(M.Alert,"successFilledColor",pa(()=>M.getContrastText(M.success.main))),Q(M.Alert,"warningFilledColor",pa(()=>M.getContrastText(M.warning.main))),Q(M.Alert,"errorStandardBg",ae(lt,M.error.light,.9)),Q(M.Alert,"infoStandardBg",ae(lt,M.info.light,.9)),Q(M.Alert,"successStandardBg",ae(lt,M.success.light,.9)),Q(M.Alert,"warningStandardBg",ae(lt,M.warning.light,.9)),Q(M.Alert,"errorIconColor",ue("palette-error-main")),Q(M.Alert,"infoIconColor",ue("palette-info-main")),Q(M.Alert,"successIconColor",ue("palette-success-main")),Q(M.Alert,"warningIconColor",ue("palette-warning-main")),Q(M.AppBar,"defaultBg",ue("palette-grey-100")),Q(M.Avatar,"defaultBg",ue("palette-grey-400")),Q(M.Button,"inheritContainedBg",ue("palette-grey-300")),Q(M.Button,"inheritContainedHoverBg",ue("palette-grey-A100")),Q(M.Chip,"defaultBorder",ue("palette-grey-400")),Q(M.Chip,"defaultAvatarColor",ue("palette-grey-700")),Q(M.Chip,"defaultIconColor",ue("palette-grey-700")),Q(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Q(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Q(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Q(M.LinearProgress,"primaryBg",ae(lt,M.primary.main,.62)),Q(M.LinearProgress,"secondaryBg",ae(lt,M.secondary.main,.62)),Q(M.LinearProgress,"errorBg",ae(lt,M.error.main,.62)),Q(M.LinearProgress,"infoBg",ae(lt,M.info.main,.62)),Q(M.LinearProgress,"successBg",ae(lt,M.success.main,.62)),Q(M.LinearProgress,"warningBg",ae(lt,M.warning.main,.62)),Q(M.Skeleton,"bg",F?ae($i,M.text.primary,.11):`rgba(${ue("palette-text-primaryChannel")} / 0.11)`),Q(M.Slider,"primaryTrack",ae(lt,M.primary.main,.62)),Q(M.Slider,"secondaryTrack",ae(lt,M.secondary.main,.62)),Q(M.Slider,"errorTrack",ae(lt,M.error.main,.62)),Q(M.Slider,"infoTrack",ae(lt,M.info.main,.62)),Q(M.Slider,"successTrack",ae(lt,M.success.main,.62)),Q(M.Slider,"warningTrack",ae(lt,M.warning.main,.62));const pe=F?ae(st,M.background.default,.6825):Du(M.background.default,.8);Q(M.SnackbarContent,"bg",pe),Q(M.SnackbarContent,"color",pa(()=>F?xh.text.primary:M.getContrastText(pe))),Q(M.SpeedDialAction,"fabHoverBg",Du(M.background.paper,.15)),Q(M.StepConnector,"border",ue("palette-grey-400")),Q(M.StepContent,"border",ue("palette-grey-400")),Q(M.Switch,"defaultColor",ue("palette-common-white")),Q(M.Switch,"defaultDisabledColor",ue("palette-grey-100")),Q(M.Switch,"primaryDisabledColor",ae(lt,M.primary.main,.62)),Q(M.Switch,"secondaryDisabledColor",ae(lt,M.secondary.main,.62)),Q(M.Switch,"errorDisabledColor",ae(lt,M.error.main,.62)),Q(M.Switch,"infoDisabledColor",ae(lt,M.info.main,.62)),Q(M.Switch,"successDisabledColor",ae(lt,M.success.main,.62)),Q(M.Switch,"warningDisabledColor",ae(lt,M.warning.main,.62)),Q(M.TableCell,"border",ae(lt,ae($i,M.divider,1),.88)),Q(M.Tooltip,"bg",ae($i,M.grey[700],.92))}if(M.mode==="dark"){Q(M.Alert,"errorColor",ae(lt,M.error.light,.6)),Q(M.Alert,"infoColor",ae(lt,M.info.light,.6)),Q(M.Alert,"successColor",ae(lt,M.success.light,.6)),Q(M.Alert,"warningColor",ae(lt,M.warning.light,.6)),Q(M.Alert,"errorFilledBg",ue("palette-error-dark")),Q(M.Alert,"infoFilledBg",ue("palette-info-dark")),Q(M.Alert,"successFilledBg",ue("palette-success-dark")),Q(M.Alert,"warningFilledBg",ue("palette-warning-dark")),Q(M.Alert,"errorFilledColor",pa(()=>M.getContrastText(M.error.dark))),Q(M.Alert,"infoFilledColor",pa(()=>M.getContrastText(M.info.dark))),Q(M.Alert,"successFilledColor",pa(()=>M.getContrastText(M.success.dark))),Q(M.Alert,"warningFilledColor",pa(()=>M.getContrastText(M.warning.dark))),Q(M.Alert,"errorStandardBg",ae(st,M.error.light,.9)),Q(M.Alert,"infoStandardBg",ae(st,M.info.light,.9)),Q(M.Alert,"successStandardBg",ae(st,M.success.light,.9)),Q(M.Alert,"warningStandardBg",ae(st,M.warning.light,.9)),Q(M.Alert,"errorIconColor",ue("palette-error-main")),Q(M.Alert,"infoIconColor",ue("palette-info-main")),Q(M.Alert,"successIconColor",ue("palette-success-main")),Q(M.Alert,"warningIconColor",ue("palette-warning-main")),Q(M.AppBar,"defaultBg",ue("palette-grey-900")),Q(M.AppBar,"darkBg",ue("palette-background-paper")),Q(M.AppBar,"darkColor",ue("palette-text-primary")),Q(M.Avatar,"defaultBg",ue("palette-grey-600")),Q(M.Button,"inheritContainedBg",ue("palette-grey-800")),Q(M.Button,"inheritContainedHoverBg",ue("palette-grey-700")),Q(M.Chip,"defaultBorder",ue("palette-grey-700")),Q(M.Chip,"defaultAvatarColor",ue("palette-grey-300")),Q(M.Chip,"defaultIconColor",ue("palette-grey-300")),Q(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Q(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Q(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Q(M.LinearProgress,"primaryBg",ae(st,M.primary.main,.5)),Q(M.LinearProgress,"secondaryBg",ae(st,M.secondary.main,.5)),Q(M.LinearProgress,"errorBg",ae(st,M.error.main,.5)),Q(M.LinearProgress,"infoBg",ae(st,M.info.main,.5)),Q(M.LinearProgress,"successBg",ae(st,M.success.main,.5)),Q(M.LinearProgress,"warningBg",ae(st,M.warning.main,.5)),Q(M.Skeleton,"bg",F?ae($i,M.text.primary,.13):`rgba(${ue("palette-text-primaryChannel")} / 0.13)`),Q(M.Slider,"primaryTrack",ae(st,M.primary.main,.5)),Q(M.Slider,"secondaryTrack",ae(st,M.secondary.main,.5)),Q(M.Slider,"errorTrack",ae(st,M.error.main,.5)),Q(M.Slider,"infoTrack",ae(st,M.info.main,.5)),Q(M.Slider,"successTrack",ae(st,M.success.main,.5)),Q(M.Slider,"warningTrack",ae(st,M.warning.main,.5));const pe=F?ae(lt,M.background.default,.985):Du(M.background.default,.98);Q(M.SnackbarContent,"bg",pe),Q(M.SnackbarContent,"color",pa(()=>F?rb.text.primary:M.getContrastText(pe))),Q(M.SpeedDialAction,"fabHoverBg",Du(M.background.paper,.15)),Q(M.StepConnector,"border",ue("palette-grey-600")),Q(M.StepContent,"border",ue("palette-grey-600")),Q(M.Switch,"defaultColor",ue("palette-grey-300")),Q(M.Switch,"defaultDisabledColor",ue("palette-grey-600")),Q(M.Switch,"primaryDisabledColor",ae(st,M.primary.main,.55)),Q(M.Switch,"secondaryDisabledColor",ae(st,M.secondary.main,.55)),Q(M.Switch,"errorDisabledColor",ae(st,M.error.main,.55)),Q(M.Switch,"infoDisabledColor",ae(st,M.info.main,.55)),Q(M.Switch,"successDisabledColor",ae(st,M.success.main,.55)),Q(M.Switch,"warningDisabledColor",ae(st,M.warning.main,.55)),Q(M.TableCell,"border",ae(st,ae($i,M.divider,1),.68)),Q(M.Tooltip,"bg",ae($i,M.grey[700],.92))}qa(M.background,"default"),qa(M.background,"paper"),qa(M.common,"background"),qa(M.common,"onBackground"),qa(M,"divider"),Object.keys(M).forEach(pe=>{const j=M[pe];pe!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&Q(M[pe],"mainChannel",Vl(Kl(j.main))),j.light&&Q(M[pe],"lightChannel",Vl(Kl(j.light))),j.dark&&Q(M[pe],"darkChannel",Vl(Kl(j.dark))),j.contrastText&&Q(M[pe],"contrastTextChannel",Vl(Kl(j.contrastText))),pe==="text"&&(qa(M[pe],"primary"),qa(M[pe],"secondary")),pe==="action"&&(j.active&&qa(M[pe],"active"),j.selected&&qa(M[pe],"selected")))})}),J=l.reduce((he,M)=>Fn(he,M),J);const $={prefix:r,disableCssColorScheme:n,shouldSkipGeneratingVar:u,getSelector:cw(J),enableContrastVars:o},{vars:oe,generateThemeVars:ye,generateStyleSheets:be}=NC(J,$);return J.vars=oe,Object.entries(J.colorSchemes[J.defaultColorScheme]).forEach(([he,M])=>{J[he]=M}),J.generateThemeVars=ye,J.generateStyleSheets=be,J.generateSpacing=function(){return Y1(p.spacing,rm(this))},J.getColorSchemeSelector=IC(f),J.spacing=J.generateSpacing(),J.shouldSkipGeneratingVar=u,J.unstable_sxConfig={...po,...p?.unstable_sxConfig},J.unstable_sx=function(M){return rr({sx:M,theme:this})},J.toRuntimeSource=lb,J}function yy(i,l,t){i.colorSchemes&&t&&(i.colorSchemes[l]={...t!==!0&&t,palette:cm({...t===!0?{}:t.palette,mode:l})})}function cb(i={},...l){const{palette:t,cssVariables:e=!1,colorSchemes:n=t?void 0:{light:!0},defaultColorScheme:r=t?.mode,...o}=i,u=r||"light",f=n?.[u],h={...n,...t?{[u]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(e===!1){if(!("colorSchemes"in i))return Bh(i,...l);let p=t;"palette"in i||h[u]&&(h[u]!==!0?p=h[u].palette:u==="dark"&&(p={mode:"dark"}));const g=Bh({...i,palette:p},...l);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},yy(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},yy(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),mw({...o,colorSchemes:h,defaultColorScheme:u,...typeof e!="boolean"&&e},...l)}const pw=cb();function vw(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const gw=i=>vw(i)&&i!=="classes",yw=vC({themeId:O1,defaultTheme:pw,rootShouldForwardProp:gw});function bw(){return X1}const Sw=RC;function _w(i){return MC(i)}function Ew(i){return typeof i.main=="string"}function kw(i,l=[]){if(!Ew(i))return!1;for(const t of l)if(!i.hasOwnProperty(t)||typeof i[t]!="string")return!1;return!0}function Cw(i=[]){return([,l])=>l&&kw(l,i)}function ww(i){return Q1("MuiTypography",i)}W1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Tw={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Aw=bw(),Mw=i=>{const{align:l,gutterBottom:t,noWrap:e,paragraph:n,variant:r,classes:o}=i,u={root:["root",r,i.align!=="inherit"&&`align${io(l)}`,t&&"gutterBottom",e&&"noWrap",n&&"paragraph"]};return LC(u,ww,o)},Rw=yw("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,l)=>{const{ownerState:t}=i;return[l.root,t.variant&&l[t.variant],t.align!=="inherit"&&l[`align${io(t.align)}`],t.noWrap&&l.noWrap,t.gutterBottom&&l.gutterBottom,t.paragraph&&l.paragraph]}})(Sw(({theme:i})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([l,t])=>l!=="inherit"&&t&&typeof t=="object").map(([l,t])=>({props:{variant:l},style:t})),...Object.entries(i.palette).filter(Cw()).map(([l])=>({props:{color:l},style:{color:(i.vars||i).palette[l].main}})),...Object.entries(i.palette?.text||{}).filter(([,l])=>typeof l=="string").map(([l])=>({props:{color:`text${io(l)}`},style:{color:(i.vars||i).palette.text[l]}})),{props:({ownerState:l})=>l.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:l})=>l.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:l})=>l.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:l})=>l.paragraph,style:{marginBottom:16}}]}))),by={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ow=Xt.forwardRef(function(l,t){const{color:e,...n}=_w({props:l,name:"MuiTypography"}),r=!Tw[e],o=Aw({...n,...r&&{color:e}}),{align:u="inherit",className:f,component:h,gutterBottom:p=!1,noWrap:g=!1,paragraph:y=!1,variant:b="body1",variantMapping:E=by,...S}=o,A={...o,align:u,color:e,className:f,component:h,gutterBottom:p,noWrap:g,paragraph:y,variant:b,variantMapping:E},R=h||(y?"p":E[b]||by[b])||"span",L=Mw(A);return Ei.jsx(Rw,{as:R,ref:t,className:om(L.root,f),...S,ownerState:A,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...S.style}})}),xw=W1("MuiBox",["root"]),Bw=cb(),Sy=fC({themeId:O1,defaultTheme:Bw,defaultClassName:xw.root,generateClassName:$1.generate});function Nw(i,l,t,e){var n=Nh(lr(i.prototype),l,t);return typeof n=="function"?function(r){return n.apply(t,r)}:n}function Nh(){return Nh=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(i,l,t){var e=Iw(i,l);if(e){var n=Object.getOwnPropertyDescriptor(e,l);return n.get?n.get.call(arguments.length<3?i:t):n.value}},Nh.apply(null,arguments)}function Iw(i,l){for(;!{}.hasOwnProperty.call(i,l)&&(i=lr(i))!==null;);return i}function ro(i,l){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=fm(i))||l){t&&(i=t);var e=0,n=function(){};return{s:n,n:(function(f){function h(){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h})(function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}}),e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,o=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return o=h.done,h},e:function(h){u=!0,r=h},f:function(){try{o||t.return==null||t.return()}finally{if(u)throw r}}}}function Ih(i){var l=typeof Map=="function"?new Map:void 0;return Ih=function(e){if(e===null||!Dw(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(e))return l.get(e);l.set(e,n)}function n(){return Lw(e,arguments,lr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),so(n,e)},Ih(i)}function Lw(i,l,t){if(dm())return Reflect.construct.apply(null,arguments);var e=[null];e.push.apply(e,l);var n=new(i.bind.apply(i,e));return t&&so(n,t.prototype),n}function Dw(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}function sr(i,l){return Pw(i)||zw(i,l)||fm(i,l)||Uw()}function Uw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zw(i,l){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var e,n,r,o,u=[],f=!0,h=!1;try{if(r=(t=t.call(i)).next,l===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=r.call(t)).done)&&(u.push(e.value),u.length!==l);f=!0);}catch(p){h=!0,n=p}finally{try{if(!f&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw n}}return u}}function Pw(i){if(Array.isArray(i))return i}function tr(i){return Fw(i)||jw(i)||fm(i)||Hw()}function Hw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fm(i,l){if(i){if(typeof i=="string")return Lh(i,l);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Lh(i,l):void 0}}function jw(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Fw(i){if(Array.isArray(i))return Lh(i)}function Lh(i,l){(l==null||l>i.length)&&(l=i.length);for(var t=0,e=Array(l);t<l;t++)e[t]=i[t];return e}function ce(i,l,t){return l=lr(l),qw(i,dm()?Reflect.construct(l,t||[],lr(i).constructor):l.apply(i,t))}function qw(i,l){if(l&&(ie(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vs(i)}function vs(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function dm(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dm=function(){return!!i})()}function lr(i){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},lr(i)}function fe(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),l&&so(i,l)}function so(i,l){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},so(i,l)}function k(){var i,l,t=typeof Symbol=="function"?Symbol:{},e=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function r(b,E,S,A){var R=E&&E.prototype instanceof u?E:u,L=Object.create(R.prototype);return Pn(L,"_invoke",(function(K,F,ne){var J,$,oe,ye=0,be=ne||[],he=!1,M={p:0,n:0,v:i,a:ue,f:ue.bind(i,4),d:function(pe,j){return J=pe,$=0,oe=i,M.n=j,o}};function ue(ae,pe){for($=ae,oe=pe,l=0;!he&&ye&&!j&&l<be.length;l++){var j,re=be[l],Ee=M.p,Xe=re[2];ae>3?(j=Xe===pe)&&(oe=re[($=re[4])?5:($=3,3)],re[4]=re[5]=i):re[0]<=Ee&&((j=ae<2&&Ee<re[1])?($=0,M.v=pe,M.n=re[1]):Ee<Xe&&(j=ae<3||re[0]>pe||pe>Xe)&&(re[4]=ae,re[5]=pe,M.n=Xe,$=0))}if(j||ae>1)return o;throw he=!0,pe}return function(ae,pe,j){if(ye>1)throw TypeError("Generator is already running");for(he&&pe===1&&ue(pe,j),$=pe,oe=j;(l=$<2?i:oe)||!he;){J||($?$<3?($>1&&(M.n=-1),ue($,oe)):M.n=oe:M.v=oe);try{if(ye=2,J){if($||(ae="next"),l=J[ae]){if(!(l=l.call(J,oe)))throw TypeError("iterator result is not an object");if(!l.done)return l;oe=l.value,$<2&&($=0)}else $===1&&(l=J.return)&&l.call(J),$<2&&(oe=TypeError("The iterator does not provide a '"+ae+"' method"),$=1);J=i}else if((l=(he=M.n<0)?oe:K.call(F,M))!==o)break}catch(re){J=i,$=1,oe=re}finally{ye=1}}return{value:l,done:he}}})(b,S,A),!0),L}var o={};function u(){}function f(){}function h(){}l=Object.getPrototypeOf;var p=[][e]?l(l([][e]())):(Pn(l={},e,function(){return this}),l),g=h.prototype=u.prototype=Object.create(p);function y(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,h):(b.__proto__=h,Pn(b,n,"GeneratorFunction")),b.prototype=Object.create(g),b}return f.prototype=h,Pn(g,"constructor",h),Pn(h,"constructor",f),f.displayName="GeneratorFunction",Pn(h,n,"GeneratorFunction"),Pn(g),Pn(g,n,"Generator"),Pn(g,e,function(){return this}),Pn(g,"toString",function(){return"[object Generator]"}),(k=function(){return{w:r,m:y}})()}function Pn(i,l,t,e){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}Pn=function(o,u,f,h){function p(g,y){Pn(o,g,function(b){return this._invoke(g,y,b)})}u?n?n(o,u,{value:f,enumerable:!h,configurable:!h,writable:!h}):o[u]=f:(p("next",0),p("throw",1),p("return",2))},Pn(i,l,t,e)}function _y(i,l,t,e,n,r,o){try{var u=i[r](o),f=u.value}catch(h){return void t(h)}u.done?l(f):Promise.resolve(f).then(e,n)}function I(i){return function(){var l=this,t=arguments;return new Promise(function(e,n){var r=i.apply(l,t);function o(f){_y(r,e,n,o,u,"next",f)}function u(f){_y(r,e,n,o,u,"throw",f)}o(void 0)})}}function Ey(i,l){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);l&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function ze(i){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?arguments[l]:{};l%2?Ey(Object(t),!0).forEach(function(e){C(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ey(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function C(i,l,t){return(l=fb(l))in i?Object.defineProperty(i,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[l]=t,i}function ie(i){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ie(i)}function z(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function ky(i,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,fb(e.key),e)}}function P(i,l,t){return l&&ky(i.prototype,l),t&&ky(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function fb(i){var l=Gw(i,"string");return ie(l)=="symbol"?l:l+""}function Gw(i,l){if(ie(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var e=t.call(i,l);if(ie(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(i)}var B="classList",X="style",Vw="unset",Kw="html-wrapper",se=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div";return document.createElement(l)},Jw=(function(){function i(){z(this,i)}return P(i,null,[{key:"render",value:function(t,e){var n=se();n.id="error-view",n.innerText=e,t.replaceChildren(n)}}])})(),Yw=(function(){function i(){z(this,i)}return P(i,null,[{key:"onLoad",value:function(t){t.innerHTML='<div id="loading-validate-key-property"></div>'}},{key:"createElements",value:function(){var t=se();return t.id="validate-property-key-view",t}},{key:"render",value:function(t,e,n){var r=i.createElements(),o={onSuccess:e,onFail:Jw.render.bind(this,t,"Your 'key' has failed authentication"),onLoad:i.onLoad.bind(this,r)};n.key&&n.verifyKey(n.key,o),t.replaceChildren(r)}}])})(),St="service",w="text",Me="html",O="error",Qe="https://deepchat.dev/docs/",vt="ai",qe="user",ka="assistant",oc="error-message-text",Uu="deep-chat-outer-container-role-",Cy="empty-message",vh="deep-chat-top-message",wy="deep-chat-middle-message",gh="deep-chat-bottom-message",de="src",ke="type",_t="file",H="files",Ye="image",ot="images",vn="camera",ds="gifs",De="audio",va="microphone",db="mixedFiles",or="any",hb="file-message",wi="start",mb="end",pb="messages",Ty="0",Ay="1";function My(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Xw(i){return i&&JSON.stringify(i)}function hm(i,l,t,e){var n=`
`.concat(My(l)," message: ").concat(JSON.stringify(i),` 
`),r=t?"".concat(My(l)," message after interceptor: ").concat(Xw(e),` 
`):"";return n+r}function $w(i,l,t,e){return"".concat(hm(i,l,t,e),"Make sure the ").concat(l," message is using the Response format: ").concat(Qe,`connect/#Response 
You can also augment it using the responseInterceptor property: `).concat(Qe,"interceptors#responseInterceptor")}function Zw(i,l,t){var e="response";return"".concat(hm(i,e,l,t),"Make sure the ").concat(e,' message is using the {text: string} format, e.g: {text: "Model Response"}')}function Qw(i,l){var t="request";return"".concat(hm(i,t,l),"Make sure the ").concat(t,' message is using the {body: {text: string}} format, e.g: {body: {text: "Model Response"}}')}function Ww(i){return"".concat(i," failed - please wait for chat view to render before calling this property.")}var hs=$w,e3=Qw,t3=Zw,Ry=Ww,xt="Invalid API Key",qn="Failed to connect",gn="Request settings have not been set up",Ac="No file was added",mm="Image was not found",vb="Multi-response arrays are not supported for streaming",gb=`Make sure the events are using {text: string} or {html: string} format.
You can also augment them using the responseInterceptor property: `.concat(Qe,"interceptors#responseInterceptor"),n3="Cannot mix {text: string} and {html: string} responses.",a3=`No valid stream events were sent.
`.concat(gb),i3="Readable Stream connection error.",Ri="Please define a `function_handler` property inside the service config.",ur="Function tool response must be an array or contain a text property",yb="Failed to fetch history",gs="inside-start",ba="inside-end",fn="outside-start",Jt="outside-end",na="dropup-menu",le="default",mn="hover",nt="click",Gt=(function(){function i(){z(this,i)}return P(i,null,[{key:"unsetStyle",value:function(t,e){var n=Object.keys(e).reduce(function(r,o){return r[o]="",r},{});Object.assign(t[X],n)}},{key:"unsetActivityCSSMouseStates",value:function(t,e){e[nt]&&i.unsetStyle(t,e[nt]),e[mn]&&i.unsetStyle(t,e[mn])}},{key:"unsetAllCSSMouseStates",value:function(t,e){i.unsetActivityCSSMouseStates(t,e),e[le]&&i.unsetStyle(t,e[le])}},{key:"processStateful",value:function(t){var e=t[le]||{},n=Object.assign(JSON.parse(JSON.stringify(e)),t?.[mn]),r=Object.assign(JSON.parse(JSON.stringify(n)),t?.[nt]);return C(C(C({},le,e),mn,n),nt,r)}},{key:"mergeStatefulStyles",value:function(t){var e=C(C(C({},le,{}),mn,{}),nt,{});return t.forEach(function(n){e[le]=Object.assign(e[le],n[le]),e[mn]=Object.assign(e[mn],n[mn]),e[nt]=Object.assign(e[nt],n[nt])}),e}},{key:"overwriteDefaultWithAlreadyApplied",value:function(t,e){Object.keys(t[le]||[]).forEach(function(n){var r,o=n;e[X][o]&&(r=t[le])!=null&&r[o]&&(t[le][n]=e[X][o])})}},{key:"applyToStyleIfNotDefined",value:function(t,e){for(var n in e){var r=e[n];t[n]===""&&r&&(t[n]=r)}}}])})(),Dh=(function(){function i(){z(this,i)}return P(i,null,[{key:"attemptAppendStyleSheetToHead",value:function(t){if(!(t.fontFamily&&t.fontFamily!==i.DEFAULT_FONT_FAMILY)){var e=document.getElementsByTagName("head")[0];if(!Array.from(e.getElementsByTagName("link")).some(function(r){return r.getAttribute("href")===i.FONT_URL})){var n=se("link");n.rel="stylesheet",n.href=i.FONT_URL,e.appendChild(n)}}}}])})();Dh.FONT_URL="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap",Dh.DEFAULT_FONT_FAMILY="'Inter', sans-serif, Avenir, Helvetica, Arial";var bb=Dh,Sb=(function(){function i(){z(this,i)}return P(i,null,[{key:"apply",value:function(t,e){if(e)try{i.applyStyleSheet(t,e)}catch{i.addStyleElement(t,e)}}},{key:"applyStyleSheet",value:function(t,e){var n=new CSSStyleSheet;n.replaceSync(t),e.adoptedStyleSheets.push(n)}},{key:"addStyleElement",value:function(t,e){var n=se("style");n.innerHTML=t,e.appendChild(n)}},{key:"applyDefaultStyleToComponent",value:function(t,e){e&&Gt.applyToStyleIfNotDefined(t,e),Gt.applyToStyleIfNotDefined(t,i.DEFAULT_COMPONENT_STYLE)}}])})();Sb.DEFAULT_COMPONENT_STYLE={height:"350px",width:"320px",borderTop:"1px solid #cacaca",borderRight:"1px solid #cacaca",borderLeft:"1px solid #cacaca",borderBottom:"1px solid #cacaca",fontFamily:bb.DEFAULT_FONT_FAMILY,fontSize:"0.9rem",backgroundColor:"white",position:"relative",overflow:"hidden"};var yh=Sb,_b=(function(){function i(){z(this,i)}return P(i,null,[{key:"buildElement",value:function(){var t=se();t[B].add("tooltip");var e=se("span");return e[B].add("tooltip-text"),t.appendChild(e),t}},{key:"tryCreateConfig",value:function(t,e){if(e)return typeof e=="boolean"?C({},w,t):C(C(C({},w,e[w]||t),"timeout",e.timeout||0),"style",e[X])}},{key:"traverseParentUntilContainer",value:function(t){for(var e=t;e.parentElement;)e=e.parentElement;return e}},{key:"setPosition",value:function(t,e){var n=e.getRootNode().host.getBoundingClientRect(),r=t.getBoundingClientRect(),o=e.getBoundingClientRect().width/2,u=r.left+r.width/2;e[X].left="".concat(u-o-n.left,"px"),e[X].top="".concat(r.top-36-n.top,"px");var f=e.getBoundingClientRect();f.left<n.left?e[X].left="".concat(i.OVERFLOW_NEW_POSITION_PX,"px"):f.right>n.right&&(e[X].left="".concat(n.width-f.width-i.OVERFLOW_NEW_POSITION_PX,"px"))}},{key:"display",value:function(t,e,n){return n||(n=i.traverseParentUntilContainer(t).nextSibling),e[w]&&(n.children[0].textContent=e[w]),{timeout:setTimeout(function(){n[X].visibility="visible",i.setPosition(t,n),e[X]&&Object.assign(n[X],e[X])},e.timeout||0),element:n}}},{key:"hide",value:function(t,e){clearTimeout(t.timeout),t.element[X].visibility="hidden",e[X]&&Gt.unsetStyle(t.element,e[X]),t.element[X].left="",t.element[X].top=""}}])})();_b.OVERFLOW_NEW_POSITION_PX=4;var Xa=_b,Xu=P(function i(){z(this,i)});Xu.IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Xu.IS_CHROMIUM=window.chrome,Xu.IS_MOBILE=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);var ra=Xu,Ft=(function(i){return i.ESCAPE="Escape",i.ENTER="Enter",i.TAB="Tab",i.ARROW_UP="ArrowUp",i.ARROW_DOWN="ArrowDown",i.ARROW_RIGHT="ArrowRight",i.ARROW_LEFT="ArrowLeft",i.BACKSPACE="Backspace",i.DELETE="Delete",i.META="Meta",i.CONTROL="Control",i})(Ft||{}),Eb=(function(){function i(){z(this,i)}return P(i,null,[{key:"add",value:function(t,e,n,r){n!==void 0&&t.addEventListener("keydown",i.onKeyDown.bind(this,n)),t.oninput=i.onInput.bind(this,n,r),t.addEventListener("paste",function(o){var u;o.preventDefault(),(u=o.clipboardData)!=null&&u[H].length&&e.addFilesToAnyType(Array.from(o.clipboardData[H]))})}},{key:"onKeyDown",value:function(t,e){var n=e.target.textContent;n&&n.length>=t&&!i.PERMITTED_KEYS.has(e.key)&&!i.isKeyCombinationPermitted(e)&&e.preventDefault()}},{key:"isKeyCombinationPermitted",value:function(t){return t.key==="a"?t.ctrlKey||t.metaKey:!1}},{key:"onInput",value:function(t,e,n){var r=n.target,o=r.textContent||"";t!==void 0&&o.length>t&&(r.textContent=o.substring(0,t),lo.focusEndOfInput(r)),e?.()}}])})();Eb.PERMITTED_KEYS=new Set([Ft.BACKSPACE,Ft.DELETE,Ft.ARROW_RIGHT,Ft.ARROW_LEFT,Ft.ARROW_DOWN,Ft.ARROW_UP,Ft.META,Ft.CONTROL,Ft.ENTER]);var r3=Eb,s3=(function(){function i(){z(this,i)}return P(i,null,[{key:"sanitizePastedTextContent",value:function(t){var e,n;t.preventDefault();var r=(e=t.clipboardData)==null?void 0:e.getData("text/plain");r&&((n=document.execCommand)==null||n.call(document,"insertText",!1,r))}}])})(),kb=(function(){function i(l,t,e,n){var r=this;z(this,i);var o,u,f,h;this._isComposing=!1;var p=i.processConfig(t,l.textInput);this.elementRef=i.createContainerElement((o=p?.styles)==null?void 0:o.container),this._config=p,this.inputElementRef=this.createInputElement((u=l.defaultInput)==null?void 0:u[w],n),i.addFilesToAnyType(e,(f=l.defaultInput)==null?void 0:f[H]),this.elementRef.appendChild(this.inputElementRef),l.setPlaceholderText=this.setPlaceholderText.bind(this),l.setPlaceholderText(((h=this._config.placeholder)==null?void 0:h[w])||"Ask me anything!"),this._browserStorage=n,setTimeout(function(){r3.add(r.inputElementRef,e,r._config.characterLimit,l._validationHandler),r._onInput=t.onInput})}return P(i,[{key:"clear",value:function(){var t,e,n,r=window.scrollY;this.inputElementRef[B].contains("text-input-disabled")||(Object.assign(this.inputElementRef[X],(t=this._config.placeholder)==null?void 0:t[X]),this.inputElementRef.textContent="",lo.focusEndOfInput(this.inputElementRef),(e=this._onInput)==null||e.call(this,!1),(n=this._browserStorage)==null||n.addInputText("")),ra.IS_CHROMIUM&&window.scrollTo({top:r})}},{key:"createInputElement",value:function(t,e){var n,r,o,u,f=se();return f.id=i.TEXT_INPUT_ID,f[B].add("text-input-styling"),f.role="textbox",typeof t=="string"?f.innerText=t:e!=null&&e.trackInputText&&(f.innerText=e.get().inputText||""),ra.IS_MOBILE&&f.setAttribute("tabindex","0"),ra.IS_CHROMIUM&&i.preventAutomaticScrollUpOnNewLine(f),typeof this._config.disabled=="boolean"&&this._config.disabled===!0?(f.contentEditable="false",f[B].add("text-input-disabled"),f.setAttribute("aria-disabled","true")):(f.contentEditable="true",f.removeAttribute("aria-disabled"),this.addEventListeners(f)),Object.assign(f[X],(n=this._config.styles)==null?void 0:n[w]),Object.assign(f[X],(r=this._config.placeholder)==null?void 0:r[X]),(u=(o=this._config.placeholder)==null?void 0:o[X])!=null&&u.color||f.setAttribute("textcolor",""),f}},{key:"removePlaceholderStyle",value:function(){var t,e,n,r;!this.inputElementRef[B].contains("text-input-disabled")&&(t=this._config.placeholder)!=null&&t[X]&&(Gt.unsetStyle(this.inputElementRef,(e=this._config.placeholder)==null?void 0:e[X]),Object.assign(this.inputElementRef[X],(r=(n=this._config)==null?void 0:n.styles)==null?void 0:r[w]))}},{key:"addEventListeners",value:function(t){var e=this,n,r;(n=this._config.styles)!=null&&n.focus&&(t.onfocus=function(){var o;return Object.assign(e.elementRef[X],(o=e._config.styles)==null?void 0:o.focus)},t.onblur=this.onBlur.bind(this,this._config.styles.focus,(r=this._config.styles)==null?void 0:r.container)),t.addEventListener("keydown",this.onKeydown.bind(this)),t.addEventListener("input",this.onInput.bind(this)),t.addEventListener("paste",s3.sanitizePastedTextContent),t.addEventListener("compositionstart",function(){return e._isComposing=!0}),t.addEventListener("compositionend",function(){return e._isComposing=!1})}},{key:"onBlur",value:function(t,e){Gt.unsetStyle(this.elementRef,t),e&&Object.assign(this.elementRef[X],e)}},{key:"onKeydown",value:function(t){var e;t.key===Ft.ENTER&&!ra.IS_MOBILE&&!this._isComposing&&!t.ctrlKey&&!t.shiftKey&&(t.preventDefault(),(e=this.submit)==null||e.call(this))}},{key:"onInput",value:function(){var t,e;this.isTextInputEmpty()?Object.assign(this.inputElementRef[X],(t=this._config.placeholder)==null?void 0:t[X]):this.removePlaceholderStyle(),(e=this._onInput)==null||e.call(this,!0)}},{key:"setPlaceholderText",value:function(t){this.inputElementRef.setAttribute("deep-chat-placeholder-text",t),this.inputElementRef.setAttribute("aria-label",t)}},{key:"isTextInputEmpty",value:function(){return this.inputElementRef.textContent===""}}],[{key:"processConfig",value:function(t,e){var n,r,o,u;return e??(e={}),(n=e.disabled)!==null&&n!==void 0||(e.disabled=t.isTextInputDisabled),(r=e.placeholder)!==null&&r!==void 0||(e.placeholder={}),(o=(u=e.placeholder)[w])!==null&&o!==void 0||(u[w]=t.textInputPlaceholderText),e}},{key:"createContainerElement",value:function(t){var e=se();return e.id="text-input-container",Object.assign(e[X],t),e}},{key:"preventAutomaticScrollUpOnNewLine",value:function(t){var e;t.addEventListener("keydown",function(){e=window.scrollY}),t.addEventListener("input",function(){e!==window.scrollY&&window.scrollTo({top:e})})}},{key:"addFilesToAnyType",value:function(t,e){e&&t.addFilesToAnyType(Array.from(e).map(function(n){return n}))}}])})();kb.TEXT_INPUT_ID="text-input";var Cb=kb,lo=(function(){function i(){z(this,i)}return P(i,null,[{key:"focusEndOfInput",value:function(t){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n?.removeAllRanges(),n?.addRange(e),(ra.IS_MOBILE||ra.IS_SAFARI)&&t.focus()}},{key:"focusFromParentElement",value:function(t){var e=t.querySelector("#".concat(Cb.TEXT_INPUT_ID));e&&i.focusEndOfInput(e)}}])})(),wb="Authentication",Rt="Authorization",l3="authorization",pm="Unauthorized",vm="Authorization header",Oi="Invalid",vo="Incorrect",on="authentication_error",la="invalid_request_error",Pe="Content-Type",o3="content-type",ht="application/json",Ue="object",gm="completed",ln="Bearer ",Ot="GET",Vt="POST",ym="Upload an audio file",$u="function_call",nr="input_audio",wn="image_url",Tb=(function(){function i(){z(this,i)}return P(i,null,[{key:"addElements",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach(function(o){return t.appendChild(o)})}},{key:"isScrollbarAtBottomOfElement",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.CODE_SNIPPET_GENERATION_JUMP,n=t.scrollHeight,r=t.clientHeight,o=t.scrollTop,u=n-r;return o>=u-e}},{key:"cloneElement",value:function(t){var e=t.cloneNode(!0);return t.parentNode.replaceChild(e,t),e}},{key:"scrollToBottom",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;t.scrollButton&&t.scrollButton.hiddenElements.size>0&&t.scrollButton.clearHidden(),n?t.elementRef.scrollTo({left:0,top:n.offsetTop}):e?t.elementRef.scrollTo({left:0,top:t.elementRef.scrollHeight,behavior:"smooth"}):t.elementRef.scrollTop=t.elementRef.scrollHeight}},{key:"scrollToTop",value:function(t){t.scrollTop=0}},{key:"isVisibleInParent",value:function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return n.bottom>r.top&&n.top<r.bottom}},{key:"waitForScrollEnd",value:function(t,e){var n=-1,r=0,o=function(){var f=t.scrollTop;if(f===n){if(r++,r>2){e();return}}else r=0,n=f;requestAnimationFrame(o)};requestAnimationFrame(o)}},{key:"assignButtonEvents",value:function(t,e){t.onclick=e,t.onkeydown=function(n){n.key===Ft.ENTER&&setTimeout(e)}}}])})();Tb.CODE_SNIPPET_GENERATION_JUMP=1;var Ke=Tb,Ab=(function(){function i(){z(this,i)}return P(i,null,[{key:"speak",value:function(t,e){if(!e.audio&&window.SpeechSynthesisUtterance){var n=new SpeechSynthesisUtterance(t);Object.assign(n,e),speechSynthesis.speak(n)}}},{key:"processConfig",value:function(t,e){var n={};setTimeout(function(){if(ie(t)=="object"&&(t.audio&&(n.audio=t.audio),t.lang&&(n.lang=t.lang),t.pitch&&(n.pitch=t.pitch),t.rate&&(n.rate=t.rate),t.volume&&(n.volume=t.volume),t.voiceName)){var r=window.speechSynthesis.getVoices().find(function(o){var u;return o.name.toLocaleLowerCase()===((u=t.voiceName)==null?void 0:u.toLocaleLowerCase())});r&&(n.voice=r)}e(n)},i.LOAD_VOICES_MS)}}])})();Ab.LOAD_VOICES_MS=200;var Zu=Ab,Uh=(function(){function i(){z(this,i)}return P(i,null,[{key:"colorToHex",value:function(t){var e=se();return e[X].color=t,document.body.appendChild(e),"#".concat(window.getComputedStyle(e).color.match(/\d+/g).map(function(n){return parseInt(n).toString(16).padStart(2,"0")}).join(""))}},{key:"setDots",value:function(t,e){var n,r;if((r=(n=e?.styles)==null?void 0:n.bubble)!=null&&r.color){var o=i.colorToHex(e.styles.bubble.color);t[X].setProperty("--loading-message-color",o),t[X].setProperty("--loading-message-color-fade","".concat(o,"33"))}else t[X].setProperty("--loading-message-color","#848484"),t[X].setProperty("--loading-message-color-fade","#55555533")}},{key:"setRing",value:function(t,e){var n=e||{},r=n.color,o=n.width,u=n.height,f=n.margin,h=n.border;if(r){var p=i.colorToHex(r);t[X].setProperty("--loading-history-color",p)}else t[X].setProperty("--loading-history-color","#dbdbdb");t[X].setProperty("--loading-history-height",u||"57px"),t[X].setProperty("--loading-history-width",o||"57px"),t[X].setProperty("--loading-history-margin",f||"7px"),t[X].setProperty("--loading-history-border",h||"6px solid")}}])})();Uh.BUBBLE_CLASS="deep-chat-loading-message-bubble",Uh.DOTS_CONTAINER_CLASS="deep-chat-loading-message-dots-container";var ki=Uh,Ct=(function(){function i(){z(this,i)}return P(i,null,[{key:"checkForContainerStyles",value:function(t,e){var n=t.containerStyle;n&&(Object.assign(e[X],n),console[O]("The containerStyle property".concat(ta,"1.3.14.")),console[O]("".concat(Zi,"the style property instead: ").concat(Qe,"styles#style")))}},{key:"handleResponseProperty",value:function(t){return console[O]("The {result: ....} response object type".concat(ta,"1.3.0.")),console[O]("".concat(Zi,"the new response object: ").concat(Qe,"connect#Response")),t.result}},{key:"processHistory",value:function(t){var e=t.initialMessages;if(e)return console[O]("The initialMessages property".concat(ta,"2.0.0.")),console[O]("".concat(Zi,"the history property instead: ").concat(Qe,"messages/#history")),e}},{key:"processHistoryFile",value:function(t){var e=t[_t];e&&(console[O]("The file property in MessageContent".concat(ta,"1.3.17.")),console[O]("".concat(Zi,"the files array property: ").concat(Qe,"messages/#MessageContent")),t[H]=[e])}},{key:"processValidateInput",value:function(t){var e=t.validateMessageBeforeSending;if(e)return console[O]("The validateMessageBeforeSending property".concat(ta,"1.3.24.")),console[O]("".concat(Zi,"validateInput: ").concat(Qe,"interceptors#validateInput")),e}},{key:"processSubmitUserMessage",value:function(t){return console[O]("The submitUserMessage(text: string) argument string type".concat(ta,"1.4.4.")),console[O]("".concat(Zi,"the new argument type: ").concat(Qe,"methods#submitUserMessage")),C({},w,t)}},{key:"flagHTMLUpdateClass",value:function(t){var e;(e=t.children[0])!=null&&e[B].contains("deep-chat-update-message")&&(console[O]('The "deep-chat-update-message" html class'.concat(ta,"1.4.4.")),console[O]("".concat(Zi,"using {..., overwrite: true} object: ").concat(Qe,"connect#Response")))}},{key:"processConnect",value:function(t){var e=t;e.request&&(e.connect?Object.assign(e.connect,e.request):e.connect=e.request,console[O]("The request property".concat(ta,"2.0.0.")),console[O]("".concat(zu,"connect object: ").concat(Qe,"connect#connect-1")))}},{key:"checkForStream",value:function(t){var e=t.stream;if(e)return console[O]("The stream property".concat(xy,"the connect object in version 2.0.0.")),console[O]("".concat(zu,"connect object: ").concat(Qe,"connect#connect-1")),e}},{key:"fireOnNewMessage",value:function(t,e){var n,r=t;r.onNewMessage&&(console[O]("The onNewMessage event".concat(ta,"2.0.0.")),console[O]("".concat(zu,"onMessage event: ").concat(Qe,"events#onMessage")),(n=r.onNewMessage)==null||n.call(r,e)),t.dispatchEvent(new CustomEvent("new-message",{detail:e}))}},{key:"processFileConfigConnect",value:function(t){var e=t;e.request&&(console[O]("The request property in file configuration".concat(ta,"2.0.0.")),console[O]("Please use the connect property instead: ".concat(Qe,"files")),e.connect||(e.connect=e.request))}},{key:"processMessageStyles",value:function(t){if(t){var e=JSON.parse(JSON.stringify(t)),n=e.loading;return n&&(n.outerContainer||n.innerContainer||n.bubble||n.media)&&(console[O]("The loading message styles are defined using LoadingMessageStyles interface".concat(us,"2.1.0.")),console[O]("Check it out here: ".concat(Qe,"messages/styles#LoadingMessageStyles")),e.loading={message:{styles:n}}),e}}},{key:"processDemo",value:function(t){return typeof t=="boolean"||t.displayLoadingBubble&&(console[O]("The demo displayLoadingBubble property".concat(ta,"2.1.0.")),console[O]("Please use displayLoading instead: ".concat(Qe,"modes#demo")),t.displayLoading={message:!0}),t}},{key:"processCohere",value:function(t){var e=t,n="".concat(zu,"official documentation: ").concat(Qe,"directConnection/Cohere");return e.chat&&(console[O]("Cohere chat property".concat(ta,"2.2.3.")),console[O](n),delete e.chat),e.textGeneration?(console[O]("Cohere textGeneration".concat(Oy,"2.2.3.")),console[O](n),delete e.textGeneration,!1):e.summarization?(console[O]("Cohere summarization".concat(Oy,"2.2.3.")),console[O](n),delete e.summarization,!1):!0}},{key:"processStreamHTMLWrappers",value:function(t){if(!(!t||ie(t)!==Ue)){var e=t.htmlWrappers;if(e)return console[O]("The htmlWrappers property".concat(xy,"Deep Chat's base").concat(us,"2.3.0.")),console[O]("Check it out here: ".concat(Qe,"messages/HTML#htmlWrappers")),e}}},{key:"processFocusMode",value:function(t){return!t||typeof t=="boolean"||t.scroll&&(console[O]("The scroll property in focusMode has been changed to smoothScroll".concat(us,"2.3.0.")),console[O]("Check it out here: ".concat(Qe,"modes#focusMode")),t.smoothScroll=!0),t}},{key:"processPosition",value:function(t){if(!t)return t;var e="Position names have been updated".concat(us,"2.3.1.");return t==="inside-left"?(console[O](e),gs):t==="inside-right"?(console[O](e),ba):t==="outside-left"?(console[O](e),fn):t==="outside-right"?(console[O](e),Jt):t}},{key:"processBrowserStorage",value:function(t){var e=t.get();e&&Array.isArray(e)&&t.addMessages(e)}}])})(),us=" since version ",ta=" is deprecated ".concat(us),Zi="Please change to using ",zu="Please see the ",Oy=" is not supported ".concat(us),xy=" has been moved to ",Mc=(function(){function i(){z(this,i)}return P(i,null,[{key:"mouseUp",value:function(t,e){Gt.unsetAllCSSMouseStates(t,e),Object.assign(t[X],e[le]),Object.assign(t[X],e[mn])}},{key:"mouseDown",value:function(t,e){Object.assign(t[X],e[nt])}},{key:"mouseLeave",value:function(t,e){Gt.unsetAllCSSMouseStates(t,e),Object.assign(t[X],e[le])}},{key:"mouseEnter",value:function(t,e){Object.assign(t[X],e[mn])}},{key:"add",value:function(t,e){t.addEventListener("mouseenter",i.mouseEnter.bind(this,t,e)),t.addEventListener("mouseleave",i.mouseLeave.bind(this,t,e)),t.addEventListener("mousedown",i.mouseDown.bind(this,t,e)),t.addEventListener("mouseup",i.mouseUp.bind(this,t,e))}}])})(),u3="deep-chat-temporary-message",c3="deep-chat-suggestion-button",zh={"deep-chat-button":{styles:C(C(C({},le,{backgroundColor:"white",padding:"5px",paddingLeft:"7px",paddingRight:"7px",border:"1px solid #c2c2c2",borderRadius:"6px",cursor:"pointer"}),mn,{backgroundColor:"#fafafa"}),nt,{backgroundColor:"#f1f1f1"})}},By=Object.keys(zh),ms=(function(){function i(){z(this,i)}return P(i,null,[{key:"applySuggestionEvent",value:function(t,e){setTimeout(function(){e.addEventListener(nt,function(){var n,r;(r=t.submitUserMessage)==null||r.call(t,C({},w,((n=e.textContent)==null?void 0:n.trim())||""))})})}},{key:"isElementTemporary",value:function(t){var e;return t?(e=t.bubbleElement.children[0])==null?void 0:e[B].contains(u3):!1}},{key:"doesElementContainDeepChatClass",value:function(t){return By.find(function(e){return t[B].contains(e)})}},{key:"applyEvents",value:function(t,e){var n=zh[e].events;Object.keys(n||[]).forEach(function(r){t.addEventListener(r,n?.[r])})}},{key:"getProcessedStyles",value:function(t,e,n){var r=Array.from(e[B]).reduce(function(h,p){var g,y=(g=t[p])==null?void 0:g.styles;return y&&t[p].styles&&h.push(y),h},[]),o=zh[n].styles;if(o){var u=JSON.parse(JSON.stringify(o));u[le]&&Gt.overwriteDefaultWithAlreadyApplied(u,e),r.unshift(u)}var f=Gt.mergeStatefulStyles(r);return Gt.processStateful(f)}},{key:"applyDeepChatUtilities",value:function(t,e,n){By.forEach(function(o){var u=n.getElementsByClassName(o);Array.from(u||[]).forEach(function(f){var h=i.getProcessedStyles(e,f,o);sn.applyStylesToElement(f,h),i.applyEvents(f,o)})});var r=n.getElementsByClassName(c3);Array.from(r).forEach(function(o){return i.applySuggestionEvent(t,o)})}}])})(),sn=(function(){function i(){z(this,i)}return P(i,null,[{key:"applyStylesToElement",value:function(t,e){var n=Gt.processStateful(e);Mc.add(t,n),Object.assign(t[X],n[le])}},{key:"applyEventsToElement",value:function(t,e){Object.keys(e).forEach(function(n){var r=e[n];r&&t.addEventListener(n,r)})}},{key:"applyClassUtilitiesToElement",value:function(t,e){var n=e.events,r=e.styles;n&&i.applyEventsToElement(t,n),r&&!ms.doesElementContainDeepChatClass(t)&&i.applyStylesToElement(t,r)}},{key:"applyCustomClassUtilities",value:function(t,e){Object.keys(t).forEach(function(n){var r=e.getElementsByClassName(n);Array.from(r).forEach(function(o){t[n]&&i.applyClassUtilitiesToElement(o,t[n])})})}},{key:"apply",value:function(t,e){ms.applyDeepChatUtilities(t,t.htmlClassUtilities,e),i.applyCustomClassUtilities(t.htmlClassUtilities,e)}},{key:"traverseNodes",value:function(t,e){t.nodeType===Node.ELEMENT_NODE&&e.push(t.outerHTML),t.childNodes.forEach(function(n){i.traverseNodes(n,e)})}},{key:"splitHTML",value:function(t){var e=new DOMParser().parseFromString(t,"text/html"),n=[];return e.body.childNodes.forEach(function(r){i.traverseNodes(r,n)}),n}},{key:"isTemporaryBasedOnHTML",value:function(t){var e=se();return e.innerHTML=t,ms.isElementTemporary({outerContainer:e,bubbleElement:e,innerContainer:e})}},{key:"replaceElementWithNewClone",value:function(t,e){var n,r=(e||t).cloneNode(!0);return(n=t.parentNode)==null||n.replaceChild(r,t),r}},{key:"tryAddWrapper",value:function(t,e,n,r){if(e&&r){var o=n?.[r]||n?.[le];if(o)return t.innerHTML=o,{contentEl:i.getTargetWrapper(t),wrapper:!0}}return{contentEl:t,wrapper:!1}}},{key:"getTargetWrapper",value:function(t){return t.getElementsByClassName(Kw)[0]||t}}])})(),Mb=(function(){function i(){z(this,i)}return P(i,null,[{key:"createElements",value:function(t,e,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=t.createMessageElementsOnOrientation("",n,r,o);u.bubbleElement[B].add(i.HTML_BUBBLE_CLASS);var f=sn.tryAddWrapper(u.bubbleElement,e,t._customWrappers,n),h=f.contentEl;return h.innerHTML=e,u}},{key:"overwriteElements",value:function(t,e,n){n.bubbleElement.innerHTML=e,sn.apply(t,n.outerContainer),Ct.flagHTMLUpdateClass(n.bubbleElement)}},{key:"overwrite",value:function(t,e,n,r){var o=t.messageToElements,u=bt.overwriteMessage(o,r,e,n,Me,i.HTML_BUBBLE_CLASS);return u&&i.overwriteElements(t,e,u),u}},{key:"create",value:function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o,u=i.createElements(t,e,n,r);return bt.fillEmptyMessageElement(u.bubbleElement,e),sn.apply(t,u.outerContainer),Ct.flagHTMLUpdateClass(u.bubbleElement),t.applyCustomStyles(u,n,!1,(o=t.messageStyles)==null?void 0:o[Me]),u}},{key:"add",value:function(t,e,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r!=null&&r.status){var u=this.overwrite(t,e,n,t.messageElementRefs);if(u)return u;r.status=!1}if(!(o&&t.messageElementRefs.length>0&&sn.isTemporaryBasedOnHTML(e))){var f=i.create(t,e,n,o);return o||t.appendOuterContainerElemet(f.outerContainer),f}}}])})();Mb.HTML_BUBBLE_CLASS="html-message";var Ti=Mb,f3=(function(){function i(){z(this,i)}return P(i,null,[{key:"katex",value:function(t,e,n){var r=(n||{}).delimiter||"$";if(r.length!==1)throw new Error("invalid delimiter");var o=function(p,g){var y;return((y=window.katex)==null?void 0:y.renderToString(p,ze({displayMode:g,throwOnError:!1,output:"mathml"},t)))||""},u=function(p,g,y){var b=!1,E=p.bMarks[g]+p.tShift[g],S=p.eMarks[g];if(E+1>S)return!1;var A=p[de].charAt(E);if(A!==r)return!1;var R=E;E=p.skipChars(E,A);var L=E-R;if(L!==2)return!1;for(var K=g;++K,!(K>=y||(E=R=p.bMarks[K]+p.tShift[K],S=p.eMarks[K],E<S&&p.tShift[K]<p.blkIndent));)if(p[de].charAt(E)===r&&!(p.tShift[K]-p.blkIndent>=4)&&(E=p.skipChars(E,A),!(E-R<L)&&(E=p.skipSpaces(E),!(E<S)))){b=!0;break}L=p.tShift[g],p.line=K+(b?1:0);var F=p.getLines(g+1,K,L,!0).replace(/[ \n]+/g," ").trim();return p.tokens.push({type:"katex",params:null,content:F,lines:[g,p.line],level:p.level,block:!0}),!0},f=function(p,g){var y=p.pos,b=p.posMax,E=y;if(p[de].charAt(E)!==r)return!1;for(++E;E<b&&p[de].charAt(E)===r;)++E;var S=p[de].slice(y,E);if(S.length>2)return!1;for(var A=E,R=0;E<b;){var L=p[de].charAt(E);if(L==="{"&&(E===0||p[de].charAt(E-1)!=="\\"))R+=1;else if(L==="}"&&(E===0||p[de].charAt(E-1)!=="\\")){if(R-=1,R<0)return!1}else if(L===r&&R===0){for(var K=E,F=E+1;F<b&&p[de].charAt(F)===r;)++F;if(F-K===S.length){if(!g){var ne=p[de].slice(A,K).replace(/[ \n]+/g," ").trim();p.push({type:"katex",content:ne,block:S.length>1,level:p.level})}return p.pos=F,!0}}E+=1}return g||(p.pending+=S),p.pos+=S.length,!0};e.inline.ruler.push("katex",f,n),e.block.ruler.push("katex",u,n),e.renderer.rules.katex=function(h,p){return o(h[p].content,h[p].block)},e.renderer.rules.katex.delimiter=r}}])})(),Pu;function Rb(i){return Pu=Pu||document.createElement("textarea"),Pu.innerHTML="&"+i+";",Pu.value}var d3=Object.prototype.hasOwnProperty;function h3(i,l){return i?d3.call(i,l):!1}function Ob(i){var l=[].slice.call(arguments,1);return l.forEach(function(t){if(t){if(ie(t)!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(e){i[e]=t[e]})}}),i}var m3=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function oo(i){return i.indexOf("\\")<0?i:i.replace(m3,"$1")}function xb(i){return!(i>=55296&&i<=57343||i>=64976&&i<=65007||(i&65535)===65535||(i&65535)===65534||i>=0&&i<=8||i===11||i>=14&&i<=31||i>=127&&i<=159||i>1114111)}function Ph(i){if(i>65535){i-=65536;var l=55296+(i>>10),t=56320+(i&1023);return String.fromCharCode(l,t)}return String.fromCharCode(i)}var p3=/&([a-z#][a-z0-9]{1,31});/gi,v3=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function g3(i,l){var t=0,e=Rb(l);return l!==e?e:l.charCodeAt(0)===35&&v3.test(l)&&(t=l[1].toLowerCase()==="x"?parseInt(l.slice(2),16):parseInt(l.slice(1),10),xb(t))?Ph(t):i}function cr(i){return i.indexOf("&")<0?i:i.replace(p3,g3)}var y3=/[&<>"]/,b3=/[&<>"]/g,S3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function _3(i){return S3[i]}function Tn(i){return y3.test(i)?i.replace(b3,_3):i}var ge={};ge.blockquote_open=function(){return`<blockquote>
`};ge.blockquote_close=function(i,l){return"</blockquote>"+dr(i,l)};ge.code=function(i,l){return i[l].block?"<pre><code>"+Tn(i[l].content)+"</code></pre>"+dr(i,l):"<code>"+Tn(i[l].content)+"</code>"};ge.fence=function(i,l,t,e,n){var r=i[l],o="",u=t.langPrefix,f="",h,p,g;if(r.params){if(h=r.params.split(/\s+/g),p=h.join(" "),h3(n.rules.fence_custom,h[0]))return n.rules.fence_custom[h[0]](i,l,t,e,n);f=Tn(cr(oo(p))),o=' class="'+u+f+'"'}return t.highlight?g=t.highlight.apply(t.highlight,[r.content].concat(h))||Tn(r.content):g=Tn(r.content),"<pre><code"+o+">"+g+"</code></pre>"+dr(i,l)};ge.fence_custom={};ge.heading_open=function(i,l){return"<h"+i[l].hLevel+">"};ge.heading_close=function(i,l){return"</h"+i[l].hLevel+`>
`};ge.hr=function(i,l,t){return(t.xhtmlOut?"<hr />":"<hr>")+dr(i,l)};ge.bullet_list_open=function(){return`<ul>
`};ge.bullet_list_close=function(i,l){return"</ul>"+dr(i,l)};ge.list_item_open=function(){return"<li>"};ge.list_item_close=function(){return`</li>
`};ge.ordered_list_open=function(i,l){var t=i[l],e=t.order>1?' start="'+t.order+'"':"";return"<ol"+e+`>
`};ge.ordered_list_close=function(i,l){return"</ol>"+dr(i,l)};ge.paragraph_open=function(i,l){return i[l].tight?"":"<p>"};ge.paragraph_close=function(i,l){var t=!(i[l].tight&&l&&i[l-1].type==="inline"&&!i[l-1].content);return(i[l].tight?"":"</p>")+(t?dr(i,l):"")};ge.link_open=function(i,l,t){var e=i[l].title?' title="'+Tn(cr(i[l].title))+'"':"",n=t.linkTarget?' target="'+t.linkTarget+'"':"";return'<a href="'+Tn(i[l].href)+'"'+e+n+">"};ge.link_close=function(){return"</a>"};ge.image=function(i,l,t){var e=' src="'+Tn(i[l].src)+'"',n=i[l].title?' title="'+Tn(cr(i[l].title))+'"':"",r=' alt="'+(i[l].alt?Tn(cr(oo(i[l].alt))):"")+'"',o=t.xhtmlOut?" /":"";return"<img"+e+r+n+o+">"};ge.table_open=function(){return`<table>
`};ge.table_close=function(){return`</table>
`};ge.thead_open=function(){return`<thead>
`};ge.thead_close=function(){return`</thead>
`};ge.tbody_open=function(){return`<tbody>
`};ge.tbody_close=function(){return`</tbody>
`};ge.tr_open=function(){return"<tr>"};ge.tr_close=function(){return`</tr>
`};ge.th_open=function(i,l){var t=i[l];return"<th"+(t.align?' style="text-align:'+t.align+'"':"")+">"};ge.th_close=function(){return"</th>"};ge.td_open=function(i,l){var t=i[l];return"<td"+(t.align?' style="text-align:'+t.align+'"':"")+">"};ge.td_close=function(){return"</td>"};ge.strong_open=function(){return"<strong>"};ge.strong_close=function(){return"</strong>"};ge.em_open=function(){return"<em>"};ge.em_close=function(){return"</em>"};ge.del_open=function(){return"<del>"};ge.del_close=function(){return"</del>"};ge.ins_open=function(){return"<ins>"};ge.ins_close=function(){return"</ins>"};ge.mark_open=function(){return"<mark>"};ge.mark_close=function(){return"</mark>"};ge.sub=function(i,l){return"<sub>"+Tn(i[l].content)+"</sub>"};ge.sup=function(i,l){return"<sup>"+Tn(i[l].content)+"</sup>"};ge.hardbreak=function(i,l,t){return t.xhtmlOut?`<br />
`:`<br>
`};ge.softbreak=function(i,l,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};ge.text=function(i,l){return Tn(i[l].content)};ge.htmlblock=function(i,l){return i[l].content};ge.htmltag=function(i,l){return i[l].content};ge.abbr_open=function(i,l){return'<abbr title="'+Tn(cr(i[l].title))+'">'};ge.abbr_close=function(){return"</abbr>"};ge.footnote_ref=function(i,l){var t=Number(i[l].id+1).toString(),e="fnref"+t;return i[l].subId>0&&(e+=":"+i[l].subId),'<sup class="footnote-ref"><a href="#fn'+t+'" id="'+e+'">['+t+"]</a></sup>"};ge.footnote_block_open=function(i,l,t){var e=t.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return e+`<section class="footnotes">
<ol class="footnotes-list">
`};ge.footnote_block_close=function(){return`</ol>
</section>
`};ge.footnote_open=function(i,l){var t=Number(i[l].id+1).toString();return'<li id="fn'+t+'"  class="footnote-item">'};ge.footnote_close=function(){return`</li>
`};ge.footnote_anchor=function(i,l){var t=Number(i[l].id+1).toString(),e="fnref"+t;return i[l].subId>0&&(e+=":"+i[l].subId),' <a href="#'+e+'" class="footnote-backref"></a>'};ge.dl_open=function(){return`<dl>
`};ge.dt_open=function(){return"<dt>"};ge.dd_open=function(){return"<dd>"};ge.dl_close=function(){return`</dl>
`};ge.dt_close=function(){return`</dt>
`};ge.dd_close=function(){return`</dd>
`};function Bb(i,l){return++l>=i.length-2?l:i[l].type==="paragraph_open"&&i[l].tight&&i[l+1].type==="inline"&&i[l+1].content.length===0&&i[l+2].type==="paragraph_close"&&i[l+2].tight?Bb(i,l+2):l}var dr=ge.getBreak=function(i,l){return l=Bb(i,l),l<i.length&&i[l].type==="list_item_close"?"":`
`};function bm(){this.rules=Ob({},ge),this.getBreak=ge.getBreak}bm.prototype.renderInline=function(i,l,t){for(var e=this.rules,n=i.length,r=0,o="";n--;)o+=e[i[r].type](i,r++,l,t,this);return o};bm.prototype.render=function(i,l,t){for(var e=this.rules,n=i.length,r=-1,o="";++r<n;)i[r].type==="inline"?o+=this.renderInline(i[r].children,l,t):o+=e[i[r].type](i,r,l,t,this);return o};function Gn(){this.__rules__=[],this.__cache__=null}Gn.prototype.__find__=function(i){for(var l=this.__rules__.length,t=-1;l--;)if(this.__rules__[++t].name===i)return t;return-1};Gn.prototype.__compile__=function(){var i=this,l=[""];i.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(e){l.indexOf(e)<0&&l.push(e)})}),i.__cache__={},l.forEach(function(t){i.__cache__[t]=[],i.__rules__.forEach(function(e){e.enabled&&(t&&e.alt.indexOf(t)<0||i.__cache__[t].push(e.fn))})})};Gn.prototype.at=function(i,l,t){var e=this.__find__(i),n=t||{};if(e===-1)throw new Error("Parser rule not found: "+i);this.__rules__[e].fn=l,this.__rules__[e].alt=n.alt||[],this.__cache__=null};Gn.prototype.before=function(i,l,t,e){var n=this.__find__(i),r=e||{};if(n===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(n,0,{name:l,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Gn.prototype.after=function(i,l,t,e){var n=this.__find__(i),r=e||{};if(n===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(n+1,0,{name:l,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Gn.prototype.push=function(i,l,t){var e=t||{};this.__rules__.push({name:i,enabled:!0,fn:l,alt:e.alt||[]}),this.__cache__=null};Gn.prototype.enable=function(i,l){i=Array.isArray(i)?i:[i],l&&this.__rules__.forEach(function(t){t.enabled=!1}),i.forEach(function(t){var e=this.__find__(t);if(e<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!0},this),this.__cache__=null};Gn.prototype.disable=function(i){i=Array.isArray(i)?i:[i],i.forEach(function(l){var t=this.__find__(l);if(t<0)throw new Error("Rules manager: invalid rule name "+l);this.__rules__[t].enabled=!1},this),this.__cache__=null};Gn.prototype.getRules=function(i){return this.__cache__===null&&this.__compile__(),this.__cache__[i]||[]};function E3(i){i.inlineMode?i.tokens.push({type:"inline",content:i.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):i.block.parse(i.src,i.options,i.env,i.tokens)}function hr(i,l,t,e,n){this.src=i,this.env=e,this.options=t,this.parser=l,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}hr.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};hr.prototype.push=function(i){this.pending&&this.pushPending(),this.tokens.push(i),this.pendingLevel=this.level};hr.prototype.cacheSet=function(i,l){for(var t=this.cache.length;t<=i;t++)this.cache.push(0);this.cache[i]=l};hr.prototype.cacheGet=function(i){return i<this.cache.length?this.cache[i]:0};function uo(i,l){var t,e,n,r=-1,o=i.posMax,u=i.pos,f=i.isInLabel;if(i.isInLabel)return-1;if(i.labelUnmatchedScopes)return i.labelUnmatchedScopes--,-1;for(i.pos=l+1,i.isInLabel=!0,t=1;i.pos<o;){if(n=i.src.charCodeAt(i.pos),n===91)t++;else if(n===93&&(t--,t===0)){e=!0;break}i.parser.skipToken(i)}return e?(r=i.pos,i.labelUnmatchedScopes=0):i.labelUnmatchedScopes=t-1,i.pos=u,i.isInLabel=f,r}function k3(i,l,t,e){var n,r,o,u,f,h;if(i.charCodeAt(0)!==42||i.charCodeAt(1)!==91||i.indexOf("]:")===-1||(n=new hr(i,l,t,e,[]),r=uo(n,1),r<0||i.charCodeAt(r+1)!==58))return-1;for(u=n.posMax,o=r+2;o<u&&n.src.charCodeAt(o)!==10;o++);return f=i.slice(2,r),h=i.slice(r+2,o).trim(),h.length===0?-1:(e.abbreviations||(e.abbreviations={}),ie(e.abbreviations[":"+f])>"u"&&(e.abbreviations[":"+f]=h),o)}function C3(i){var l=i.tokens,t,e,n,r;if(!i.inlineMode){for(t=1,e=l.length-1;t<e;t++)if(l[t-1].type==="paragraph_open"&&l[t].type==="inline"&&l[t+1].type==="paragraph_close"){for(n=l[t].content;n.length&&(r=k3(n,i.inline,i.options,i.env),!(r<0));)n=n.slice(r).trim();l[t].content=n,n.length||(l[t-1].tight=!0,l[t+1].tight=!0)}}}function Hh(i){var l=cr(i);try{l=decodeURI(l)}catch{}return encodeURI(l)}function Nb(i,l){var t,e,n,r=l,o=i.posMax;if(i.src.charCodeAt(l)===60){for(l++;l<o;){if(t=i.src.charCodeAt(l),t===10)return!1;if(t===62)return n=Hh(oo(i.src.slice(r+1,l))),i.parser.validateLink(n)?(i.pos=l+1,i.linkContent=n,!0):!1;if(t===92&&l+1<o){l+=2;continue}l++}return!1}for(e=0;l<o&&(t=i.src.charCodeAt(l),!(t===32||t<32||t===127));){if(t===92&&l+1<o){l+=2;continue}if(t===40&&(e++,e>1)||t===41&&(e--,e<0))break;l++}return r===l||(n=oo(i.src.slice(r,l)),!i.parser.validateLink(n))?!1:(i.linkContent=n,i.pos=l,!0)}function Ib(i,l){var t,e=l,n=i.posMax,r=i.src.charCodeAt(l);if(r!==34&&r!==39&&r!==40)return!1;for(l++,r===40&&(r=41);l<n;){if(t=i.src.charCodeAt(l),t===r)return i.pos=l+1,i.linkContent=oo(i.src.slice(e+1,l)),!0;if(t===92&&l+1<n){l+=2;continue}l++}return!1}function Lb(i){return i.trim().replace(/\s+/g," ").toUpperCase()}function w3(i,l,t,e){var n,r,o,u,f,h,p,g,y;if(i.charCodeAt(0)!==91||i.indexOf("]:")===-1||(n=new hr(i,l,t,e,[]),r=uo(n,0),r<0||i.charCodeAt(r+1)!==58))return-1;for(u=n.posMax,o=r+2;o<u&&(f=n.src.charCodeAt(o),!(f!==32&&f!==10));o++);if(!Nb(n,o))return-1;for(p=n.linkContent,o=n.pos,h=o,o=o+1;o<u&&(f=n.src.charCodeAt(o),!(f!==32&&f!==10));o++);for(o<u&&h!==o&&Ib(n,o)?(g=n.linkContent,o=n.pos):(g="",o=h);o<u&&n.src.charCodeAt(o)===32;)o++;return o<u&&n.src.charCodeAt(o)!==10?-1:(y=Lb(i.slice(1,r)),ie(e.references[y])>"u"&&(e.references[y]={title:g,href:p}),o)}function T3(i){var l=i.tokens,t,e,n,r;if(i.env.references=i.env.references||{},!i.inlineMode){for(t=1,e=l.length-1;t<e;t++)if(l[t].type==="inline"&&l[t-1].type==="paragraph_open"&&l[t+1].type==="paragraph_close"){for(n=l[t].content;n.length&&(r=w3(n,i.inline,i.options,i.env),!(r<0));)n=n.slice(r).trim();l[t].content=n,n.length||(l[t-1].tight=!0,l[t+1].tight=!0)}}}function A3(i){var l=i.tokens,t,e,n;for(e=0,n=l.length;e<n;e++)t=l[e],t.type==="inline"&&i.inline.parse(t.content,i.options,i.env,t.children)}function M3(i){var l,t,e,n,r,o,u,f,h,p=0,g=!1,y={};if(i.env.footnotes&&(i.tokens=i.tokens.filter(function(b){return b.type==="footnote_reference_open"?(g=!0,f=[],h=b.label,!1):b.type==="footnote_reference_close"?(g=!1,y[":"+h]=f,!1):(g&&f.push(b),!g)}),!!i.env.footnotes.list)){for(o=i.env.footnotes.list,i.tokens.push({type:"footnote_block_open",level:p++}),l=0,t=o.length;l<t;l++){for(i.tokens.push({type:"footnote_open",id:l,level:p++}),o[l].tokens?(u=[],u.push({type:"paragraph_open",tight:!1,level:p++}),u.push({type:"inline",content:"",level:p,children:o[l].tokens}),u.push({type:"paragraph_close",tight:!1,level:--p})):o[l].label&&(u=y[":"+o[l].label]),i.tokens=i.tokens.concat(u),i.tokens[i.tokens.length-1].type==="paragraph_close"?r=i.tokens.pop():r=null,n=o[l].count>0?o[l].count:1,e=0;e<n;e++)i.tokens.push({type:"footnote_anchor",id:l,subId:e,level:p});r&&i.tokens.push(r),i.tokens.push({type:"footnote_close",level:--p})}i.tokens.push({type:"footnote_block_close",level:--p})}}var Ny=` 
()[]'".,!?-`;function bh(i){return i.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function R3(i){var l,t,e,n,r,o,u,f,h,p,g,y,b=i.tokens;if(i.env.abbreviations){for(i.env.abbrRegExp||(y="(^|["+Ny.split("").map(bh).join("")+"])("+Object.keys(i.env.abbreviations).map(function(E){return E.substr(1)}).sort(function(E,S){return S.length-E.length}).map(bh).join("|")+")($|["+Ny.split("").map(bh).join("")+"])",i.env.abbrRegExp=new RegExp(y,"g")),p=i.env.abbrRegExp,t=0,e=b.length;t<e;t++)if(b[t].type==="inline"){for(n=b[t].children,l=n.length-1;l>=0;l--)if(r=n[l],r.type==="text"){for(f=0,o=r.content,p.lastIndex=0,h=r.level,u=[];g=p.exec(o);)p.lastIndex>f&&u.push({type:"text",content:o.slice(f,g.index+g[1].length),level:h}),u.push({type:"abbr_open",title:i.env.abbreviations[":"+g[2]],level:h++}),u.push({type:"text",content:g[2],level:h}),u.push({type:"abbr_close",level:--h}),f=p.lastIndex-g[3].length;u.length&&(f<o.length&&u.push({type:"text",content:o.slice(f),level:h}),b[t].children=n=[].concat(n.slice(0,l),u,n.slice(l+1)))}}}}var O3=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,x3=/\((c|tm|r|p)\)/ig,B3={c:"",r:"",p:"",tm:""};function N3(i){return i.indexOf("(")<0?i:i.replace(x3,function(l,t){return B3[t.toLowerCase()]})}function I3(i){var l,t,e,n,r;if(i.options.typographer){for(r=i.tokens.length-1;r>=0;r--)if(i.tokens[r].type==="inline")for(n=i.tokens[r].children,l=n.length-1;l>=0;l--)t=n[l],t.type==="text"&&(e=t.content,e=N3(e),O3.test(e)&&(e=e.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1$2").replace(/(^|\s)--(\s|$)/mg,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1$2")),t.content=e)}}var L3=/['"]/,Iy=/['"]/g,D3=/[-\s()\[\]]/,Ly="";function Dy(i,l){return l<0||l>=i.length?!1:!D3.test(i[l])}function ss(i,l,t){return i.substr(0,l)+t+i.substr(l+1)}function U3(i){var l,t,e,n,r,o,u,f,h,p,g,y,b,E,S,A,R;if(i.options.typographer){for(R=[],S=i.tokens.length-1;S>=0;S--)if(i.tokens[S].type==="inline"){for(A=i.tokens[S].children,R.length=0,l=0;l<A.length;l++)if(t=A[l],!(t.type!=="text"||L3.test(t.text))){for(u=A[l].level,b=R.length-1;b>=0&&!(R[b].level<=u);b--);R.length=b+1,e=t.content,r=0,o=e.length;e:for(;r<o&&(Iy.lastIndex=r,n=Iy.exec(e),!!n);){if(f=!Dy(e,n.index-1),r=n.index+1,E=n[0]==="'",h=!Dy(e,r),!h&&!f){E&&(t.content=ss(t.content,n.index,Ly));continue}if(g=!h,y=!f,y){for(b=R.length-1;b>=0&&(p=R[b],!(R[b].level<u));b--)if(p.single===E&&R[b].level===u){p=R[b],E?(A[p.token].content=ss(A[p.token].content,p.pos,i.options.quotes[2]),t.content=ss(t.content,n.index,i.options.quotes[3])):(A[p.token].content=ss(A[p.token].content,p.pos,i.options.quotes[0]),t.content=ss(t.content,n.index,i.options.quotes[1])),R.length=b;continue e}}g?R.push({token:l,pos:n.index,single:E,level:u}):y&&E&&(t.content=ss(t.content,n.index,Ly))}}}}}var Sh=[["block",E3],["abbr",C3],["references",T3],["inline",A3],["footnote_tail",M3],["abbr2",R3],["replacements",I3],["smartquotes",U3]];function Db(){this.options={},this.ruler=new Gn;for(var i=0;i<Sh.length;i++)this.ruler.push(Sh[i][0],Sh[i][1])}Db.prototype.process=function(i){var l,t,e;for(e=this.ruler.getRules(""),l=0,t=e.length;l<t;l++)e[l](i)};function mr(i,l,t,e,n){var r,o,u,f,h,p,g;for(this.src=i,this.parser=l,this.options=t,this.env=e,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",o=this.src,p=0,g=!1,u=f=p=0,h=o.length;f<h;f++){if(r=o.charCodeAt(f),!g)if(r===32){p++;continue}else g=!0;(r===10||f===h-1)&&(r!==10&&f++,this.bMarks.push(u),this.eMarks.push(f),this.tShift.push(p),g=!1,p=0,u=f+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}mr.prototype.isEmpty=function(i){return this.bMarks[i]+this.tShift[i]>=this.eMarks[i]};mr.prototype.skipEmptyLines=function(i){for(var l=this.lineMax;i<l&&!(this.bMarks[i]+this.tShift[i]<this.eMarks[i]);i++);return i};mr.prototype.skipSpaces=function(i){for(var l=this.src.length;i<l&&this.src.charCodeAt(i)===32;i++);return i};mr.prototype.skipChars=function(i,l){for(var t=this.src.length;i<t&&this.src.charCodeAt(i)===l;i++);return i};mr.prototype.skipCharsBack=function(i,l,t){if(i<=t)return i;for(;i>t;)if(l!==this.src.charCodeAt(--i))return i+1;return i};mr.prototype.getLines=function(i,l,t,e){var n,r,o,u,f,h=i;if(i>=l)return"";if(h+1===l)return r=this.bMarks[h]+Math.min(this.tShift[h],t),o=e?this.eMarks[h]+1:this.eMarks[h],this.src.slice(r,o);for(u=new Array(l-i),n=0;h<l;h++,n++)f=this.tShift[h],f>t&&(f=t),f<0&&(f=0),r=this.bMarks[h]+f,h+1<l||e?o=this.eMarks[h]+1:o=this.eMarks[h],u[n]=this.src.slice(r,o);return u.join("")};function z3(i,l,t){var e,n;if(i.tShift[l]-i.blkIndent<4)return!1;for(n=e=l+1;e<t;){if(i.isEmpty(e)){e++;continue}if(i.tShift[e]-i.blkIndent>=4){e++,n=e;continue}break}return i.line=e,i.tokens.push({type:"code",content:i.getLines(l,n,4+i.blkIndent,!0),block:!0,lines:[l,i.line],level:i.level}),!0}function P3(i,l,t,e){var n,r,o,u,f,h=!1,p=i.bMarks[l]+i.tShift[l],g=i.eMarks[l];if(p+3>g||(n=i.src.charCodeAt(p),n!==126&&n!==96)||(f=p,p=i.skipChars(p,n),r=p-f,r<3)||(o=i.src.slice(p,g).trim(),o.indexOf("`")>=0))return!1;if(e)return!0;for(u=l;u++,!(u>=t||(p=f=i.bMarks[u]+i.tShift[u],g=i.eMarks[u],p<g&&i.tShift[u]<i.blkIndent));)if(i.src.charCodeAt(p)===n&&!(i.tShift[u]-i.blkIndent>=4)&&(p=i.skipChars(p,n),!(p-f<r)&&(p=i.skipSpaces(p),!(p<g)))){h=!0;break}return r=i.tShift[l],i.line=u+(h?1:0),i.tokens.push({type:"fence",params:o,content:i.getLines(l+1,u,r,!0),lines:[l,i.line],level:i.level}),!0}function H3(i,l,t,e){var n,r,o,u,f,h,p,g,y,b,E,S=i.bMarks[l]+i.tShift[l],A=i.eMarks[l];if(S>A||i.src.charCodeAt(S++)!==62||i.level>=i.options.maxNesting)return!1;if(e)return!0;for(i.src.charCodeAt(S)===32&&S++,f=i.blkIndent,i.blkIndent=0,u=[i.bMarks[l]],i.bMarks[l]=S,S=S<A?i.skipSpaces(S):S,r=S>=A,o=[i.tShift[l]],i.tShift[l]=S-i.bMarks[l],g=i.parser.ruler.getRules("blockquote"),n=l+1;n<t&&(S=i.bMarks[n]+i.tShift[n],A=i.eMarks[n],!(S>=A));n++){if(i.src.charCodeAt(S++)===62){i.src.charCodeAt(S)===32&&S++,u.push(i.bMarks[n]),i.bMarks[n]=S,S=S<A?i.skipSpaces(S):S,r=S>=A,o.push(i.tShift[n]),i.tShift[n]=S-i.bMarks[n];continue}if(r)break;for(E=!1,y=0,b=g.length;y<b;y++)if(g[y](i,n,t,!0)){E=!0;break}if(E)break;u.push(i.bMarks[n]),o.push(i.tShift[n]),i.tShift[n]=-1337}for(h=i.parentType,i.parentType="blockquote",i.tokens.push({type:"blockquote_open",lines:p=[l,0],level:i.level++}),i.parser.tokenize(i,l,n),i.tokens.push({type:"blockquote_close",level:--i.level}),i.parentType=h,p[1]=i.line,y=0;y<o.length;y++)i.bMarks[y+l]=u[y],i.tShift[y+l]=o[y];return i.blkIndent=f,!0}function j3(i,l,t,e){var n,r,o,u=i.bMarks[l],f=i.eMarks[l];if(u+=i.tShift[l],u>f||(n=i.src.charCodeAt(u++),n!==42&&n!==45&&n!==95))return!1;for(r=1;u<f;){if(o=i.src.charCodeAt(u++),o!==n&&o!==32)return!1;o===n&&r++}return r<3?!1:(e||(i.line=l+1,i.tokens.push({type:"hr",lines:[l,i.line],level:i.level})),!0)}function Uy(i,l){var t,e,n;return e=i.bMarks[l]+i.tShift[l],n=i.eMarks[l],e>=n||(t=i.src.charCodeAt(e++),t!==42&&t!==45&&t!==43)||e<n&&i.src.charCodeAt(e)!==32?-1:e}function zy(i,l){var t,e=i.bMarks[l]+i.tShift[l],n=i.eMarks[l];if(e+1>=n||(t=i.src.charCodeAt(e++),t<48||t>57))return-1;for(;;){if(e>=n)return-1;if(t=i.src.charCodeAt(e++),!(t>=48&&t<=57)){if(t===41||t===46)break;return-1}}return e<n&&i.src.charCodeAt(e)!==32?-1:e}function F3(i,l){var t,e,n=i.level+2;for(t=l+2,e=i.tokens.length-2;t<e;t++)i.tokens[t].level===n&&i.tokens[t].type==="paragraph_open"&&(i.tokens[t+2].tight=!0,i.tokens[t].tight=!0,t+=2)}function q3(i,l,t,e){var n,r,o,u,f,h,p,g,y,b,E,S,A,R,L,K,F,ne,J=!0,$,oe,ye,be;if((g=zy(i,l))>=0)A=!0;else if((g=Uy(i,l))>=0)A=!1;else return!1;if(i.level>=i.options.maxNesting)return!1;if(S=i.src.charCodeAt(g-1),e)return!0;for(L=i.tokens.length,A?(p=i.bMarks[l]+i.tShift[l],E=Number(i.src.substr(p,g-p-1)),i.tokens.push({type:"ordered_list_open",order:E,lines:F=[l,0],level:i.level++})):i.tokens.push({type:"bullet_list_open",lines:F=[l,0],level:i.level++}),n=l,K=!1,$=i.parser.ruler.getRules("list");n<t&&(R=i.skipSpaces(g),y=i.eMarks[n],R>=y?b=1:b=R-g,b>4&&(b=1),b<1&&(b=1),r=g-i.bMarks[n]+b,i.tokens.push({type:"list_item_open",lines:ne=[l,0],level:i.level++}),u=i.blkIndent,f=i.tight,o=i.tShift[l],h=i.parentType,i.tShift[l]=R-i.bMarks[l],i.blkIndent=r,i.tight=!0,i.parentType="list",i.parser.tokenize(i,l,t,!0),(!i.tight||K)&&(J=!1),K=i.line-l>1&&i.isEmpty(i.line-1),i.blkIndent=u,i.tShift[l]=o,i.tight=f,i.parentType=h,i.tokens.push({type:"list_item_close",level:--i.level}),n=l=i.line,ne[1]=n,R=i.bMarks[l],!(n>=t||i.isEmpty(n)||i.tShift[n]<i.blkIndent));){for(be=!1,oe=0,ye=$.length;oe<ye;oe++)if($[oe](i,n,t,!0)){be=!0;break}if(be)break;if(A){if(g=zy(i,n),g<0)break}else if(g=Uy(i,n),g<0)break;if(S!==i.src.charCodeAt(g-1))break}return i.tokens.push({type:A?"ordered_list_close":"bullet_list_close",level:--i.level}),F[1]=n,i.line=n,J&&F3(i,L),!0}function G3(i,l,t,e){var n,r,o,u,f,h=i.bMarks[l]+i.tShift[l],p=i.eMarks[l];if(h+4>p||i.src.charCodeAt(h)!==91||i.src.charCodeAt(h+1)!==94||i.level>=i.options.maxNesting)return!1;for(u=h+2;u<p;u++){if(i.src.charCodeAt(u)===32)return!1;if(i.src.charCodeAt(u)===93)break}return u===h+2||u+1>=p||i.src.charCodeAt(++u)!==58?!1:(e||(u++,i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.refs||(i.env.footnotes.refs={}),f=i.src.slice(h+2,u-2),i.env.footnotes.refs[":"+f]=-1,i.tokens.push({type:"footnote_reference_open",label:f,level:i.level++}),n=i.bMarks[l],r=i.tShift[l],o=i.parentType,i.tShift[l]=i.skipSpaces(u)-u,i.bMarks[l]=u,i.blkIndent+=4,i.parentType="footnote",i.tShift[l]<i.blkIndent&&(i.tShift[l]+=i.blkIndent,i.bMarks[l]-=i.blkIndent),i.parser.tokenize(i,l,t,!0),i.parentType=o,i.blkIndent-=4,i.tShift[l]=r,i.bMarks[l]=n,i.tokens.push({type:"footnote_reference_close",level:--i.level})),!0)}function V3(i,l,t,e){var n,r,o,u=i.bMarks[l]+i.tShift[l],f=i.eMarks[l];if(u>=f||(n=i.src.charCodeAt(u),n!==35||u>=f))return!1;for(r=1,n=i.src.charCodeAt(++u);n===35&&u<f&&r<=6;)r++,n=i.src.charCodeAt(++u);return r>6||u<f&&n!==32?!1:(e||(f=i.skipCharsBack(f,32,u),o=i.skipCharsBack(f,35,u),o>u&&i.src.charCodeAt(o-1)===32&&(f=o),i.line=l+1,i.tokens.push({type:"heading_open",hLevel:r,lines:[l,i.line],level:i.level}),u<f&&i.tokens.push({type:"inline",content:i.src.slice(u,f).trim(),level:i.level+1,lines:[l,i.line],children:[]}),i.tokens.push({type:"heading_close",hLevel:r,level:i.level})),!0)}function K3(i,l,t){var e,n,r,o=l+1;return o>=t||i.tShift[o]<i.blkIndent||i.tShift[o]-i.blkIndent>3||(n=i.bMarks[o]+i.tShift[o],r=i.eMarks[o],n>=r)||(e=i.src.charCodeAt(n),e!==45&&e!==61)||(n=i.skipChars(n,e),n=i.skipSpaces(n),n<r)?!1:(n=i.bMarks[l]+i.tShift[l],i.line=o+1,i.tokens.push({type:"heading_open",hLevel:e===61?1:2,lines:[l,i.line],level:i.level}),i.tokens.push({type:"inline",content:i.src.slice(n,i.eMarks[l]).trim(),level:i.level+1,lines:[l,i.line-1],children:[]}),i.tokens.push({type:"heading_close",hLevel:e===61?1:2,level:i.level}),!0)}var Ub={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(i){Ub[i]=!0});var J3=/^<([a-zA-Z]{1,15})[\s\/>]/,Y3=/^<\/([a-zA-Z]{1,15})[\s>]/;function X3(i){var l=i|32;return l>=97&&l<=122}function $3(i,l,t,e){var n,r,o,u=i.bMarks[l],f=i.eMarks[l],h=i.tShift[l];if(u+=h,!i.options.html||h>3||u+2>=f||i.src.charCodeAt(u)!==60)return!1;if(n=i.src.charCodeAt(u+1),n===33||n===63){if(e)return!0}else if(n===47||X3(n)){if(n===47){if(r=i.src.slice(u,f).match(Y3),!r)return!1}else if(r=i.src.slice(u,f).match(J3),!r)return!1;if(Ub[r[1].toLowerCase()]!==!0)return!1;if(e)return!0}else return!1;for(o=l+1;o<i.lineMax&&!i.isEmpty(o);)o++;return i.line=o,i.tokens.push({type:"htmlblock",level:i.level,lines:[l,i.line],content:i.getLines(l,o,0,!0)}),!0}function _h(i,l){var t=i.bMarks[l]+i.blkIndent,e=i.eMarks[l];return i.src.substr(t,e-t)}function Z3(i,l,t,e){var n,r,o,u,f,h,p,g,y,b,E;if(l+2>t||(f=l+1,i.tShift[f]<i.blkIndent)||(o=i.bMarks[f]+i.tShift[f],o>=i.eMarks[f])||(n=i.src.charCodeAt(o),n!==124&&n!==45&&n!==58)||(r=_h(i,l+1),!/^[-:| ]+$/.test(r))||(h=r.split("|"),h<=2))return!1;for(g=[],u=0;u<h.length;u++){if(y=h[u].trim(),!y){if(u===0||u===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;y.charCodeAt(y.length-1)===58?g.push(y.charCodeAt(0)===58?"center":"right"):y.charCodeAt(0)===58?g.push("left"):g.push("")}if(r=_h(i,l).trim(),r.indexOf("|")===-1||(h=r.replace(/^\||\|$/g,"").split("|"),g.length!==h.length))return!1;if(e)return!0;for(i.tokens.push({type:"table_open",lines:b=[l,0],level:i.level++}),i.tokens.push({type:"thead_open",lines:[l,l+1],level:i.level++}),i.tokens.push({type:"tr_open",lines:[l,l+1],level:i.level++}),u=0;u<h.length;u++)i.tokens.push({type:"th_open",align:g[u],lines:[l,l+1],level:i.level++}),i.tokens.push({type:"inline",content:h[u].trim(),lines:[l,l+1],level:i.level,children:[]}),i.tokens.push({type:"th_close",level:--i.level});for(i.tokens.push({type:"tr_close",level:--i.level}),i.tokens.push({type:"thead_close",level:--i.level}),i.tokens.push({type:"tbody_open",lines:E=[l+2,0],level:i.level++}),f=l+2;f<t&&!(i.tShift[f]<i.blkIndent||(r=_h(i,f).trim(),r.indexOf("|")===-1));f++){for(h=r.replace(/^\||\|$/g,"").split("|"),i.tokens.push({type:"tr_open",level:i.level++}),u=0;u<h.length;u++)i.tokens.push({type:"td_open",align:g[u],level:i.level++}),p=h[u].substring(h[u].charCodeAt(0)===124?1:0,h[u].charCodeAt(h[u].length-1)===124?h[u].length-1:h[u].length).trim(),i.tokens.push({type:"inline",content:p,level:i.level,children:[]}),i.tokens.push({type:"td_close",level:--i.level});i.tokens.push({type:"tr_close",level:--i.level})}return i.tokens.push({type:"tbody_close",level:--i.level}),i.tokens.push({type:"table_close",level:--i.level}),b[1]=E[1]=f,i.line=f,!0}function Hu(i,l){var t,e,n=i.bMarks[l]+i.tShift[l],r=i.eMarks[l];return n>=r||(e=i.src.charCodeAt(n++),e!==126&&e!==58)||(t=i.skipSpaces(n),n===t)||t>=r?-1:t}function Q3(i,l){var t,e,n=i.level+2;for(t=l+2,e=i.tokens.length-2;t<e;t++)i.tokens[t].level===n&&i.tokens[t].type==="paragraph_open"&&(i.tokens[t+2].tight=!0,i.tokens[t].tight=!0,t+=2)}function W3(i,l,t,e){var n,r,o,u,f,h,p,g,y,b,E,S,A,R;if(e)return i.ddIndent<0?!1:Hu(i,l)>=0;if(p=l+1,i.isEmpty(p)&&++p>t||i.tShift[p]<i.blkIndent||(n=Hu(i,p),n<0)||i.level>=i.options.maxNesting)return!1;h=i.tokens.length,i.tokens.push({type:"dl_open",lines:f=[l,0],level:i.level++}),o=l,r=p;e:for(;;){for(R=!0,A=!1,i.tokens.push({type:"dt_open",lines:[o,o],level:i.level++}),i.tokens.push({type:"inline",content:i.getLines(o,o+1,i.blkIndent,!1).trim(),level:i.level+1,lines:[o,o],children:[]}),i.tokens.push({type:"dt_close",level:--i.level});;){if(i.tokens.push({type:"dd_open",lines:u=[p,0],level:i.level++}),S=i.tight,y=i.ddIndent,g=i.blkIndent,E=i.tShift[r],b=i.parentType,i.blkIndent=i.ddIndent=i.tShift[r]+2,i.tShift[r]=n-i.bMarks[r],i.tight=!0,i.parentType="deflist",i.parser.tokenize(i,r,t,!0),(!i.tight||A)&&(R=!1),A=i.line-r>1&&i.isEmpty(i.line-1),i.tShift[r]=E,i.tight=S,i.parentType=b,i.blkIndent=g,i.ddIndent=y,i.tokens.push({type:"dd_close",level:--i.level}),u[1]=p=i.line,p>=t||i.tShift[p]<i.blkIndent)break e;if(n=Hu(i,p),n<0)break;r=p}if(p>=t||(o=p,i.isEmpty(o))||i.tShift[o]<i.blkIndent||(r=o+1,r>=t)||(i.isEmpty(r)&&r++,r>=t)||i.tShift[r]<i.blkIndent||(n=Hu(i,r),n<0))break}return i.tokens.push({type:"dl_close",level:--i.level}),f[1]=p,i.line=p,R&&Q3(i,h),!0}function eT(i,l){var t,e,n,r,o,u=l+1,f;if(t=i.lineMax,u<t&&!i.isEmpty(u)){for(f=i.parser.ruler.getRules("paragraph");u<t&&!i.isEmpty(u);u++)if(!(i.tShift[u]-i.blkIndent>3)){for(n=!1,r=0,o=f.length;r<o;r++)if(f[r](i,u,t,!0)){n=!0;break}if(n)break}}return e=i.getLines(l,u,i.blkIndent,!1).trim(),i.line=u,e.length&&(i.tokens.push({type:"paragraph_open",tight:!1,lines:[l,i.line],level:i.level}),i.tokens.push({type:"inline",content:e,level:i.level+1,lines:[l,i.line],children:[]}),i.tokens.push({type:"paragraph_close",tight:!1,level:i.level})),!0}var ju=[["code",z3],["fences",P3,["paragraph","blockquote","list"]],["blockquote",H3,["paragraph","blockquote","list"]],["hr",j3,["paragraph","blockquote","list"]],["list",q3,["paragraph","blockquote"]],["footnote",G3,["paragraph"]],["heading",V3,["paragraph","blockquote"]],["lheading",K3],["htmlblock",$3,["paragraph","blockquote"]],["table",Z3,["paragraph"]],["deflist",W3,["paragraph"]],["paragraph",eT]];function Sm(){this.ruler=new Gn;for(var i=0;i<ju.length;i++)this.ruler.push(ju[i][0],ju[i][1],{alt:(ju[i][2]||[]).slice()})}Sm.prototype.tokenize=function(i,l,t){for(var e=this.ruler.getRules(""),n=e.length,r=l,o=!1,u,f;r<t&&(i.line=r=i.skipEmptyLines(r),!(r>=t||i.tShift[r]<i.blkIndent));){for(f=0;f<n&&(u=e[f](i,r,t,!1),!u);f++);if(i.tight=!o,i.isEmpty(i.line-1)&&(o=!0),r=i.line,r<t&&i.isEmpty(r)){if(o=!0,r++,r<t&&i.parentType==="list"&&i.isEmpty(r))break;i.line=r}}};var tT=/[\n\t]/g,nT=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,aT=/\u00a0/g;Sm.prototype.parse=function(i,l,t,e){var n,r=0,o=0;if(!i)return[];i=i.replace(aT," "),i=i.replace(nT,`
`),i.indexOf("	")>=0&&(i=i.replace(tT,function(u,f){var h;return i.charCodeAt(f)===10?(r=f+1,o=0,u):(h="    ".slice((f-r-o)%4),o=f-r+1,h)})),n=new mr(i,this,l,t,e),this.tokenize(n,n.line,n.lineMax)};function iT(i){switch(i){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function rT(i,l){for(var t=i.pos;t<i.posMax&&!iT(i.src.charCodeAt(t));)t++;return t===i.pos?!1:(l||(i.pending+=i.src.slice(i.pos,t)),i.pos=t,!0)}function sT(i,l){var t,e,n=i.pos;if(i.src.charCodeAt(n)!==10)return!1;if(t=i.pending.length-1,e=i.posMax,!l)if(t>=0&&i.pending.charCodeAt(t)===32)if(t>=1&&i.pending.charCodeAt(t-1)===32){for(var r=t-2;r>=0;r--)if(i.pending.charCodeAt(r)!==32){i.pending=i.pending.substring(0,r+1);break}i.push({type:"hardbreak",level:i.level})}else i.pending=i.pending.slice(0,-1),i.push({type:"softbreak",level:i.level});else i.push({type:"softbreak",level:i.level});for(n++;n<e&&i.src.charCodeAt(n)===32;)n++;return i.pos=n,!0}var _m=[];for(var Py=0;Py<256;Py++)_m.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(i){_m[i.charCodeAt(0)]=1});function lT(i,l){var t,e=i.pos,n=i.posMax;if(i.src.charCodeAt(e)!==92)return!1;if(e++,e<n){if(t=i.src.charCodeAt(e),t<256&&_m[t]!==0)return l||(i.pending+=i.src[e]),i.pos+=2,!0;if(t===10){for(l||i.push({type:"hardbreak",level:i.level}),e++;e<n&&i.src.charCodeAt(e)===32;)e++;return i.pos=e,!0}}return l||(i.pending+="\\"),i.pos++,!0}function oT(i,l){var t,e,n,r,o,u=i.pos,f=i.src.charCodeAt(u);if(f!==96)return!1;for(t=u,u++,e=i.posMax;u<e&&i.src.charCodeAt(u)===96;)u++;for(n=i.src.slice(t,u),r=o=u;(r=i.src.indexOf("`",o))!==-1;){for(o=r+1;o<e&&i.src.charCodeAt(o)===96;)o++;if(o-r===n.length)return l||i.push({type:"code",content:i.src.slice(u,r).replace(/[ \n]+/g," ").trim(),block:!1,level:i.level}),i.pos=o,!0}return l||(i.pending+=n),i.pos+=n.length,!0}function uT(i,l){var t,e,n,r=i.posMax,o=i.pos,u,f;if(i.src.charCodeAt(o)!==126||l||o+4>=r||i.src.charCodeAt(o+1)!==126||i.level>=i.options.maxNesting||(u=o>0?i.src.charCodeAt(o-1):-1,f=i.src.charCodeAt(o+2),u===126)||f===126||f===32||f===10)return!1;for(e=o+2;e<r&&i.src.charCodeAt(e)===126;)e++;if(e>o+3)return i.pos+=e-o,l||(i.pending+=i.src.slice(o,e)),!0;for(i.pos=o+2,n=1;i.pos+1<r;){if(i.src.charCodeAt(i.pos)===126&&i.src.charCodeAt(i.pos+1)===126&&(u=i.src.charCodeAt(i.pos-1),f=i.pos+2<r?i.src.charCodeAt(i.pos+2):-1,f!==126&&u!==126&&(u!==32&&u!==10?n--:f!==32&&f!==10&&n++,n<=0))){t=!0;break}i.parser.skipToken(i)}return t?(i.posMax=i.pos,i.pos=o+2,l||(i.push({type:"del_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"del_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=r,!0):(i.pos=o,!1)}function cT(i,l){var t,e,n,r=i.posMax,o=i.pos,u,f;if(i.src.charCodeAt(o)!==43||l||o+4>=r||i.src.charCodeAt(o+1)!==43||i.level>=i.options.maxNesting||(u=o>0?i.src.charCodeAt(o-1):-1,f=i.src.charCodeAt(o+2),u===43)||f===43||f===32||f===10)return!1;for(e=o+2;e<r&&i.src.charCodeAt(e)===43;)e++;if(e!==o+2)return i.pos+=e-o,l||(i.pending+=i.src.slice(o,e)),!0;for(i.pos=o+2,n=1;i.pos+1<r;){if(i.src.charCodeAt(i.pos)===43&&i.src.charCodeAt(i.pos+1)===43&&(u=i.src.charCodeAt(i.pos-1),f=i.pos+2<r?i.src.charCodeAt(i.pos+2):-1,f!==43&&u!==43&&(u!==32&&u!==10?n--:f!==32&&f!==10&&n++,n<=0))){t=!0;break}i.parser.skipToken(i)}return t?(i.posMax=i.pos,i.pos=o+2,l||(i.push({type:"ins_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"ins_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=r,!0):(i.pos=o,!1)}function fT(i,l){var t,e,n,r=i.posMax,o=i.pos,u,f;if(i.src.charCodeAt(o)!==61||l||o+4>=r||i.src.charCodeAt(o+1)!==61||i.level>=i.options.maxNesting||(u=o>0?i.src.charCodeAt(o-1):-1,f=i.src.charCodeAt(o+2),u===61)||f===61||f===32||f===10)return!1;for(e=o+2;e<r&&i.src.charCodeAt(e)===61;)e++;if(e!==o+2)return i.pos+=e-o,l||(i.pending+=i.src.slice(o,e)),!0;for(i.pos=o+2,n=1;i.pos+1<r;){if(i.src.charCodeAt(i.pos)===61&&i.src.charCodeAt(i.pos+1)===61&&(u=i.src.charCodeAt(i.pos-1),f=i.pos+2<r?i.src.charCodeAt(i.pos+2):-1,f!==61&&u!==61&&(u!==32&&u!==10?n--:f!==32&&f!==10&&n++,n<=0))){t=!0;break}i.parser.skipToken(i)}return t?(i.posMax=i.pos,i.pos=o+2,l||(i.push({type:"mark_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"mark_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=r,!0):(i.pos=o,!1)}function Hy(i){return i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122}function jy(i,l){var t=l,e,n,r,o=!0,u=!0,f=i.posMax,h=i.src.charCodeAt(l);for(e=l>0?i.src.charCodeAt(l-1):-1;t<f&&i.src.charCodeAt(t)===h;)t++;return t>=f&&(o=!1),r=t-l,r>=4?o=u=!1:(n=t<f?i.src.charCodeAt(t):-1,(n===32||n===10)&&(o=!1),(e===32||e===10)&&(u=!1),h===95&&(Hy(e)&&(o=!1),Hy(n)&&(u=!1))),{can_open:o,can_close:u,delims:r}}function dT(i,l){var t,e,n,r,o,u,f,h=i.posMax,p=i.pos,g=i.src.charCodeAt(p);if(g!==95&&g!==42||l)return!1;if(f=jy(i,p),t=f.delims,!f.can_open)return i.pos+=t,l||(i.pending+=i.src.slice(p,i.pos)),!0;if(i.level>=i.options.maxNesting)return!1;for(i.pos=p+t,u=[t];i.pos<h;){if(i.src.charCodeAt(i.pos)===g){if(f=jy(i,i.pos),e=f.delims,f.can_close){for(r=u.pop(),o=e;r!==o;){if(o<r){u.push(r-o);break}if(o-=r,u.length===0)break;i.pos+=r,r=u.pop()}if(u.length===0){t=r,n=!0;break}i.pos+=e;continue}f.can_open&&u.push(e),i.pos+=e;continue}i.parser.skipToken(i)}return n?(i.posMax=i.pos,i.pos=p+t,l||((t===2||t===3)&&i.push({type:"strong_open",level:i.level++}),(t===1||t===3)&&i.push({type:"em_open",level:i.level++}),i.parser.tokenize(i),(t===1||t===3)&&i.push({type:"em_close",level:--i.level}),(t===2||t===3)&&i.push({type:"strong_close",level:--i.level})),i.pos=i.posMax+t,i.posMax=h,!0):(i.pos=p,!1)}var hT=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function mT(i,l){var t,e,n=i.posMax,r=i.pos;if(i.src.charCodeAt(r)!==126||l||r+2>=n||i.level>=i.options.maxNesting)return!1;for(i.pos=r+1;i.pos<n;){if(i.src.charCodeAt(i.pos)===126){t=!0;break}i.parser.skipToken(i)}return!t||r+1===i.pos||(e=i.src.slice(r+1,i.pos),e.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=r,!1):(i.posMax=i.pos,i.pos=r+1,l||i.push({type:"sub",level:i.level,content:e.replace(hT,"$1")}),i.pos=i.posMax+1,i.posMax=n,!0)}var pT=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function vT(i,l){var t,e,n=i.posMax,r=i.pos;if(i.src.charCodeAt(r)!==94||l||r+2>=n||i.level>=i.options.maxNesting)return!1;for(i.pos=r+1;i.pos<n;){if(i.src.charCodeAt(i.pos)===94){t=!0;break}i.parser.skipToken(i)}return!t||r+1===i.pos||(e=i.src.slice(r+1,i.pos),e.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=r,!1):(i.posMax=i.pos,i.pos=r+1,l||i.push({type:"sup",level:i.level,content:e.replace(pT,"$1")}),i.pos=i.posMax+1,i.posMax=n,!0)}function gT(i,l){var t,e,n,r,o,u,f,h,p=!1,g=i.pos,y=i.posMax,b=i.pos,E=i.src.charCodeAt(b);if(E===33&&(p=!0,E=i.src.charCodeAt(++b)),E!==91||i.level>=i.options.maxNesting||(t=b+1,e=uo(i,b),e<0))return!1;if(u=e+1,u<y&&i.src.charCodeAt(u)===40){for(u++;u<y&&(h=i.src.charCodeAt(u),!(h!==32&&h!==10));u++);if(u>=y)return!1;for(b=u,Nb(i,u)?(r=i.linkContent,u=i.pos):r="",b=u;u<y&&(h=i.src.charCodeAt(u),!(h!==32&&h!==10));u++);if(u<y&&b!==u&&Ib(i,u))for(o=i.linkContent,u=i.pos;u<y&&(h=i.src.charCodeAt(u),!(h!==32&&h!==10));u++);else o="";if(u>=y||i.src.charCodeAt(u)!==41)return i.pos=g,!1;u++}else{if(i.linkLevel>0)return!1;for(;u<y&&(h=i.src.charCodeAt(u),!(h!==32&&h!==10));u++);if(u<y&&i.src.charCodeAt(u)===91&&(b=u+1,u=uo(i,u),u>=0?n=i.src.slice(b,u++):u=b-1),n||(ie(n)>"u"&&(u=e+1),n=i.src.slice(t,e)),f=i.env.references[Lb(n)],!f)return i.pos=g,!1;r=f.href,o=f.title}return l||(i.pos=t,i.posMax=e,p?i.push({type:"image",src:r,title:o,alt:i.src.substr(t,e-t),level:i.level}):(i.push({type:"link_open",href:r,title:o,level:i.level++}),i.linkLevel++,i.parser.tokenize(i),i.linkLevel--,i.push({type:"link_close",level:--i.level}))),i.pos=u,i.posMax=y,!0}function yT(i,l){var t,e,n,r,o=i.posMax,u=i.pos;return u+2>=o||i.src.charCodeAt(u)!==94||i.src.charCodeAt(u+1)!==91||i.level>=i.options.maxNesting||(t=u+2,e=uo(i,u+1),e<0)?!1:(l||(i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.list||(i.env.footnotes.list=[]),n=i.env.footnotes.list.length,i.pos=t,i.posMax=e,i.push({type:"footnote_ref",id:n,level:i.level}),i.linkLevel++,r=i.tokens.length,i.parser.tokenize(i),i.env.footnotes.list[n]={tokens:i.tokens.splice(r)},i.linkLevel--),i.pos=e+1,i.posMax=o,!0)}function bT(i,l){var t,e,n,r,o=i.posMax,u=i.pos;if(u+3>o||!i.env.footnotes||!i.env.footnotes.refs||i.src.charCodeAt(u)!==91||i.src.charCodeAt(u+1)!==94||i.level>=i.options.maxNesting)return!1;for(e=u+2;e<o;e++){if(i.src.charCodeAt(e)===32||i.src.charCodeAt(e)===10)return!1;if(i.src.charCodeAt(e)===93)break}return e===u+2||e>=o||(e++,t=i.src.slice(u+2,e-1),ie(i.env.footnotes.refs[":"+t])>"u")?!1:(l||(i.env.footnotes.list||(i.env.footnotes.list=[]),i.env.footnotes.refs[":"+t]<0?(n=i.env.footnotes.list.length,i.env.footnotes.list[n]={label:t,count:0},i.env.footnotes.refs[":"+t]=n):n=i.env.footnotes.refs[":"+t],r=i.env.footnotes.list[n].count,i.env.footnotes.list[n].count++,i.push({type:"footnote_ref",id:n,subId:r,level:i.level})),i.pos=e,i.posMax=o,!0)}var ST=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],_T=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,ET=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function kT(i,l){var t,e,n,r,o,u=i.pos;return i.src.charCodeAt(u)!==60||(t=i.src.slice(u),t.indexOf(">")<0)?!1:(e=t.match(ET),e?ST.indexOf(e[1].toLowerCase())<0||(r=e[0].slice(1,-1),o=Hh(r),!i.parser.validateLink(r))?!1:(l||(i.push({type:"link_open",href:o,level:i.level}),i.push({type:"text",content:r,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=e[0].length,!0):(n=t.match(_T),n?(r=n[0].slice(1,-1),o=Hh("mailto:"+r),i.parser.validateLink(o)?(l||(i.push({type:"link_open",href:o,level:i.level}),i.push({type:"text",content:r,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=n[0].length,!0):!1):!1))}function Rc(i,l){return i=i.source,l=l||"",function t(e,n){return e?(n=n.source||n,i=i.replace(e,n),t):new RegExp(i,l)}}var CT=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,wT=/[^"'=<>`\x00-\x20]+/,TT=/'[^']*'/,AT=/"[^"]*"/,MT=Rc(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",wT)("single_quoted",TT)("double_quoted",AT)(),RT=Rc(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",CT)("attr_value",MT)(),OT=Rc(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",RT)(),xT=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,BT=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,NT=/<[?].*?[?]>/,IT=/<![A-Z]+\s+[^>]*>/,LT=/<!\[CDATA\[[\s\S]*?\]\]>/,DT=Rc(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",OT)("close_tag",xT)("comment",BT)("processing",NT)("declaration",IT)("cdata",LT)();function UT(i){var l=i|32;return l>=97&&l<=122}function zT(i,l){var t,e,n,r=i.pos;return!i.options.html||(n=i.posMax,i.src.charCodeAt(r)!==60||r+2>=n)||(t=i.src.charCodeAt(r+1),t!==33&&t!==63&&t!==47&&!UT(t))||(e=i.src.slice(r).match(DT),!e)?!1:(l||i.push({type:"htmltag",content:i.src.slice(r,r+e[0].length),level:i.level}),i.pos+=e[0].length,!0)}var PT=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,HT=/^&([a-z][a-z0-9]{1,31});/i;function jT(i,l){var t,e,n,r=i.pos,o=i.posMax;if(i.src.charCodeAt(r)!==38)return!1;if(r+1<o){if(t=i.src.charCodeAt(r+1),t===35){if(n=i.src.slice(r).match(PT),n)return l||(e=n[1][0].toLowerCase()==="x"?parseInt(n[1].slice(1),16):parseInt(n[1],10),i.pending+=xb(e)?Ph(e):Ph(65533)),i.pos+=n[0].length,!0}else if(n=i.src.slice(r).match(HT),n){var u=Rb(n[1]);if(n[1]!==u)return l||(i.pending+=u),i.pos+=n[0].length,!0}}return l||(i.pending+="&"),i.pos++,!0}var Eh=[["text",rT],["newline",sT],["escape",lT],["backticks",oT],["del",uT],["ins",cT],["mark",fT],["emphasis",dT],["sub",mT],["sup",vT],["links",gT],["footnote_inline",yT],["footnote_ref",bT],["autolink",kT],["htmltag",zT],["entity",jT]];function Oc(){this.ruler=new Gn;for(var i=0;i<Eh.length;i++)this.ruler.push(Eh[i][0],Eh[i][1]);this.validateLink=FT}Oc.prototype.skipToken=function(i){var l=this.ruler.getRules(""),t=l.length,e=i.pos,n,r;if((r=i.cacheGet(e))>0){i.pos=r;return}for(n=0;n<t;n++)if(l[n](i,!0)){i.cacheSet(e,i.pos);return}i.pos++,i.cacheSet(e,i.pos)};Oc.prototype.tokenize=function(i){for(var l=this.ruler.getRules(""),t=l.length,e=i.posMax,n,r;i.pos<e;){for(r=0;r<t&&(n=l[r](i,!1),!n);r++);if(n){if(i.pos>=e)break;continue}i.pending+=i.src[i.pos++]}i.pending&&i.pushPending()};Oc.prototype.parse=function(i,l,t,e){var n=new hr(i,this,l,t,e);this.tokenize(n)};function FT(i){var l=["vbscript","javascript","file","data"],t=i.trim().toLowerCase();return t=cr(t),!(t.indexOf(":")!==-1&&l.indexOf(t.split(":")[0])!==-1)}var qT={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},GT={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},VT={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},KT={default:qT,full:GT,commonmark:VT};function zb(i,l,t){this.src=l,this.env=t,this.options=i.options,this.tokens=[],this.inlineMode=!1,this.inline=i.inline,this.block=i.block,this.renderer=i.renderer,this.typographer=i.typographer}function Ca(i,l){typeof i!="string"&&(l=i,i="default"),l&&l.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new Oc,this.block=new Sm,this.core=new Db,this.renderer=new bm,this.ruler=new Gn,this.options={},this.configure(KT[i]),this.set(l||{})}Ca.prototype.set=function(i){Ob(this.options,i)};Ca.prototype.configure=function(i){var l=this;if(!i)throw new Error("Wrong `remarkable` preset, check name/content");i.options&&l.set(i.options),i.components&&Object.keys(i.components).forEach(function(t){i.components[t].rules&&l[t].ruler.enable(i.components[t].rules,!0)})};Ca.prototype.use=function(i,l){return i(this,l),this};Ca.prototype.parse=function(i,l){var t=new zb(this,i,l);return this.core.process(t),t.tokens};Ca.prototype.render=function(i,l){return l=l||{},this.renderer.render(this.parse(i,l),this.options,l)};Ca.prototype.parseInline=function(i,l){var t=new zb(this,i,l);return t.inlineMode=!0,this.core.process(t),t.tokens};Ca.prototype.renderInline=function(i,l){return l=l||{},this.renderer.render(this.parseInline(i,l),this.options,l)};var Pb=(function(){function i(){z(this,i)}return P(i,null,[{key:"addPlugins",value:function(t,e){var n=window.remarkable_plugins;if(n&&n.forEach(function(u){t.use(u.plugin,u.options)}),e!=null&&e.math){window.katex||(console.warn("window.katex not found, use chatElementRef.refreshMessages to re-render messages"),console.warn("See https://deepchat.dev/examples/externalModules"));var r=ie(e.math)=="object"?e.math.delimiter:"",o=ie(e.math)=="object"&&e.math.options?e.math.options:{};t.use(f3.katex.bind(this,o),{delimiter:r})}}},{key:"instantiate",value:function(t){if(t)return new Ca(ze(ze({},i.DEFAULT_PROPERTIES),t));if(window.hljs){var e=window.hljs;return new Ca({highlight:function(r,o){if(o&&e.getLanguage(o))try{return e.highlight(r,{language:o}).value}catch{console[O]("failed to setup the highlight dependency")}try{return e.highlightAuto(r).value}catch{console[O]("failed to automatically highlight messages")}return""},html:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkTarget:"_blank",typographer:!0})}else return new Ca(i.DEFAULT_PROPERTIES)}},{key:"createNew",value:function(t){var e=i.instantiate(t);return i.addPlugins(e,t),e.inline.validateLink=function(){return!0},e}}])})();Pb.DEFAULT_PROPERTIES={breaks:!0,linkTarget:"_blank"};var jh=Pb,JT=(function(){function i(l){z(this,i),this.storageKey="deep-chat-storage",this.maxMessages=1e3,this.trackInputText=!1,this.trackScrollHeight=!1,ie(l)=="object"&&(l.key&&(this.storageKey=l.key),l.maxMessages&&(this.maxMessages=l.maxMessages),l.inputText!==void 0&&(this.trackInputText=l.inputText),l.scrollHeight!==void 0&&(this.trackScrollHeight=l.scrollHeight),l.clear=this.clear.bind(this),Ct.processBrowserStorage(this))}return P(i,[{key:"get",value:function(){var t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{messages:[]}}},{key:"set",value:function(t,e,n){var r={messages:t,inputText:e,scrollHeight:n};localStorage.setItem(this.storageKey,JSON.stringify(r))}},{key:"addMessages",value:function(t){var e=t.length-this.maxMessages;e<0&&(e=0);var n=t.slice(e,t.length),r=this.trackInputText||this.trackScrollHeight?localStorage.getItem(this.storageKey):void 0,o=r?JSON.parse(r):void 0;this.set(n,this.trackInputText?o?.inputText:void 0,this.trackScrollHeight?o?.scrollHeight:void 0)}},{key:"addInputText",value:function(t){if(this.trackInputText){var e=localStorage.getItem(this.storageKey),n=e?JSON.parse(e):void 0;this.set(n?.messages||[],t,this.trackScrollHeight?n?.scrollHeight:void 0)}}},{key:"addScrollHeight",value:function(t){if(this.trackScrollHeight){var e=localStorage.getItem(this.storageKey),n=e?JSON.parse(e):void 0;this.set(n?.messages||[],this.trackInputText?n?.inputText:void 0,t)}}},{key:"clear",value:function(){localStorage.removeItem(this.storageKey)}}])})(),Qu=(function(){function i(){z(this,i)}return P(i,null,[{key:"applyCustomStylesToElements",value:function(t,e,n){if(n&&(Object.assign(t.outerContainer[X],n.outerContainer),Object.assign(t.innerContainer[X],n.innerContainer),Object.assign(t.bubbleElement[X],n.bubble),e)){var r=t.bubbleElement.children[0],o=r.tagName.toLocaleLowerCase()!=="a"?r:r.children[0];Object.assign(o[X],n.media)}}},{key:"applySideStyles",value:function(t,e,n,r){r&&(i.applyCustomStylesToElements(t,n,r.shared),e===qe?i.applyCustomStylesToElements(t,n,r.user):(i.applyCustomStylesToElements(t,n,r.ai),i.applyCustomStylesToElements(t,n,r[e])))}},{key:"isElementsStyles",value:function(t){return!!(t.outerContainer||t.innerContainer||t.bubble||t.media)}},{key:"applyCustomStyles",value:function(t,e,n,r,o){var u;o&&t[le]!==o?i.isElementsStyles(o)?(i.applyCustomStylesToElements(e,r,(u=t[le])==null?void 0:u.shared),i.applyCustomStylesToElements(e,r,o)):(i.applySideStyles(e,n,r,t[le]),i.applySideStyles(e,n,r,o)):i.applySideStyles(e,n,r,t[le])}},{key:"extractParticularSharedStyles",value:function(t,e){if(e!=null&&e.shared){var n=e.shared,r={outerContainer:{},innerContainer:{},bubble:{},media:{}};return t.forEach(function(o){var u,f,h,p;r.outerContainer[o]=((u=n.outerContainer)==null?void 0:u[o])||"",r.innerContainer[o]=((f=n.innerContainer)==null?void 0:f[o])||"",r.bubble[o]=((h=n.bubble)==null?void 0:h[o])||"",r.media[o]=((p=n.media)==null?void 0:p[o])||""}),r}}}])})(),aa=(function(){function i(){z(this,i)}return P(i,null,[{key:"setElementProps",value:function(t,e,n,r){var o;n!=="loading"&&(t.applyCustomStyles(e,r,!0,(o=t.messageStyles)==null?void 0:o[n]),e.bubbleElement[B].add(hb))}},{key:"addMessage",value:function(t,e,n,r,o){i.setElementProps(t,e,n,r),o||t.appendOuterContainerElemet(e.outerContainer)}},{key:"wrapInLink",value:function(t,e,n){var r=se("a");return r.href=e,r.download=n||_t,r.target="_blank",r.appendChild(t),r}},{key:"isNonLinkableDataUrl",value:function(t,e){return!e.startsWith("data")||t===Ye?!1:t===or&&e.startsWith("data:text/javascript")||!e.startsWith("data:image")&&!e.startsWith("data:application")}},{key:"processContent",value:function(t,e,n,r){return!n||i.isNonLinkableDataUrl(t,n)?e:i.wrapInLink(e,n,r)}},{key:"waitToLoadThenScroll",value:function(t){setTimeout(function(){t()},60)}},{key:"scrollDownOnImageLoad",value:function(t,e){if(t.startsWith("data"))i.waitToLoadThenScroll(e);else try{fetch(t,{mode:"no-cors"}).catch(function(){}).finally(function(){i.waitToLoadThenScroll(e)})}catch{e()}}},{key:"reAddFileRefToObject",value:function(t,e){var n;(n=t[H])==null||n.forEach(function(r,o){var u;r.ref&&(u=e[H])!=null&&u[o]&&(e[H][o].ref=r.ref)})}},{key:"removeFileRef",value:function(t){var e=ze({},t);return delete e.ref,e}},{key:"isAudioFile",value:function(t){var e=/\.(mp3|ogg|wav|aac|webm|4a)$/i,n=t.type,r=t.src;return n===De||r?.startsWith("data:audio")||r&&e.test(r)}},{key:"isImageFile",value:function(t){var e=t.type,n=t.src;return e===Ye||n?.startsWith("data:image")||n&&i.isImageFileExtension(n)}},{key:"isImageFileExtension",value:function(t){return/\.(jpg|jpeg|png|gif|bmp)$/i.test(t)}}])})(),fr=(function(){function i(){z(this,i)}return P(i,null,[{key:"onMessage",value:function(t,e,n){var r,o=JSON.parse(JSON.stringify({message:e,isHistory:n,isInitial:n}));aa.reAddFileRefToObject(e,o.message),(r=t.onMessage)==null||r.call(t,o),t.dispatchEvent(new CustomEvent("message",{detail:o})),Ct.fireOnNewMessage(t,o)}},{key:"onClearMessages",value:function(t){var e;(e=t.onClearMessages)==null||e.call(t),t.dispatchEvent(new CustomEvent("clear-messages"))}},{key:"onRender",value:function(t){var e;(e=t.onComponentRender)==null||e.call(t,t),t.dispatchEvent(new CustomEvent("render",{detail:t}))}},{key:"onInput",value:function(t,e,n){var r,o,u=JSON.parse(JSON.stringify({content:e,isUser:n}));e[H]&&aa.reAddFileRefToObject(C({},H,(r=e[H])==null?void 0:r.map(function(f){return{ref:f}})),u.content),(o=t.onInput)==null||o.call(t,u),t.dispatchEvent(new CustomEvent("input",{detail:u}))}},{key:"onError",value:function(t,e){var n;(n=t.onError)==null||n.call(t,e),t.dispatchEvent(new CustomEvent(O,{detail:e}))}}])})(),Wu=(function(){function i(){z(this,i)}return P(i,null,[{key:"generateLoadingRingElement",value:function(){var t=se();return t[B].add("loading-history"),t.appendChild(se()),t.appendChild(se()),t.appendChild(se()),t.appendChild(se()),t}},{key:"apply",value:function(t,e,n){ki.setRing(e.bubbleElement,n?.bubble),n!=null&&n.bubble&&(n=JSON.parse(JSON.stringify(n)),delete n.bubble),t.applyCustomStyles(e,"history",!1,n)}},{key:"addLoadHistoryMessage",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r,o,u,f,h,p,g,y;t.bubbleElement[B].add(i.CLASS);var b=n?i.FULL_VIEW_CLASS:i.SMALL_CLASS;t.outerContainer[B].add(b);var E=n?(f=(u=(o=(r=e.messageStyles)==null?void 0:r.loading)==null?void 0:o.history)==null?void 0:u.full)==null?void 0:f.styles:(y=(g=(p=(h=e.messageStyles)==null?void 0:h.loading)==null?void 0:p.history)==null?void 0:g.small)==null?void 0:y.styles;i.apply(e,t,E);var S=e.elementRef;n&&e.elementRef.id!==pb&&(S=e.elementRef.parentElement),S?.prepend(t.outerContainer)}},{key:"createDefaultElements",value:function(t){var e=t.createMessageElements("",vt),n=e.bubbleElement,r=i.generateLoadingRingElement();return n.appendChild(r),e}},{key:"addMessage",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n,r,o,u,f=(u=(o=(r=(n=t.messageStyles)==null?void 0:n.loading)==null?void 0:r.history)==null?void 0:o.full)==null?void 0:u[Me],h=f?Ti.createElements(t,f,vt,!0,!0):i.createDefaultElements(t);return i.addLoadHistoryMessage(h,t,e),bt.softRemRoleElements(h.innerContainer,t.avatar,t.name),h}},{key:"tryChangeViewToSmall",value:function(t,e){var n,r,o,u,f,h,p,g;if(e!=null&&e.outerContainer[B].contains(i.FULL_VIEW_CLASS)){e.outerContainer[B].replace(i.FULL_VIEW_CLASS,i.SMALL_CLASS);var y=(u=(o=(r=(n=t.messageStyles)==null?void 0:n.loading)==null?void 0:r.history)==null?void 0:o.small)==null?void 0:u.styles;y&&i.apply(t,e,y);var b=(g=(p=(h=(f=t.messageStyles)==null?void 0:f.loading)==null?void 0:h.history)==null?void 0:p.small)==null?void 0:g[Me];return b&&(e.bubbleElement.innerHTML=b),!0}return!1}},{key:"changeFullViewToSmall",value:function(t){var e=t.messageElementRefs[t.messageElementRefs.length-1];i.tryChangeViewToSmall(t,e)||i.tryChangeViewToSmall(t,t.messageElementRefs[0])}}])})();Wu.CLASS="loading-history-message",Wu.FULL_VIEW_CLASS="loading-history-message-full-view",Wu.SMALL_CLASS="loading-history-message-small";var ar=Wu,Hb=(function(){function i(){z(this,i)}return P(i,null,[{key:"setFade",value:function(t,e){t[X].transitionDuration=typeof e=="number"?"".concat(e,"ms"):"".concat(i.DEFAULT_FADE_MS,"ms")}},{key:"fadeAnimation",value:(function(){var l=I(k().m(function e(n,r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:return n[X].opacity="0",o=typeof r=="number"?r:i.DEFAULT_FADE_MS,u.n=1,new Promise(function(f){setTimeout(function(){return f()},o)});case 1:n[X].opacity="1";case 2:return u.a(2)}},e)}));function t(e,n){return l.apply(this,arguments)}return t})()}])})();Hb.DEFAULT_FADE_MS=500;var jb=Hb,YT=(function(){function i(l,t,e){if(z(this,i),this.hiddenElements=new Set,this.isScrollButton=!1,this.isScrollingToBottom=!1,this._messages=l,t){var n,r={};ie(t)=="object"&&(r=JSON.parse(JSON.stringify(t)),r.onUpdate=t.onUpdate),(n=r.styles)!==null&&n!==void 0||(r.styles={});var o="fit-content";r.styles.default=ze({borderRadius:"10px",width:o,height:o},r.styles.default),this.hiddenMessagesConfig=r,this.io=this.initIntersectionObserver(this._messages.elementRef)}if(e){var u,f=ie(e)=="object"?JSON.parse(JSON.stringify(e)):{};(u=f.styles)!==null&&u!==void 0||(f.styles={}),f.styles.default=ze({borderRadius:"50%",width:"1.4rem",height:"1.4rem"},f.styles.default),this.scrollButtonConfig=f}this.element=this.createElement(),this._messages.elementRef.appendChild(this.element)}return P(i,[{key:"initIntersectionObserver",value:function(t){var e=this;return new IntersectionObserver(function(n){n.forEach(function(r){var o;r.isIntersecting&&e.hiddenElements.has(r.target)&&(e.hiddenElements.delete(r.target),(o=e.io)==null||o.unobserve(r.target),e.updateHiddenElement())})},{root:t,threshold:.1})}},{key:"createElement",value:function(){var t=this,e=se();return e.id="scroll-button",Ke.assignButtonEvents(e,function(){var n,r,o,u=t.isScrollButton?(n=t.scrollButtonConfig)==null?void 0:n.smoothScroll:(r=t.hiddenMessagesConfig)==null?void 0:r.smoothScroll,f=typeof u=="boolean"?u:!0;if(t.isScrollButton||((o=t.hiddenMessagesConfig)==null?void 0:o.clickScroll)==="last")Ke.scrollToBottom(t._messages,f),f&&t.element&&(i.hideElement(t.element),t.isScrollingToBottom=!0,Ke.waitForScrollEnd(t._messages.elementRef,function(){t.isScrollingToBottom=!1}));else{var h=t.hiddenElements.values().next().value;h&&t._messages.elementRef.scrollTo({left:0,top:h.offsetTop,behavior:f?"smooth":"auto"})}}),sn.apply(this._messages,e),e}},{key:"assignStyles",value:function(t){if(this.element){Object.assign(this.element[X],t[le]);var e=Gt.processStateful(t);Mc.add(this.element,e)}}},{key:"updateHiddenElement",value:function(){var t,e;if(this.element){this.isScrollButton=!1;var n=this.hiddenElements.size;if(n===0){i.hideElement(this.element);return}var r="".concat(n," new message").concat(n===1?"":"s");if((t=this.hiddenMessagesConfig)!=null&&t.onUpdate){var o=this.hiddenMessagesConfig.onUpdate(r,n);this.element.innerHTML=o,sn.apply(this._messages,this.element)}else this.element.innerHTML=r;(e=this.hiddenMessagesConfig)!=null&&e.styles&&this.assignStyles(this.hiddenMessagesConfig.styles),i.displayElement(this.element)}}},{key:"updateHidden",value:function(){var t,e;if(!this.isScrollingToBottom)if(this.hiddenMessagesConfig){var n=(t=this._messages.getFirstMessageContentEl())==null?void 0:t.outerContainer;n&&!Ke.isVisibleInParent(n,this._messages.elementRef)&&(this.hiddenElements.add(n),(e=this.io)==null||e.observe(n),this.updateHiddenElement())}else this.updateScroll()}},{key:"clearHidden",value:function(){var t=this;this.hiddenElements.forEach(function(e){var n;return(n=t.io)==null?void 0:n.unobserve(e)}),this.hiddenElements.clear(),this.updateHiddenElement()}},{key:"displayScroll",value:function(){var t,e;this.element&&this.element[X].opacity!==Ay&&(i.displayElement(this.element),this.element.innerHTML=((t=this.scrollButtonConfig)==null?void 0:t.content)||'<span style="font-size: 1.2rem; user-select: none;">&darr;</span>',(e=this.scrollButtonConfig)!=null&&e.styles&&this.assignStyles(this.scrollButtonConfig.styles))}},{key:"updateScroll",value:function(){var t;this.isScrollingToBottom||!this.scrollButtonConfig||(Ke.isScrollbarAtBottomOfElement(this._messages.elementRef,((t=this.scrollButtonConfig)==null?void 0:t.scrollDelta)||80)?this.element&&this.element[X].opacity!==Ty&&i.hideElement(this.element):(this.displayScroll(),this.isScrollButton=!0))}}],[{key:"displayElement",value:function(t){t[X].opacity=Ay,t[X].pointerEvents="auto"}},{key:"hideElement",value:function(t){t[X].opacity=Ty,t[X].pointerEvents="none"}}])})(),Fy="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%20xml:space='preserve'%3e%3cpath%20d='M23,30.36H9c-2.404,0-4.36-1.956-4.36-4.36V15c0-2.404,1.956-4.36,4.36-4.36h3.659%20c0.167-1.566,1.415-2.813,2.981-2.981V5.333c-1.131-0.174-2-1.154-2-2.333c0-1.301,1.059-2.36,2.36-2.36%20c1.302,0,2.36,1.059,2.36,2.36c0,1.179-0.869,2.159-2,2.333V7.66c1.566,0.167,2.814,1.415,2.981,2.981H23%20c2.404,0,4.36,1.956,4.36,4.36v11C27.36,28.404,25.404,30.36,23,30.36z%20M9,11.36c-2.007,0-3.64,1.633-3.64,3.64v11%20c0,2.007,1.633,3.64,3.64,3.64h14c2.007,0,3.64-1.633,3.64-3.64V15c0-2.007-1.633-3.64-3.64-3.64H9z%20M13.384,10.64h5.231%20C18.439,9.354,17.334,8.36,16,8.36C14.667,8.36,13.561,9.354,13.384,10.64z%20M16,1.36c-0.904,0-1.64,0.736-1.64,1.64%20S15.096,4.64,16,4.64c0.904,0,1.64-0.736,1.64-1.64S16.904,1.36,16,1.36z%20M20,27.36h-8c-1.301,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36h8c1.302,0,2.36,1.059,2.36,2.36S21.302,27.36,20,27.36z%20M12,23.36c-0.904,0-1.64,0.735-1.64,1.64%20s0.736,1.64,1.64,1.64h8c0.904,0,1.64-0.735,1.64-1.64s-0.735-1.64-1.64-1.64H12z%20M31,23.86h-2c-0.199,0-0.36-0.161-0.36-0.36V15%20c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5C31.36,23.699,31.199,23.86,31,23.86z%20M29.36,23.14h1.279v-7.78%20H29.36V23.14z%20M3,23.86H1c-0.199,0-0.36-0.161-0.36-0.36V15c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5%20C3.36,23.699,3.199,23.86,3,23.86z%20M1.36,23.14h1.28v-7.78H1.36V23.14z%20M20,20.36c-1.302,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36s2.36,1.059,2.36,2.36C22.36,19.302,21.302,20.36,20,20.36z%20M20,16.36c-0.904,0-1.64,0.736-1.64,1.64%20s0.735,1.64,1.64,1.64s1.64-0.735,1.64-1.64S20.904,16.36,20,16.36z%20M12,20.36c-1.301,0-2.36-1.059-2.36-2.36s1.059-2.36,2.36-2.36%20s2.36,1.059,2.36,2.36C14.36,19.302,13.301,20.36,12,20.36z%20M12,16.36c-0.904,0-1.64,0.736-1.64,1.64s0.736,1.64,1.64,1.64%20s1.64-0.735,1.64-1.64S12.904,16.36,12,16.36z'/%3e%3crect%20style='fill:none;'%20width='32'%20height='32'/%3e%3c/svg%3e",Fh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAMAAAC/MqoPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAADNQTFRF////9vX18vLy/Pz86enp4+Li2tnZ1tbWzczM+fn57Ozs4N/f09LS0M/P5uXl7+/v3dzcwtncCAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAZNSURBVHja7d3bdtsqEABQYABZSLH9/3+ZpnUsIcF5iOM6PfElNoMHMfPQdq3GmL0GkLhEUqLaUExnOtOZznSmM53pTGc605nOdKYznelMZzrTmV4LXSqllKyJDkob26xWq8Zae/iH0QoWTm9d1xur4WuypQJtTd+5dqn0VjcxzNO5/57mEBvdLo8Oron6aseWOjYOFkVvjQs3DmgyONMuht52EfztP+4hdu0i6LCO808/M8c1lE/fuPGej41uUzgdtoO/75N+2ELJ9I3b3//hPXbiMenm3pR/Jt4USgcLBIp4Bh10gqKVhvLo0klCxeSky96nKcj3siw6pJIL4XsoiQ7apyvMY/V3HHrSRioLopvEhSpTCn2TPEuwKYMOIX0tAxRBf/Hpa+lfSqBv9gi1FPsNfTrMAiVmIE/vJhz61FGnQxRIEYE4vfNYdN8Rp6MlHaHotHTn8ejekaZPAjEmyvQWdZFTtYTpXqCGJ0zvcek9Yfoel76nS0ffv1NMp1ca+pkgyfRCGind4L7OWWc605l+cxjsyhqy9AGbPpClc1/nvl5VX0c/3Alk6RU3+Am7shNZ+h6bvidLr7jBB+zKBrL0irOOudmIUDzTmf5gIP+iEuXtRuTVaEmY/oZLfyNMrzjryPc0gerMTdpVg0tvjJUU6bLPcGOoUv46SLL6Wi8yhLf06C7TUyekI0efRaaYqdFltkeNpPumRPSMDxgBYvSM035FrKAmH72hRW99PrpvSdEHkTEGUvSsK3yKVDkuJ92RohcZaehzzirPpOg+J92Tolfc4Cumx5xVXpGiZ34+ICX6W84qv5GiR5NPbiIpOv6BCoSvSkTX+eiaGP092zINvBOj4x8mSf9FqejvNo/cvpOji19ZbmviL0GPLsYMFzgzCor0+Bv/ePDvSJKOb9dJ5UlnbnEHiHgzv6cdTpJOWuc/u3FEucLDOL75xGtBiefrcwgoC9NDSH/jkH6pAuXmBqPQ9HSUPVdZBH1GGOrMXAQdYxcKZfxAoK+KKBKFLosoEoX+u4giUehz8jlcnAuhp78I46yDYNAd+QLR6K+pr+yvxdBTHyVDubQh0UfSxaHSd0lbvNkVRE87JGOtc+PQd2QLQ6fHhJkKsSh6yg13tO08JPprsgrrXWH0dJd2vH1MLPprot4eXoujpzrdhngiD40ek2y92lggPcnWa8qN1Yz0BFuvZhRl0uOfR0v4Ewuli/Bg4Qr3lArqGdndQ3UPO1EunXYwnelMZzrTmc50pjOd6UxnOtOZznSmM53pTGf6kuj6oedFKV0s3fX6sX1S3bsi6a4PD7+/YAqYeBw6pIB/4qEgOqxdSPbGiim4NRRCbzs3Jj0L4UfXtQXQVRfn5IdA/Bw7RZzurEV6EtdsLeGXkIPuA+K1UoVeA0l62zmN/LqfSSft9KkepmoRuvi3nd5uKNFB9zbbXEANqdr941XO0NJx2v2jdJenpf+/3bvn0ts16ph+sd6hX7dPo2+2cZzE02Ia43bzDHqr+2Evnhz74ZHU30ffbKOeng1/NPV30Ns1gYQnSP2P6e65Pfxc6h02XZqXQCjhJ6kPL6bFo4NrGvAU4UII4SE2P1vQuZkuOxckVfehisF1MjUddN/MZBN+kvq5uf0O/xa66gyNS9ktMWlz44rO1Z8C19i5FPdHzPamXn+F3hryPfxMr78+4F+kq22kO6Rf6fUQt+puuustyWv4rbG3l/duztFB96GYoe1cTBdXMr+nw9qVM6ZfxOvzezff0nXi/ZOndvrR6Zvpm0c3h6nhdb+5iS7tsIim/qXZD9+97/Jf+rpZ5BET1ayv0GUzLhEuhBBjIy/RdVPgndutIRt9nt7p5cKFEEJ3Z+jQFDZL+XnMDXxHB73gxn5s9Kc3d3/pFciFkN/QTSXHJpX5l66gDrkQoP6hL3xsPw39la4qOiV8tH78XeSbue6N9mvWa6J/ybpc1CT1Wnh5Qq9meP8IOKH3ddH7E/ri1iYux/SXDrXR4UiPdck/wUpU+FtPf6/orja6O9KL3l56LOvVxe5Ib2qjN0d6Vbex4ghWlU3bPqI90If66MNng680FNpbJijH6kCvaF3uMzQ3+IrpFerV4Y9dffQdN3im10ivbuImhD3Qq5u4HdZkua8znelMZ/pS4z9CPVKkxowNxgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMy0yN1QxNTo0NToxNSswMDowMN1xSg4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDMtMjdUMTU6NDU6MTUrMDA6MDCsLPKyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",Fb=(function(){function i(l){z(this,i),this.className=l}return P(i,[{key:"getAvatarContainer",value:function(t){return t.getElementsByClassName(this.className)[0]}},{key:"tryHide",value:function(t){var e;(e=this.getAvatarContainer(t)[X]).visibility||(e.visibility="hidden")}},{key:"tryReveal",value:function(t){this.getAvatarContainer(t)[X].visibility=""}},{key:"trySoftRem",value:function(t){this.getAvatarContainer(t)[B].add("role-hidden")}}])})(),XT=(function(i){function l(t){var e;return z(this,l),e=ce(this,l,["avatar-container"]),e._avatars=t,e}return fe(l,i),P(l,[{key:"addBesideBubble",value:function(e,n){var r=typeof this._avatars=="boolean"?void 0:this._avatars,o=this.createAvatar(n,r),u=this.getPosition(n,r);o[B].add(u===wi?"start-item-position":"end-item-position"),e.insertAdjacentElement(u===wi?"beforebegin":"afterend",o)}},{key:"createAvatar",value:function(e,n){var r,o,u,f,h,p=se("img");e===qe?(p[de]=((r=n?.[qe])==null?void 0:r[de])||((o=n?.[le])==null?void 0:o[de])||Fh,p.onerror=l.errorFallback.bind(this,Fh)):(p[de]=((u=n?.[e])==null?void 0:u[de])||((f=n?.[vt])==null?void 0:f[de])||((h=n?.[le])==null?void 0:h[de])||Fy,p.onerror=l.errorFallback.bind(this,Fy)),p[B].add("avatar"),p.alt="".concat(e," avatar");var g=se();return g[B].add(this.className),g.appendChild(p),n&&l.applyCustomStyles(g,p,n,e),g}},{key:"getPosition",value:function(e,n){var r,o,u,f,h,p,g=Ct.processPosition((o=(r=n?.[e])==null?void 0:r.styles)==null?void 0:o.position);return e!==qe&&(g??(g=(f=(u=n?.ai)==null?void 0:u.styles)==null?void 0:f.position)),g??(g=(p=(h=n?.[le])==null?void 0:h.styles)==null?void 0:p.position),g??(g=e===qe?mb:wi),g}}],[{key:"errorFallback",value:function(e,n){var r=n.target;r.onerror=null,r[de]=e}},{key:"applyCustomStylesToElements",value:function(e,n,r){Object.assign(e[X],r.container),Object.assign(n[X],r.avatar)}},{key:"applyCustomStyles",value:function(e,n,r,o){var u,f,h,p;if((u=r[le])!=null&&u.styles&&l.applyCustomStylesToElements(e,n,r[le].styles),o===qe)(f=r.user)!=null&&f.styles&&l.applyCustomStylesToElements(e,n,r.user.styles);else{(h=r.ai)!=null&&h.styles&&l.applyCustomStylesToElements(e,n,r.ai.styles);var g=(p=r[o])==null?void 0:p.styles;g&&l.applyCustomStylesToElements(e,n,g)}}}])})(Fb),$T=(function(i){function l(t){var e;return z(this,l),e=ce(this,l,["name"]),e._names=t,e}return fe(l,i),P(l,[{key:"addBesideBubble",value:function(e,n){var r=typeof this._names=="boolean"?{}:this._names,o=this.createName(n,r),u=l.getPosition(n,r);o[B].add(u===wi?"start-item-position":"end-item-position"),e.insertAdjacentElement(u===wi?"beforebegin":"afterend",o)}},{key:"createName",value:function(e,n){var r=se();return r[B].add(this.className),r.textContent=l.getNameText(e,n),l.applyStyle(r,e,n),r}}],[{key:"getPosition",value:function(e,n){var r,o,u,f=Ct.processPosition((r=n?.[e])==null?void 0:r.position);return e!==qe&&(f??(f=(o=n?.[vt])==null?void 0:o.position)),f??(f=(u=n?.[le])==null?void 0:u.position),f??(f=e===qe?mb:wi),f}},{key:"applyStyle",value:function(e,n,r){var o,u,f,h;Object.assign(e[X],(o=r[le])==null?void 0:o[X]),n===qe?Object.assign(e[X],(u=r[qe])==null?void 0:u[X]):(Object.assign(e[X],(f=r[vt])==null?void 0:f[X]),Object.assign(e[X],(h=r[n])==null?void 0:h[X]))}},{key:"getNameText",value:function(e,n){var r,o,u,f,h,p;return e===qe?((r=n[qe])==null?void 0:r[w])||((o=n[le])==null?void 0:o[w])||"User":e===vt?((u=n[vt])==null?void 0:u[w])||((f=n[le])==null?void 0:f[w])||"AI":((h=n[e])==null?void 0:h[w])||((p=n[le])==null?void 0:p[w])||e}}])})(Fb),ec=(function(){function i(l){var t=this;z(this,i);var e,n,r,o;this.messageElementRefs=[],this.htmlClassUtilities={},this.messageToElements=[],this.maxVisibleMessages=4e3,this.autoScrollAllowed=!0,this.elementRef=i.createContainerElement(),this.messageStyles=Ct.processMessageStyles(l.messageStyles),this._remarkable=jh.createNew(l.remarkable),this._applyHTMLToRemarkable=(e=l.remarkable)==null?void 0:e.applyHTML,l.avatars&&(this.avatar=new XT(l.avatars)),l.names&&(this.name=new $T(l.names)),l.browserStorage&&(this.browserStorage=new JT(l.browserStorage)),this._onMessage=fr.onMessage.bind(this,l),l.htmlClassUtilities&&(this.htmlClassUtilities=l.htmlClassUtilities),(l.hiddenMessages||l.scrollButton)&&(this.scrollButton=new YT(this,l.hiddenMessages,l.scrollButton)),this.focusMode=Ct.processFocusMode(l.focusMode),this.focusMode||(this._lastGroupMessagesElement=se(),this.elementRef.appendChild(this._lastGroupMessagesElement),l.upwardsMode&&(this.elementRef=this._lastGroupMessagesElement)),typeof this.focusMode!="boolean"&&(n=this.focusMode)!=null&&n.fade&&jb.setFade(this.elementRef,this.focusMode.fade),this._customWrappers=l.htmlWrappers||Ct.processStreamHTMLWrappers((r=l.connect)==null?void 0:r.stream),typeof this.focusMode!="boolean"&&((o=this.focusMode)==null?void 0:o.streamAutoScroll)===!1&&(this.autoScrollAllowed=!1),l.maxVisibleMessages&&(this.maxVisibleMessages=l.maxVisibleMessages),setTimeout(function(){t.submitUserMessage=l.submitUserMessage})}return P(i,[{key:"addNewTextMessage",value:function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n!=null&&n.status){var o=this.overwriteText(e,t,this.messageElementRefs);if(o)return o;n.status=!1}var u=r?this.createAndPrependNewMessageElement(t,e,r):this.createAndAppendNewMessageElement(t,e);return u.bubbleElement[B].add(i.TEXT_BUBBLE_CLASS),this.applyCustomStyles(u,e,!1),bt.fillEmptyMessageElement(u.bubbleElement,t),u}},{key:"overwriteText",value:function(t,e,n){var r=bt.overwriteMessage(this.messageToElements,n,e,t,"text",i.TEXT_BUBBLE_CLASS);return r&&this.renderText(r.bubbleElement,e,t),r}},{key:"createAndAppendNewMessageElement",value:function(t,e){var n=this.createNewMessageElement(t,e);return this.appendOuterContainerElemet(n.outerContainer,this.focusMode?e:void 0),n}},{key:"createNewGroupElementFocusMode",value:function(){var t;(t=this._lastGroupMessagesElement)==null||t[B].remove(i.LAST_GROUP_MESSAGES_ACTIVE);var e=se();(this.messageToElements.length>1||this.messageToElements.length===1&&this.messageToElements[0][0].role!==qe)&&e[B].add(i.LAST_GROUP_MESSAGES_ACTIVE),this._lastGroupMessagesElement=e}},{key:"appendOuterContainerElemet",value:function(t,e){var n;this.focusMode&&(e===qe||!this._lastGroupMessagesElement)&&this.createNewGroupElementFocusMode(),(n=this._lastGroupMessagesElement)==null||n.appendChild(t),this._lastGroupMessagesElement&&(this.focusMode||!this.elementRef.contains(this._lastGroupMessagesElement))&&this.elementRef.appendChild(this._lastGroupMessagesElement)}},{key:"createAndPrependNewMessageElement",value:function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o,u=this.createNewMessageElement(t,e,n,r);if(n&&(o=this.elementRef.firstChild)!=null&&o[B].contains(i.INTRO_CLASS)){this.elementRef.firstChild.insertAdjacentElement("afterend",u.outerContainer);var f=this.messageElementRefs[0];this.messageElementRefs[0]=this.messageElementRefs[1],this.messageElementRefs[1]=f}else this.elementRef.insertBefore(u.outerContainer,this.elementRef.firstChild);return u}},{key:"createMessageElementsOnOrientation",value:function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return n?this.createAndPrependNewMessageElement(t,e,n,r):this.createNewMessageElement(t,e,n,r)}},{key:"getNumberOfContentMessages",value:function(){var t,e,n=this.messageElementRefs.length;return(e=(t=this.messageElementRefs[n-1])==null?void 0:t.bubbleElement)!=null&&e[B].contains(ki.BUBBLE_CLASS)?n-1:n}},{key:"createNewMessageElement",value:function(t,e){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u;!o&&this.getNumberOfContentMessages()>=this.maxVisibleMessages&&setTimeout(function(){return n.removeFirstMessage()}),o||(u=this._introPanel)==null||u.hide();var f=this.messageElementRefs[this.messageElementRefs.length-1];return ar.changeFullViewToSmall(this),!r&&i.isTemporaryElement(f)&&(this.revealRoleElementsIfTempRemoved(f,e),this.removeLastMessage()),this.createMessageElements(t,e,r)}},{key:"revealRoleElementsIfTempRemoved",value:function(t,e){if((this.avatar||this.name)&&ms.isElementTemporary(t)){var n=this.messageElementRefs[this.messageElementRefs.length-2];n&&this.messageToElements.length>0&&!t.bubbleElement[B].contains(bt.getRoleClass(e))&&bt.revealRoleElements(n.innerContainer,this.avatar,this.name)}}},{key:"createElements",value:function(t,e){var n=i.createBaseElements(e),r=n.outerContainer,o=n.innerContainer,u=n.bubbleElement;return r.appendChild(o),this.addInnerContainerElements(u,t,e),n}},{key:"createMessageElements",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=this.createElements(t,e);return bt.updateRefArr(this.messageElementRefs,r,n),bt.classifyRoleMessages(this.messageElementRefs,e),r}},{key:"addInnerContainerElements",value:function(t,e,n){var r=this.messageElementRefs[this.messageElementRefs.length-1];return bt.areOuterContainerClassRolesSame(n,r)&&!this.isLastMessageError()&&bt.hideRoleElements(r.innerContainer,this.avatar,this.name),t[B].add("message-bubble",bt.getRoleClass(n),n===qe?"user-message-text":"ai-message-text"),this.renderText(t,e,n),bt.addRoleElements(t,n,this.avatar,this.name),{bubbleElement:t}}},{key:"applyCustomStyles",value:function(t,e,n,r){t&&this.messageStyles&&Qu.applyCustomStyles(this.messageStyles,t,e,n,r)}},{key:"removeMessage",value:function(t){t.outerContainer.remove();var e=this.messageElementRefs.findIndex(function(n){return n===t});this.messageElementRefs.splice(e,1)}},{key:"removeFirstMessage",value:function(){this.messageElementRefs[0].outerContainer.remove(),this.messageElementRefs.shift()}},{key:"removeLastMessage",value:function(){this.messageElementRefs[this.messageElementRefs.length-1].outerContainer.remove(),this.messageElementRefs.pop()}},{key:"isLastMessageError",value:function(){var t;return(t=bt.getLastMessageBubbleElement(this.elementRef))==null?void 0:t[B].contains(oc)}},{key:"sendClientUpdate",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;(n=this._onMessage)==null||n.call(this,t,e)}},{key:"renderText",value:function(t,e,n){var r=sn.tryAddWrapper(t,e,this._customWrappers,n),o=r.contentEl,u=r.wrapper;u&&sn.apply(this,t),o.innerHTML=this._remarkable.render(e),this._applyHTMLToRemarkable&&sn.apply(this,o),o.innerText.trim().length===0&&o.children.length>0&&o.children[0].tagName!=="P"&&(o.innerText=e)}},{key:"refreshTextMessages",value:function(t){var e=this;this._remarkable=jh.createNew(t),this.messageToElements.forEach(function(n){n[1][w]&&n[0][w]&&e.renderText(n[1][w].bubbleElement,n[0][w],n[0].role)})}},{key:"getFirstMessageContentEl",value:function(){var t=this.messageToElements[this.messageToElements.length-1][1],e=t.text,n=t.html,r=t.files;return e||n||r?.[0]}},{key:"scrollToFirstElement",value:function(t,e){var n;if(t===qe){var r=typeof this.focusMode!="boolean"&&((n=this.focusMode)==null?void 0:n.smoothScroll);Ke.scrollToBottom(this,r)}else if(e&&this.autoScrollAllowed){var o=this.getFirstMessageContentEl();Ke.scrollToBottom(this,!1,o?.outerContainer)}}}],[{key:"createContainerElement",value:function(){var t=se();return t.id=pb,t}},{key:"isTemporaryElement",value:function(t){return i.isLoadingMessage(t)||ms.isElementTemporary(t)}},{key:"createBaseElements",value:function(t){var e=se(),n=se();n[B].add("inner-message-container"),e.appendChild(n),e[B].add("outer-message-container"),e[B].add(bt.buildRoleOuterContainerClass(t));var r=se();return r[B].add("message-bubble"),n.appendChild(r),{outerContainer:e,innerContainer:n,bubbleElement:r}}},{key:"createMessageContent",value:function(t){var e=t.text,n=t.files,r=t.html,o=t.custom,u=t._sessionId,f=t.role,h={role:f||vt};return e&&(h[w]=e),n&&(h[H]=n),r&&(h[Me]=r),!e&&!n&&!r&&(h[w]=""),o&&(h.custom=o),u&&(h._sessionId=u),h}},{key:"isLoadingMessage",value:function(t){return t?.bubbleElement[B].contains(ki.BUBBLE_CLASS)}}])})();ec.TEXT_BUBBLE_CLASS="text-message",ec.INTRO_CLASS="deep-chat-intro",ec.LAST_GROUP_MESSAGES_ACTIVE="deep-chat-last-group-messages-active";var _a=ec,bt=(function(){function i(){z(this,i)}return P(i,null,[{key:"getLastElementsByClass",value:function(t,e,n){for(var r=function(){var h=t[u];if(h.bubbleElement[B].contains(e[0])&&!e.slice(1).find(function(p){return!h.bubbleElement[B].contains(p)}))if(n){if(!n.find(function(p){return h.bubbleElement[B].contains(p)}))return{v:h}}else return{v:h}},o,u=t.length-1;u>=0;u-=1)if(o=r(),o)return o.v}},{key:"getLastMessage",value:function(t,e,n){for(var r=t.length-1;r>=0;r-=1)if(t[r][0].role===e)if(n){if(t[r][0][n])return t[r][0]}else return t[r][0]}},{key:"getLastTextToElement",value:function(t,e){for(var n=t.length-1;n>=0;n-=1)if(t[n][0]===e)return t[n]}},{key:"overwriteMessage",value:function(t,e,n,r,o,u){var f=i.getLastElementsByClass(e,[i.getRoleClass(r),u],[ki.BUBBLE_CLASS]),h=i.getLastMessage(t,r,o);return h&&(h[o]=n),f}},{key:"getRoleClass",value:function(t){return"".concat(t,"-message")}},{key:"fillEmptyMessageElement",value:function(t,e){e.trim().length===0&&(t[B].add(Cy),t.innerHTML='<div style="color:#00000000">.</div>')}},{key:"unfillEmptyMessageElement",value:function(t,e){t[B].contains(Cy)&&e.trim().length>0&&t.replaceChildren()}},{key:"getLastMessageBubbleElement",value:function(t){var e,n,r;return Array.from(((r=(n=(e=i.getLastMessageElement(t))==null?void 0:e.children)==null?void 0:n[0])==null?void 0:r.children)||[]).find(function(o){return o[B].contains("message-bubble")})}},{key:"getLastMessageElement",value:function(t){var e,n=(e=t.children[t.children.length-1])==null?void 0:e.children;return n?.[n.length-1]}},{key:"addRoleElements",value:function(t,e,n,r){n?.addBesideBubble(t,e),r?.addBesideBubble(t,e)}},{key:"hideRoleElements",value:function(t,e,n){e?.tryHide(t),n?.tryHide(t)}},{key:"revealRoleElements",value:function(t,e,n){e?.tryReveal(t),n?.tryReveal(t)}},{key:"softRemRoleElements",value:function(t,e,n){e?.trySoftRem(t),n?.trySoftRem(t)}},{key:"updateRefArr",value:function(t,e,n){n?t.unshift(e):t.push(e)}},{key:"buildRoleOuterContainerClass",value:function(t){return"".concat(Uu).concat(t)}},{key:"addNewPositionClasses",value:function(t,e){var n;t.outerContainer[B].remove(vh,wy,gh),(n=t.outerContainer[B]).add.apply(n,tr(e))}},{key:"getNumberOfElements",value:function(t){var e=0;return t[w]!==void 0&&(e+=1),t[Me]!==void 0&&(e+=1),t[H]&&(e+=t[H].length),e}},{key:"filterdMessageElements",value:function(t,e){return t.filter(function(n){return n.bubbleElement[B].contains(e)})}},{key:"findMessageElements",value:function(t,e){return t.find(function(n){return n.bubbleElement[B].contains(e)})}},{key:"generateMessageBodyElements",value:function(t,e){var n={};return t[w]&&(n[w]=i.findMessageElements(e,_a.TEXT_BUBBLE_CLASS)),t[Me]&&(n[Me]=i.findMessageElements(e,Ti.HTML_BUBBLE_CLASS)),t[H]&&(n[H]=i.filterdMessageElements(e,hb)),n}},{key:"generateMessageBody",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=i.getNumberOfElements(t),o=n?e.slice(0,r):e.slice(e.length-r);return i.generateMessageBodyElements(t,o)}},{key:"classifyRoleMessages",value:function(t,e){for(var n=e?i.buildRoleOuterContainerClass(e):void 0,r=t.length-1;r>=0;r-=1)if(e||(n=Array.from(t[r].outerContainer[B]).find(function(y){return y.startsWith(Uu)})),!!n){var o=t[r],u=o.outerContainer[B].contains(n),f=t[r-1],h=t[r+1],p=f?.outerContainer[B].contains(n),g=h?.outerContainer[B].contains(n);if(u)!p&&g?i.addNewPositionClasses(o,[vh]):p&&g?i.addNewPositionClasses(o,[wy]):p&&!g?i.addNewPositionClasses(o,[gh]):!p&&!g&&i.addNewPositionClasses(o,[vh,gh]);else if(e)break}}},{key:"areOuterContainerClassRolesSame",value:function(t,e){return e?Array.from(e.outerContainer[B]).find(function(n){return n.startsWith(Uu)})===i.buildRoleOuterContainerClass(t):!1}},{key:"resetAllRoleElements",value:function(t,e,n){if(!(!e&&!n)){var r="";t.forEach(function(o,u){o.bubbleElement[B].contains(oc)||i.revealRoleElements(o.innerContainer,e,n);var f=Array.from(o.outerContainer[B]).find(function(h){return h.startsWith(Uu)});r===f&&i.hideRoleElements(t[u-1].innerContainer,e,n),r=f})}}},{key:"deepCloneMessagesWithReferences",value:function(t){return t.map(function(e){return i.processMessageContent(e)})}},{key:"processMessageContent",value:function(t){if(t==null||ie(t)!==Ue)return t;if(Array.isArray(t))return t.map(function(n){return i.processMessageContent(n)});var e={};return Object.entries(t).forEach(function(n){var r=sr(n,2),o=r[0],u=r[1];o==="ref"&&u instanceof File||o==="custom"?e[o]=u:u!==null&&ie(u)===Ue?e[o]=i.processMessageContent(u):e[o]=u}),e}}])})(),qh=(function(){function i(l,t){z(this,i),this._fileAdded=!1,this._streamType="",this._hasStreamEnded=!1,this._partialContent="",this._messages=l,ie(t)=="object"&&(this._partialRender=t.partialRender)}return P(i,[{key:"upsertStreamedMessage",value:function(t){if(!this._hasStreamEnded){if(t?.[w]===void 0&&t?.[Me]===void 0)return console[O](gb);var e=t?.[w]||t?.[Me]||"",n=Ke.isScrollbarAtBottomOfElement(this._messages.elementRef),r=t?.[w]!==void 0?w:Me;if(!this._elements&&!this._message)this.setInitialState(r,e,t?.role);else{if(this._streamType!==r)return console[O](n3);t!=null&&t.role&&t?.role!==this._activeMessageRole?(this.finaliseStreamedMessage(!1),this.setInitialState(r,e,t?.role)):this.updateBasedOnType(e,r,t?.overwrite)}t!=null&&t._sessionId&&(this._sessionId=t?._sessionId),t!=null&&t.custom&&this._message&&(this._message.custom=t.custom),n&&Ke.scrollToBottom(this._messages)}}},{key:"setInitialState",value:function(t,e,n){var r,o,u;this._streamType=t,this._targetWrapper=void 0,this._fileAdded=!1,this._partialContent="",this._partialBubble=void 0,n??(n=vt);var f=((r=this._messages._customWrappers)==null?void 0:r[n])||((o=this._messages._customWrappers)==null?void 0:o[le]),h=f?"":e;this._elements=t===w?this._messages.addNewTextMessage(h,n):Ti.add(this._messages,h,n),this._elements&&(this._elements.bubbleElement[B].add(i.MESSAGE_CLASS),this._activeMessageRole=n,this._message=C({role:this._activeMessageRole},t,h),this._messages.messageToElements.push([this._message,C({},t,this._elements)]),f&&this.setTargetWrapperIfNeeded(this._elements,e,this._streamType,f),(u=this._messages.scrollButton)==null||u.updateHidden())}},{key:"setTargetWrapperIfNeeded",value:function(t,e,n,r){t.bubbleElement.innerHTML=r,this._targetWrapper=sn.getTargetWrapper(t.bubbleElement),this._elements&&sn.apply(this._messages,this._elements.bubbleElement),this.updateBasedOnType(e,n)}},{key:"updateBasedOnType",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r,o=this._targetWrapper||((r=this._elements)==null?void 0:r.bubbleElement);this._partialRender||bt.unfillEmptyMessageElement(o,t),(e===w?this.updateText:this.updateHTML).bind(this)(t,o,n)}},{key:"updateText",value:function(t,e,n){this._message&&(this._message[w]=n?t:this._message[w]+t,this._partialRender&&this.isNewPartialRenderParagraph(e,n)&&this.partialRenderNewParagraph(e),this._partialBubble?this.updatePartialRenderBubble(t):this._messages.renderText(e,this._message[w]))}},{key:"containsPartialRenderMark",value:function(t){var e=t.indexOf(i.PARTIAL_RENDER_MARK);return e===-1?!1:!t.substring(e+i.PARTIAL_RENDER_MARK.length).startsWith("---")}},{key:"isNewPartialRenderParagraph",value:function(t,e){var n;if(e)return t.innerHTML="",!0;var r=this._streamType;if(!this._partialBubble){var o=(n=this._message)==null?void 0:n[r];return!!o&&this.containsPartialRenderMark(o)}return!!this._partialContent&&this.containsPartialRenderMark(this._partialContent)}},{key:"partialRenderNewParagraph",value:function(t){this._partialContent="",this._partialBubble=se(),this._partialBubble[B].add("partial-render-message"),t.appendChild(this._partialBubble)}},{key:"updatePartialRenderBubble",value:function(t){this._partialContent+=t,this._streamType===w?this._messages.renderText(this._partialBubble,this._partialContent):this._partialBubble.innerHTML=this._partialContent}},{key:"updateHTML",value:function(t,e,n){if(this._message)if(this._message[Me]=n?t:(this._message[Me]||"")+t,this._partialRender&&this.isNewPartialRenderParagraph(e,n)&&this.partialRenderNewParagraph(e),this._partialBubble)this.updatePartialRenderBubble(t);else if(n)e.innerHTML=t;else{var r=se("span");r.innerHTML=t,e.appendChild(r)}}},{key:"finaliseStreamedMessage",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e,n;if(!(this._endStreamAfterOperation||!this._message)&&!(this._fileAdded&&!this._elements)){if(!this._elements)throw Error(a3);(e=this._elements.bubbleElement)!=null&&e[B].contains(i.MESSAGE_CLASS)&&(this._streamType===w?this._messages.textToSpeech&&Zu.speak(this._message[w]||"",this._messages.textToSpeech):this._streamType===Me&&this._elements&&sn.apply(this._messages,this._elements.outerContainer),this._elements.bubbleElement[B].remove(i.MESSAGE_CLASS),this._message&&(this._sessionId&&(this._message._sessionId=this._sessionId),this._messages.sendClientUpdate(_a.createMessageContent(this._message),!1),(n=this._messages.browserStorage)==null||n.addMessages(this._messages.messageToElements.map(function(r){var o=sr(r,1),u=o[0];return u}))),this._hasStreamEnded=t)}}},{key:"markFileAdded",value:function(){this._fileAdded=!0}},{key:"endStreamAfterFileDownloaded",value:(function(){var l=I(k().m(function e(n,r){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:return this._endStreamAfterOperation=!0,h.n=1,r();case 1:o=h.v,u=o.text,f=o.files,u&&this.updateBasedOnType(u,w,!0),this._endStreamAfterOperation=!1,this.finaliseStreamedMessage(),f&&n.addNewMessage(C({},H,f));case 2:return h.a(2)}},e,this)}));function t(e,n){return l.apply(this,arguments)}return t})()}])})();qh.MESSAGE_CLASS="streamed-message",qh.PARTIAL_RENDER_MARK=`

`;var Ka=qh,Be=(function(){function i(){z(this,i)}return P(i,null,[{key:"tempRemoveContentHeader",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.p=p.n){case 0:if(n!=null&&n.headers){p.n=1;break}throw new Error(gn);case 1:return u=n.headers[Pe],delete n.headers[Pe],p.p=2,p.n=3,r(o);case 3:f=p.v,p.n=5;break;case 4:throw p.p=4,h=p.v,n.headers[Pe]=u,h;case 5:return p.a(2,(n.headers[Pe]=u,f))}},e,null,[[2,4]])}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"displayError",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Service error, please try again.";if(console[O](e),ie(e)===Ue)return e instanceof Error?t.addNewErrorMessage(St,e.message):Array.isArray(e)||typeof e[O]=="string"?t.addNewErrorMessage(St,e):Object.keys(e).length===0?t.addNewErrorMessage(St,n):t.addNewErrorMessage(St,JSON.stringify(e));t.addNewErrorMessage(St,e)}},{key:"fetch",value:(function(l){function t(e,n,r,o){return l.apply(this,arguments)}return t.toString=function(){return l.toString()},t})(function(l,t,e,n){var r,o,u={method:((r=l.connectSettings)==null?void 0:r.method)||Vt,headers:t};return u.method!==Ot&&(u.body=e?JSON.stringify(n):n),l.connectSettings.credentials&&(u.credentials=l.connectSettings.credentials),fetch(((o=l.connectSettings)==null?void 0:o.url)||l.url||"",u)})},{key:"processResponseByType",value:function(t){var e=t.headers.get("content-type");return e!=null&&e.includes(ht)?t.json():e!=null&&e.includes("text/plain")||!e?t:t.blob()}},{key:"processRequestInterceptor",value:(function(){var l=I(k().m(function e(n,r){var o,u,f,h,p;return k().w(function(g){for(;;)switch(g.n){case 0:return g.n=1,(o=n.requestInterceptor)==null?void 0:o.call(n,r);case 1:if(p=g.v,p){g.n=2;break}p=r;case 2:return u=p,f=u,h=u,g.a(2,{body:f.body,headers:f.headers,error:h[O]})}},e)}));function t(e,n){return l.apply(this,arguments)}return t})()},{key:"validateResponseFormat",value:function(t,e){if(!t)return!1;var n=Array.isArray(t)?t:[t];return e&&n.length>1?(console[O](vb),!1):!n.find(function(r){return ie(r)!="object"||!(typeof r[O]=="string"||typeof r[w]=="string"||typeof r[Me]=="string"||Array.isArray(r[H]))})}},{key:"onInterceptorError",value:function(t,e,n){t.addNewErrorMessage(St,e),n?.()}},{key:"basicResponseProcessing",value:(function(){var l=I(k().m(function e(n,r){var o,u,f,h,p,g,y,b,E,S,A=arguments,R;return k().w(function(L){for(;;)switch(L.n){case 0:if(o=A.length>2&&A[2]!==void 0?A[2]:{},u=o.io,f=o.displayError,h=f===void 0?!0:f,p=o.useRI,g=p===void 0?!0:p,u!=null&&u.extractResultData){L.n=1;break}return L.a(2,r);case 1:return y=g?u.deepChat.responseInterceptor:void 0,L.n=2,y?.(r);case 2:if(R=L.v,R){L.n=3;break}R=r;case 3:return b=R,L.n=4,u.extractResultData(b);case 4:if(E=L.v,!(!E||ie(E)!="object"&&!Array.isArray(E))){L.n=5;break}return h&&(S=hs(r,"response",!!y,b),i.displayError(n,S)),L.a(2);case 5:return L.a(2,E)}},e)}));function t(e,n){return l.apply(this,arguments)}return t})()}])})();function ZT(i,l){return Gh.apply(this,arguments)}function Gh(){return Gh=I(k().m(function i(l,t){var e,n;return k().w(function(r){for(;;)switch(r.n){case 0:e=l.getReader();case 1:return r.n=2,e.read();case 2:if((n=r.v).done){r.n=4;break}t(n.value);case 3:r.n=1;break;case 4:return r.a(2)}},i)})),Gh.apply(this,arguments)}function QT(i){var l,t,e,n=!1;return function(r){l===void 0?(l=r,t=0,e=-1):l=eA(l,r);for(var o=l.length,u=0;t<o;){n&&(l[t]===10&&(u=++t),n=!1);for(var f=-1;t<o&&f===-1;++t)switch(l[t]){case 58:e===-1&&(e=t-u);break;case 13:n=!0;case 10:f=t;break}if(f===-1)break;i(l.subarray(u,f),e),u=t,e=-1}u===o?l=void 0:u!==0&&(l=l.subarray(u),t-=u)}}function WT(i,l,t){var e=qy(),n=new TextDecoder;return function(r,o){if(r.length===0)t?.(e),e=qy();else if(o>0){var u=n.decode(r.subarray(0,o)),f=o+(r[o+1]===32?2:1),h=n.decode(r.subarray(f));switch(u){case"data":e.data=e.data?e.data+`
`+h:h;break;case"event":e.event=h;break;case"id":i(e.id=h);break;case"retry":var p=parseInt(h,10);isNaN(p)||l(e.retry=p);break}}}}function eA(i,l){var t=new Uint8Array(i.length+l.length);return t.set(i),t.set(l,i.length),t}function qy(){return{data:"",event:"",id:"",retry:void 0}}var tA=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e},Vh="text/event-stream",nA=1e3,Gy="last-event-id";function aA(i,l){var t=l.signal,e=l.headers,n=l.onopen,r=l.onmessage,o=l.onclose,u=l.onerror,f=l.openWhenHidden,h=l.fetch,p=tA(l,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise(function(g,y){var b=Object.assign({},e);b.accept||(b.accept=Vh);var E;function S(){E.abort(),document.hidden||ne()}f||document.addEventListener("visibilitychange",S);var A=nA,R=0;function L(){document.removeEventListener("visibilitychange",S),window.clearTimeout(R),E.abort()}t?.addEventListener("abort",function(){L(),g()});var K=h??window.fetch,F=n??iA;function ne(){return J.apply(this,arguments)}function J(){return J=I(k().m(function $(){var oe,ye,be,he;return k().w(function(M){for(;;)switch(M.p=M.n){case 0:return E=new AbortController,M.p=1,M.n=2,K(i,Object.assign(Object.assign({},p),{headers:b,signal:E.signal}));case 2:return ye=M.v,M.n=3,F(ye);case 3:return M.n=4,ZT(ye.body,QT(WT(function(ue){ue?b[Gy]=ue:delete b[Gy]},function(ue){A=ue},r)));case 4:o?.(),L(),g(),M.n=6;break;case 5:if(M.p=5,he=M.v,!E.signal.aborted)try{be=(oe=u?.(he))!==null&&oe!==void 0?oe:A,window.clearTimeout(R),R=window.setTimeout(ne,be)}catch(ue){L(),y(ue)}case 6:return M.a(2)}},$,null,[[1,5]])})),J.apply(this,arguments)}ne()})}function iA(i){var l=i.headers.get("content-type");if(!(l!=null&&l.startsWith(Vh)))throw new Error("Expected content-type to be ".concat(Vh,", Actual: ").concat(l))}var Lt=(function(){function i(){z(this,i)}return P(i,null,[{key:"request",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h,p,g,y,b,E,S,A,R,L,K,F,ne=arguments;return k().w(function(J){for(;;)switch(J.n){case 0:return u=ne.length>3&&ne[3]!==void 0?ne[3]:!0,f=ne.length>4&&ne[4]!==void 0?ne[4]:!1,E={body:r,headers:(h=n.connectSettings)==null?void 0:h.headers},J.n=1,Be.processRequestInterceptor(n.deepChat,E);case 1:if(S=J.v,A=S.body,R=S.headers,L=S.error,!L){J.n=2;break}return J.a(2,Be.onInterceptorError(o,L,n.streamHandlers.onClose));case 2:if(!((p=n.connectSettings)!=null&&p.handler)){J.n=3;break}return J.a(2,Em.stream(n,A,o));case 3:if(((g=n.connectSettings)==null?void 0:g.url)!==$a.URL){J.n=4;break}return J.a(2,$a.requestStream(o,n));case 4:return K=new Ka(o,n.stream),F={method:((y=n.connectSettings)==null?void 0:y.method)||Vt,headers:R,credentials:(b=n.connectSettings)==null?void 0:b.credentials,body:u?JSON.stringify(A):A},J.a(2,(ie(n.stream)=="object"&&n.stream.readable?i.handleReadableStream(n,o,K,F,f,A):i.handleEventStream(n,o,K,F,f,A),K))}},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"handleReadableStream",value:function(t,e,n,r,o,u){var f,h=t.streamHandlers,p=h.onOpen,g=h.onClose,y=!1;fetch(((f=t.connectSettings)==null?void 0:f.url)||t.url||"",r).then((function(){var b=I(k().m(function E(S){var A,R,L,K,F,ne,J,$,oe,ye,be,he;return k().w(function(M){for(;;)switch(M.n){case 0:if(S.body){M.n=1;break}throw new Error(i3);case 1:L=S.body.getReader(),K=new TextDecoder,p(),F=!1;case 2:if(!(!F&&!y)){M.n=8;break}return M.n=3,L.read();case 3:if(ne=M.v,J=ne.value,$=ne.done,F=$,!F){M.n=4;break}i.handleClose(t,n,g,o),M.n=7;break;case 4:return oe=K.decode(J,{stream:!0}),M.n=5,(R=(A=t.deepChat).responseInterceptor)==null?void 0:R.call(A,oe);case 5:if(he=M.v,he){M.n=6;break}he=oe;case 6:ye=he,be=ie(ye)=="object"?ye:C({},w,oe),i.handleMessage(t,e,n,be,u);case 7:M.n=2;break;case 8:return M.a(2)}},E)}));return function(E){return b.apply(this,arguments)}})()).catch(function(b){i.handleError(t,e,b)}),t.streamHandlers.onAbort=function(){n.finaliseStreamedMessage(),t.streamHandlers.onClose(),y=!0}}},{key:"handleEventStream",value:function(t,e,n,r,o,u){var f,h=t.streamHandlers,p=h.onOpen,g=h.onClose,y=new AbortController;t.streamHandlers.onAbort=function(){n.finaliseStreamedMessage(),t.streamHandlers.onClose(),y.abort()},aA(((f=t.connectSettings)==null?void 0:f.url)||t.url||"",ze(ze({},r),{},{openWhenHidden:!0,onopen:function(E){return I(k().m(function S(){return k().w(function(A){for(;;)switch(A.n){case 0:if(!E.ok){A.n=1;break}return A.a(2,p());case 1:return A.n=2,Be.processResponseByType(E);case 2:throw A.v;case 3:return A.a(2)}},S)}))()},onmessage:function(E){return I(k().m(function S(){var A,R,L,K,F;return k().w(function(ne){for(;;)switch(ne.n){case 0:if(JSON.stringify(E.data)===JSON.stringify("[DONE]")){ne.n=3;break}try{L=JSON.parse(E.data)}catch{L={}}return ne.n=1,(R=(A=t.deepChat).responseInterceptor)==null?void 0:R.call(A,L);case 1:if(F=ne.v,F){ne.n=2;break}F=L;case 2:K=F,i.handleMessage(t,e,n,K,u);case 3:return ne.a(2)}},S)}))()},onerror:function(E){throw g(),E},onclose:function(){i.handleClose(t,n,g,o)},signal:y.signal})).catch(function(b){i.handleError(t,e,b)})}},{key:"handleMessage",value:function(t,e,n,r,o){var u;(u=t.extractResultData)==null||u.call(t,r,o).then(function(f){i.upsertContent(e,n.upsertStreamedMessage.bind(n),n,f),e.removeError()}).catch(function(f){e.isLastMessageError()||Be.displayError(e,f)})}},{key:"handleError",value:function(t,e,n){var r;e.isLastMessageError()||(r=t.extractResultData)==null||r.call(t,n).then(function(){Be.displayError(e,n)}).catch(function(o){Be.displayError(e,o)})}},{key:"handleClose",value:function(t,e,n,r){if(t.asyncCallInProgress){t.asyncCallInProgress=!1;return}try{e.finaliseStreamedMessage(),n()}catch(o){if(!r)throw o}}},{key:"simulate",value:(function(){var l=I(k().m(function e(n,r,o,u){var f,h,p,g,y;return k().w(function(b){for(;;)switch(b.n){case 0:return b.n=1,Be.basicResponseProcessing(n,o,{io:u,useRI:!1});case 1:if(b.v){b.n=2;break}return b.a(2,r.onClose());case 2:if(Array.isArray(o)&&(o=o[0]),o[Me]&&(r.onOpen(),f=sn.splitHTML(o[Me]),f.length===0&&(f=o[Me].split("")),h=new Ka(n,u?.stream),i.populateMessages(n,f,h,r,Me,0,u)),!o[H]){b.n=4;break}return b.n=3,Be.basicResponseProcessing(n,C({},H,o[H]),{io:u});case 3:p=b.v,n.addNewMessage(ze({sendUpdate:!1},p)),!o[Me]&&!o[w]&&(new Ka(n,u?.stream).finaliseStreamedMessage(),r.onClose());case 4:o[w]&&(r.onOpen(),g=o[w].split(""),y=new Ka(n,u?.stream),i.populateMessages(n,g,y,r,w,0,u)),o[O]&&(Be.displayError(n,o[O]),r.onClose()),r.onAbort=function(){r.onClose()};case 5:return b.a(2)}},e)}));function t(e,n,r,o){return l.apply(this,arguments)}return t})()},{key:"populateMessages",value:(function(){var l=I(k().m(function e(n,r,o,u,f,h,p){var g,y,b,E;return k().w(function(S){for(;;)switch(S.p=S.n){case 0:if(g=r[h],!g){S.n=5;break}return S.p=1,S.n=2,Be.basicResponseProcessing(n,C({},f,g),{io:p});case 2:y=S.v,i.upsertContent(n,o.upsertStreamedMessage.bind(o),o,y),n.removeError(),S.n=4;break;case 3:S.p=3,E=S.v,n.isLastMessageError()||Be.displayError(n,E);case 4:b=setTimeout(function(){i.populateMessages(n,r,o,u,f,h+1,p)},u.simulationInterim||6),u.onAbort=function(){i.abort(b,o,u.onClose)},S.n=6;break;case 5:o.finaliseStreamedMessage(),u.onClose();case 6:return S.a(2)}},e,null,[[1,3]])}));function t(e,n,r,o,u,f,h){return l.apply(this,arguments)}return t})()},{key:"isSimulation",value:function(t){return ie(t)=="object"&&!!t.simulation}},{key:"isSimulatable",value:function(t,e){return i.isSimulation(t)&&e&&(e[w]||e[Me])}},{key:"abort",value:function(t,e,n){clearTimeout(t),e.finaliseStreamedMessage(),n()}},{key:"upsertContent",value:function(t,e,n,r){if(r&&Array.isArray(r)&&(r=r[0]),r!=null&&r[w]||r!=null&&r[Me]){var o=e(r);n??(n=o||void 0)}if(r!=null&&r[H]&&(t.addNewMessage(C({},H,r[H])),n?.markFileAdded()),r!=null&&r[O])throw r[O]}}])})(),qb=(function(){function i(){z(this,i)}return P(i,null,[{key:"generateResponse",value:function(t){var e=t[t.length-1][0];if(e[H]&&e[H].length>0){if(e[H].length>1)return"These are interesting files!";var n=e[H][0];return n[de]&&n[de].startsWith("data:image/gif")?"That is a nice gif!":n.type===Ye?"That is a nice image!":n.type===De?"I like the sound of that!":"That is an interesting file!"}if(e[w]){if(e[w].charAt(e[w].length-1)==="?")return"I'm sorry but I can't answer that question...";if(e[w].includes("updog"))return"What's updog?"}return"Hi there! This is a demo response!"}},{key:"getCustomResponse",value:function(t,e){return typeof t=="function"?t(e):t}},{key:"getResponse",value:function(t){var e=t.customDemoResponse,n=t.messageToElements;return e?i.getCustomResponse(e,n[n.length-1][0]):C({},w,i.generateResponse(n))}},{key:"request",value:function(t,e){var n=i.getResponse(e);setTimeout(I(k().m(function r(){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:return h.n=1,Be.basicResponseProcessing(e,n,{io:t});case 1:if(o=h.v,o){h.n=2;break}return h.a(2,t.completionsHandlers.onFinish());case 2:u=Array.isArray(o)?o:[o],f=u.find(function(p){return typeof p[O]=="string"}),f?(e.addNewErrorMessage(St,f[O]),t.completionsHandlers.onFinish()):Lt.isSimulatable(t.stream,o)?Lt.simulate(e,t.streamHandlers,o):(u.forEach(function(p){return e.addNewMessage(p)}),t.completionsHandlers.onFinish());case 3:return h.a(2)}},r)})),400)}},{key:"requestStream",value:function(t,e){setTimeout(function(){var n=i.getResponse(t);Lt.simulate(t,e.streamHandlers,n,e)},400)}}])})();qb.URL="deep-chat-demo";var $a=qb,co=(function(){function i(){z(this,i)}return P(i,null,[{key:"setup",value:function(t){t.permittedErrorPrefixes=["Connection error","Error in server message"],t.websocket="pending"}},{key:"isElementPresentInDOM",value:function(t){return t.getRootNode({composed:!0})instanceof Document}},{key:"createConnection",value:function(t,e){if(i.isElementPresentInDOM(t.deepChat)){var n=t.connectSettings.websocket;if(n){if(t.connectSettings.handler)return Em.websocket(t,e);try{var r=typeof n!="boolean"?n:void 0,o=new WebSocket(t.connectSettings.url||"",r);t.websocket=o,t.websocket.onopen=function(){var u,f;e.removeError(),t.websocket&&ie(t.websocket)===Ue&&i.assignListeners(t,o,e),(f=(u=t.deepChat)._validationHandler)==null||f.call(u)},t.websocket.onerror=function(u){console[O](u),i.retryConnection(t,e)}}catch(u){console[O](u),i.retryConnection(t,e)}}}}},{key:"retryConnection",value:function(t,e){var n,r;(r=(n=t.deepChat)._validationHandler)==null||r.call(n),i.isElementPresentInDOM(t.deepChat)&&(t.websocket="pending",e.isLastMessageError()||e.addNewErrorMessage(St,"Connection error"),setTimeout(function(){i.createConnection(t,e)},5e3))}},{key:"assignListeners",value:function(t,e,n){var r=this,o={};e.onmessage=(function(){var u=I(k().m(function f(h){var p,g,y,b,E,S,A;return k().w(function(R){for(;;)switch(R.p=R.n){case 0:if(!t.extractResultData){R.n=8;break}return R.p=1,p=JSON.parse(h.data),R.n=2,Be.basicResponseProcessing(n,p,{io:t,displayError:!1});case 2:if(g=R.v,g){R.n=3;break}throw Error(hs(p,"server",!!t.deepChat.responseInterceptor,g));case 3:if(!Lt.isSimulation(t.stream)){R.n=4;break}y=i.stream.bind(r,t,n,o),b=o[p.role||vt],Lt.upsertContent(n,y,b,g),R.n=6;break;case 4:if(E=Array.isArray(g)?g:[g],S=E.find(function(L){return typeof L[O]=="string"}),!S){R.n=5;break}throw S[O];case 5:E.forEach(function(L){return n.addNewMessage(L)});case 6:R.n=8;break;case 7:R.p=7,A=R.v,Be.displayError(n,A,"Error in server message");case 8:return R.a(2)}},f,null,[[1,7]])}));return function(f){return u.apply(this,arguments)}})(),e.onclose=function(){var u,f;console[O]("Connection closed"),n.isLastMessageError()||n.addNewErrorMessage(St,"Connection error"),t.stream&&((f=(u=t.streamHandlers).onAbort)==null||f.call(u)),i.createConnection(t,n)}}},{key:"sendWebsocket",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h,p,g,y,b,E,S,A=arguments;return k().w(function(R){for(;;)switch(R.n){case 0:if(u=A.length>3&&A[3]!==void 0?A[3]:!0,((f=n.connectSettings)==null?void 0:f.url)!==$a.URL){R.n=1;break}return R.a(2,$a.request(n,o));case 1:if(p=n.websocket,!(!p||p==="pending")){R.n=2;break}return R.a(2);case 2:return g={body:r,headers:(h=n.connectSettings)==null?void 0:h.headers},R.n=3,Be.processRequestInterceptor(n.deepChat,g);case 3:if(y=R.v,b=y.body,E=y.error,!E){R.n=4;break}return R.a(2,o.addNewErrorMessage(St,E));case 4:if(i.isWebSocket(p)){R.n=5;break}return R.a(2,p.newUserMessage.listener(b));case 5:S=u?JSON.stringify(b):b,p.readyState===void 0||p.readyState!==p.OPEN?(console[O]("Connection is not open"),o.isLastMessageError()||o.addNewErrorMessage(St,"Connection error")):(p.send(JSON.stringify(S)),n.completionsHandlers.onFinish());case 6:return R.a(2)}},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"canSendMessage",value:function(t){return t?t==="pending"?!1:i.isWebSocket(t)?t.readyState!==void 0&&t.readyState===t.OPEN:t.isOpen:!0}},{key:"isWebSocket",value:function(t){return t.send!==void 0}},{key:"stream",value:function(t,e,n,r){if(r){var o=t.stream.simulation;if(typeof o=="string"){var u,f=r.role||vt,h=n[f];r[w]===o||r[Me]===o?(h?.finaliseStreamedMessage(),delete n[f]):((u=n[f])!==null&&u!==void 0||(n[f]=new Ka(e,t.stream)),n[f].upsertStreamedMessage(r))}else Lt.simulate(e,t.streamHandlers,r)}}}])})(),Em=(function(){function i(){z(this,i)}return P(i,null,[{key:"request",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:h=!0,p=(function(){var b=I(k().m(function E(S){var A,R,L;return k().w(function(K){for(;;)switch(K.n){case 0:if(h){K.n=1;break}return K.a(2);case 1:return h=!1,K.n=2,Be.basicResponseProcessing(o,S,{io:n,displayError:!1});case 2:A=K.v,A?(R=Array.isArray(A)?A:[A],L=R.find(function(F){return typeof F[O]=="string"}),L?(console[O](L[O]),o.addNewErrorMessage(St,L[O]),n.completionsHandlers.onFinish()):Lt.isSimulatable(n.stream,A)?Lt.simulate(o,n.streamHandlers,A):(R.forEach(function(F){return o.addNewMessage(F)}),n.completionsHandlers.onFinish())):(console[O](hs(S,"server",!!n.deepChat.responseInterceptor,A)),o.addNewErrorMessage(St,"Error in server message"),n.completionsHandlers.onFinish());case 3:return K.a(2)}},E)}));return function(S){return b.apply(this,arguments)}})(),g=i.generateOptionalSignals(),(f=(u=n.connectSettings).handler)==null||f.call(u,r,ze(ze({},g),{},{onResponse:p}));case 1:return y.a(2)}},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"attemptToFinaliseStream",value:function(t,e){try{var n=e.messageElementRefs[e.messageElementRefs.length-1];_a.isLoadingMessage(n)?e.removeLastMessage():t.finaliseStreamedMessage()}catch(r){console[O](r),e.addNewErrorMessage(St,r)}}},{key:"stream",value:function(t,e,n){var r,o,u=!0,f=!1,h=new Ka(n,t.stream),p=function(){f||!u||(t.streamHandlers.onOpen(),f=!0)},g=function(){u&&(i.attemptToFinaliseStream(h,n),t.streamHandlers.onClose(),u=!1)},y=(function(){var E=I(k().m(function S(A){var R,L;return k().w(function(K){for(;;)switch(K.n){case 0:if(u){K.n=1;break}return K.a(2);case 1:return K.n=2,Be.basicResponseProcessing(n,A,{io:t,displayError:!1});case 2:R=K.v,R?R[O]?(i.streamError(R[O],h,t,n),u=!1):Lt.upsertContent(n,h.upsertStreamedMessage.bind(h),h,R):(L=hs(A,"server",!!t.deepChat.responseInterceptor,R),i.streamError(L,h,t,n),u=!1);case 3:return K.a(2)}},S)}));return function(A){return E.apply(this,arguments)}})();t.streamHandlers.onAbort=function(){i.attemptToFinaliseStream(h,n),t.streamHandlers.onClose(),u=!1};var b=i.generateOptionalSignals();(o=(r=t.connectSettings).handler)==null||o.call(r,e,ze(ze({},b),{},{onOpen:p,onResponse:y,onClose:g,stopClicked:t.streamHandlers.stopClicked}))}},{key:"streamError",value:function(t,e,n,r){console[O](t),e.finaliseStreamedMessage(),r.addNewErrorMessage(St,t),n.streamHandlers.onClose()}},{key:"websocket",value:function(t,e){var n=this,r,o,u={isOpen:!1,newUserMessage:{listener:function(){}},roleToStream:{}};t.websocket=u;var f=function(){e.removeError(),u.isOpen=!0},h=function(){u.isOpen=!1},p=(function(){var y=I(k().m(function b(E){var S,A,R,L,K,F;return k().w(function(ne){for(;;)switch(ne.n){case 0:return ne.n=1,Be.basicResponseProcessing(e,E,{io:t,displayError:!1});case 1:S=ne.v,S?(A=Array.isArray(S)?S:[S],R=A.find(function(J){return typeof J[O]=="string"}),R?(console[O](R[O]),e.isLastMessageError()||e.addNewErrorMessage(St,R[O])):Lt.isSimulation(t.stream)?(L=S,K=co.stream.bind(n,t,e,u.roleToStream),F=u.roleToStream[L.role||vt],Lt.upsertContent(e,K,F,L)):A.forEach(function(J){return e.addNewMessage(J)})):(console[O](hs(E,"server",!!t.deepChat.responseInterceptor,S)),e.addNewErrorMessage(St,"Error in server message"));case 2:return ne.a(2)}},b)}));return function(E){return y.apply(this,arguments)}})(),g=i.generateOptionalSignals();(o=(r=t.connectSettings).handler)==null||o.call(r,void 0,ze(ze({},g),{},{onOpen:f,onResponse:p,onClose:h,newUserMessage:u.newUserMessage}))}},{key:"generateOptionalSignals",value:function(){return{onClose:function(){},onOpen:function(){},stopClicked:{listener:function(){}},newUserMessage:{listener:function(){}}}}}])})(),$t=(function(){function i(){z(this,i)}return P(i,null,[{key:"request",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h,p,g,y,b,E,S,A,R,L=arguments;return k().w(function(K){for(;;)switch(K.n){case 0:return u=L.length>3&&L[3]!==void 0?L[3]:!0,g={body:r,headers:(f=n.connectSettings)==null?void 0:f.headers},K.n=1,Be.processRequestInterceptor(n.deepChat,g);case 1:if(y=K.v,b=y.body,E=y.headers,S=y.error,A=n.completionsHandlers.onFinish,!S){K.n=2;break}return K.a(2,Be.onInterceptorError(o,S,A));case 2:if(!((h=n.connectSettings)!=null&&h.handler)){K.n=3;break}return K.a(2,Em.request(n,b,o));case 3:if(((p=n.connectSettings)==null?void 0:p.url)!==$a.URL){K.n=4;break}return K.a(2,$a.request(n,o));case 4:R=!0,Be.fetch(n,E,u,b).then(function(F){return R=!!F.ok,F}).then(function(F){return Be.processResponseByType(F)}).then((function(){var F=I(k().m(function ne(J){var $,oe,ye,be,he;return k().w(function(M){for(;;)switch(M.n){case 0:if(n.extractResultData){M.n=1;break}return M.a(2);case 1:return M.n=2,(oe=($=n.deepChat).responseInterceptor)==null?void 0:oe.call($,J);case 2:if(he=M.v,he){M.n=3;break}he=J;case 3:return ye=he,M.n=4,n.extractResultData(ye,b);case 4:if(be=M.v,R){M.n=5;break}throw J;case 5:if(!(!be||ie(be)!==Ue&&!Array.isArray(be))){M.n=6;break}throw Error(hs(J,"response",!!n.deepChat.responseInterceptor,ye));case 6:if(!be[O]){M.n=7;break}throw be[O];case 7:if(!n.asyncCallInProgress){M.n=8;break}return n.asyncCallInProgress=!1,M.a(2);case 8:Lt.isSimulatable(n.stream,be)?Lt.simulate(o,n.streamHandlers,be):((Array.isArray(be)?be:[be]).forEach(function(ue){return o.addNewMessage(ue)}),A());case 9:return M.a(2)}},ne)}));return function(ne){return F.apply(this,arguments)}})()).catch(function(F){Be.displayError(o,F),A()});case 5:return K.a(2)}},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"executePollRequest",value:function(t,e,n,r){var o=t.completionsHandlers.onFinish;fetch(e,n).then(function(u){return u.json()}).then((function(){var u=I(k().m(function f(h){var p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(t.extractPollResultData){S.n=1;break}return S.a(2);case 1:return b=t,S.n=2,(g=(p=t.deepChat).responseInterceptor)==null?void 0:g.call(p,h);case 2:if(E=S.v,E){S.n=3;break}E=h;case 3:return S.n=4,b.extractPollResultData.call(b,E);case 4:y=S.v,y.timeoutMS?setTimeout(function(){i.executePollRequest(t,e,n,r)},y.timeoutMS):Lt.isSimulatable(t.stream,y)?Lt.simulate(r,t.streamHandlers,y):(r.addNewMessage(y),o());case 5:return S.a(2)}},f)}));return function(f){return u.apply(this,arguments)}})()).catch(function(u){Be.displayError(r,u),o()})}},{key:"poll",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h,p,g,y,b,E,S,A,R,L,K,F=arguments;return k().w(function(ne){for(;;)switch(ne.n){case 0:return u=F.length>3&&F[3]!==void 0?F[3]:!0,g={body:r,headers:(f=n.connectSettings)==null?void 0:f.headers},ne.n=1,Be.processRequestInterceptor(n.deepChat,g);case 1:if(y=ne.v,b=y.body,E=y.headers,S=y.error,!S){ne.n=2;break}return ne.a(2,Be.onInterceptorError(o,S));case 2:A=((h=n.connectSettings)==null?void 0:h.url)||n.url||"",R=((p=n.connectSettings)==null?void 0:p.method)||Vt,L=u?JSON.stringify(b):b,K={method:R,body:L,headers:E},n.connectSettings.credentials&&(K.credentials=n.connectSettings.credentials),i.executePollRequest(n,A,K,o);case 3:return ne.a(2)}},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"verifyKey",value:function(t,e,n,r,o,u,f,h,p){if(t==="")return u(xt);f(),fetch(e,{method:r,headers:n,body:p||null}).then(function(g){return Be.processResponseByType(g)}).then(function(g){h(g,t,o,u)}).catch(function(g){u(qn),console[O](g)})}}])})(),km=(function(){function i(){z(this,i)}return P(i,null,[{key:"getCharacterLimitMessages",value:function(t,e){var n;if(e===-1)return t;var r=0,o=t.length-1;for(o;o>=0;o-=1){var u=(n=t[o])==null?void 0:n[w];if(u!==void 0&&(r+=u.length,r>e)){t[o][w]=u.substring(0,u.length-(r-e));break}}return t.slice(Math.max(o,0))}},{key:"getMaxMessages",value:function(t,e){return t.slice(Math.max(t.length-e,0))}},{key:"processMessages",value:function(t,e,n){return e!==void 0?e>0&&(t=i.getMaxMessages(t,e)):t=[t[t.length-1]],t=JSON.parse(JSON.stringify(t)),n===void 0?t:i.getCharacterLimitMessages(t,n)}}])})(),Gb=(function(){function i(l,t,e){z(this,i),this._isLoading=!1,this._isPaginationComplete=!1,this._index=0,this._messages=t,e.fetchHistory&&this.fetchHistory(e.fetchHistory),this.setupInitialHistory(l)}return P(i,[{key:"fetchHistory",value:(function(){var l=I(k().m(function e(n){var r=this,o,u;return k().w(function(f){for(;;)switch(f.n){case 0:return o=ar.addMessage(this._messages),f.n=1,n();case 1:u=f.v,this._messages.removeMessage(o),i.displayIntroMessages(this._messages.messageElementRefs),u.forEach(function(h){return r._messages.addAnyMessage(h,!0)}),setTimeout(function(){return Ke.scrollToBottom(r._messages)},0);case 2:return f.a(2)}},e,this)}));function t(e){return l.apply(this,arguments)}return t})()},{key:"scrollToPreloadFirstEl",value:function(t,e){this._messages.elementRef.scrollTop=e+t.offsetTop-40}},{key:"processLoadedHistory",value:function(t){var e=this,n,r=this._messages,o=r.messageElementRefs,u=r.messageToElements,f=r.elementRef,h=(n=o.find(function(g){return!g.outerContainer[B].contains(_a.INTRO_CLASS)}))==null?void 0:n.outerContainer,p=f.scrollTop;t?.reverse().map(function(g){var y=e._messages.addAnyMessage(ze(ze({},g),{},{sendUpdate:!0}),!0,!0);if(y){var b=bt.generateMessageBody(y,o,!0);u.unshift([y,b])}return y}).filter(function(g){return!!g}).reverse().forEach(function(g){return e._messages.sendClientUpdate(g,!0)}),h&&(this._messages.messageElementRefs.length>=this._messages.maxVisibleMessages?setTimeout(function(){return e.scrollToPreloadFirstEl(h,p)}):this.scrollToPreloadFirstEl(h,p))}},{key:"populateMessages",value:function(t,e){this._messages.removeMessage(t),this._isPaginationComplete=e.findIndex(function(h){return!h})<0;var n=e.filter(function(h){return!!h});this.processLoadedHistory(n);var r=this._messages,o=r.messageElementRefs,u=r.avatar,f=r.name;bt.resetAllRoleElements(o,u,f)}},{key:"loadHistoryOnScroll",value:(function(){var l=I(k().m(function e(n){var r=this;return k().w(function(o){for(;;)switch(o.n){case 0:this._messages.elementRef.onscroll=I(k().m(function u(){var f,h,p;return k().w(function(g){for(;;)switch(g.p=g.n){case 0:if(!(!r._isLoading&&!r._isPaginationComplete&&r._messages.elementRef.scrollTop===0)){g.n=4;break}return r._isLoading=!0,f=ar.addMessage(r._messages,!1),g.p=1,g.n=2,n(r._index++);case 2:h=g.v,r.populateMessages(f,h),r._isLoading=!1,g.n=4;break;case 3:g.p=3,p=g.v,r._messages.removeMessage(f),r._isPaginationComplete=!0,r._messages.addNewErrorMessage(St,i.FAILED_ERROR_MESSAGE,!0),console[O](p);case 4:return g.a(2)}},u,null,[[1,3]])}));case 1:return o.a(2)}},e,this)}));function t(e){return l.apply(this,arguments)}return t})()},{key:"populateInitialHistory",value:function(t){var e=this;t.forEach(function(n){Ct.processHistoryFile(n),e._messages.addAnyMessage(n,!0)})}},{key:"loadInitialHistory",value:(function(){var l=I(k().m(function e(n){var r,o,u,f;return k().w(function(h){for(;;)switch(h.p=h.n){case 0:return this._isLoading=!0,r=ar.addMessage(this._messages),h.p=1,h.n=2,n(this._index++);case 2:o=h.v,u=this._messages.elementRef.scrollTop,this.populateMessages(r,o),this.restoreScrollOrScrollToBottom(u===0),h.n=4;break;case 3:h.p=3,f=h.v,this._messages.removeMessage(r),this._isPaginationComplete=!0,this._messages.addNewErrorMessage(St,i.FAILED_ERROR_MESSAGE,!0),console[O](f);case 4:i.displayIntroMessages(this._messages.messageElementRefs),this._isLoading=!1;case 5:return h.a(2)}},e,this,[[1,3]])}));function t(e){return l.apply(this,arguments)}return t})()},{key:"setupInitialHistory",value:(function(){var l=I(k().m(function e(n){var r,o,u;return k().w(function(f){for(;;)switch(f.n){case 0:n.loadHistory&&this.loadInitialHistory(n.loadHistory),o=(r=this._messages.browserStorage)==null?void 0:r.get(),u=n.history||Ct.processHistory(n)||o?.messages,u&&(this.populateInitialHistory(u),this.restoreScrollOrScrollToBottom(!0),this._index+=1);case 1:return f.a(2)}},e,this)}));function t(e){return l.apply(this,arguments)}return t})()},{key:"restoreScrollOrScrollToBottom",value:function(t){var e=this,n,r,o,u=(r=(n=this._messages.browserStorage)==null?void 0:n.get())==null?void 0:r.scrollHeight;u!==void 0&&(o=this._messages.browserStorage)!=null&&o.trackScrollHeight?setTimeout(function(){e._messages.elementRef.scrollTop=u},0):t&&setTimeout(function(){return Ke.scrollToBottom(e._messages)},0)}}],[{key:"addErrorPrefix",value:function(t){var e;(e=t.permittedErrorPrefixes)!==null&&e!==void 0||(t.permittedErrorPrefixes=[]),t.permittedErrorPrefixes.push(i.FAILED_ERROR_MESSAGE)}},{key:"displayIntroMessages",value:function(t){for(var e=0;e<t.length;e+=1){var n=t[0];if(n.outerContainer[B].contains(_a.INTRO_CLASS))n.outerContainer[X].display="";else break}}}])})();Gb.FAILED_ERROR_MESSAGE="Failed to load history";var Cm=Gb,rA=(function(){function i(){z(this,i)}return P(i,null,[{key:"parseConfig",value:function(t,e,n){var r,o={files:t};if(ie(n)=="object"){Ct.processFileConfigConnect(n);var u=n.files,f=n.connect,h=n.button;u&&(u.infoModal&&(o[H].infoModal=u.infoModal,(r=u.infoModal)!=null&&r.textMarkDown&&(o.infoModalTextMarkUp=e.render(u.infoModal.textMarkDown))),u.acceptedFormats&&(o[H].acceptedFormats=u.acceptedFormats),u.maxNumberOfFiles&&(o[H].maxNumberOfFiles=u.maxNumberOfFiles)),o.button=h,f&&Object.keys(f).length>0&&(o.connect=f)}return o}},{key:"processMixedFiles",value:function(t,e,n){if(n){var r={acceptedFormats:""};t.fileTypes.mixedFiles=i.parseConfig(r,e,n)}}},{key:"processMicrophone",value:function(t,e,n,r){var o,u,f,h,p,g,y,b,E=ze({acceptedFormats:"audio/*"},((f=t.fileTypes[De])==null?void 0:f[H])||{});n&&(navigator.mediaDevices.getUserMedia!==void 0?(t.recordAudio=i.parseConfig(E,e,n),ie(n)=="object"&&n[H]&&((o=(h=t.recordAudio)[H])!==null&&o!==void 0||(h[H]={}),t.recordAudio[H].format=(p=n[H])==null?void 0:p.format,t.recordAudio[H].maxDurationSeconds=(g=n[H])==null?void 0:g.maxDurationSeconds,(y=t.fileTypes[De])!=null&&y[H]&&((u=(b=t.fileTypes[De][H]).maxNumberOfFiles)!==null&&u!==void 0||(b.maxNumberOfFiles=n[H].maxNumberOfFiles)))):r||(t.fileTypes[De]=i.parseConfig(E,e,n)))}},{key:"processAudioConfig",value:function(t,e,n,r){if(!(!n&&!r)){var o=ze({acceptedFormats:"audio/*"},r?.[H]||{});t.fileTypes[De]=i.parseConfig(o,e,n)}}},{key:"processGifConfig",value:function(t,e,n,r){if(!(!n&&!r)){var o=ze({acceptedFormats:"image/gif"},r?.[H]||{});t.fileTypes[ds]=i.parseConfig(o,e,n)}}},{key:"processCamera",value:function(t,e,n,r){var o,u,f,h,p,g=ze({acceptedFormats:"image/*"},((u=t.fileTypes[ot])==null?void 0:u[H])||{});n&&(navigator.mediaDevices.getUserMedia!==void 0?(t[vn]=i.parseConfig(g,e,n),ie(n)=="object"&&(t[vn].modalContainerStyle=n.modalContainerStyle,n[H]&&((o=(f=t[vn])[H])!==null&&o!==void 0||(f[H]={}),t[vn][H].format=(h=n[H])==null?void 0:h.format,t[vn][H].dimensions=(p=n[H])==null?void 0:p.dimensions))):r||(t.fileTypes[ot]=i.parseConfig(g,e,n)))}},{key:"processImagesConfig",value:function(t,e,n,r){if(!(!n&&!r)){var o=ze({acceptedFormats:"image/*"},r?.[H]||{});t.fileTypes[ot]=i.parseConfig(o,e,n)}}},{key:"populateDefaultFileIO",value:function(t,e){var n,r,o,u,f;t&&((n=t[H])!==null&&n!==void 0||(t[H]={}),(r=(u=t[H]).acceptedFormats)!==null&&r!==void 0||(u.acceptedFormats=e),(o=(f=t[H]).maxNumberOfFiles)!==null&&o!==void 0||(f.maxNumberOfFiles=1))}},{key:"set",value:function(t,e,n){i.populateDefaultFileIO(n?.[De],".4a,.mp3,.webm,.mp4,.mpga,.wav,.mpeg,.m4a"),i.populateDefaultFileIO(n?.[ot],".png,.jpg");var r=jh.createNew(t.remarkable);i.processImagesConfig(e,r,t[ot],n?.[ot]),i.processCamera(e,r,t[vn],t[ot]),i.processGifConfig(e,r,t[ds],n?.[ds]),i.processAudioConfig(e,r,t[De],n?.[De]),i.processMicrophone(e,r,t[va],t[De]),i.processMixedFiles(e,r,t[db])}}])})(),uc=(function(){function i(l,t,e){var n;z(this,i);var r,o,u,f,h;this.rawBody={},this.validateKeyProperty=!1,this.canSendMessage=i.canSendMessage,this.connectSettings={},this.fileTypes={},this.completionsHandlers={},this.streamHandlers={},this.deepChat=l,this.demo=e,Object.assign(this.rawBody,(r=l.connect)==null?void 0:r.additionalBodyProps),this.totalMessagesMaxCharLength=(o=l?.requestBodyLimits)==null?void 0:o.totalMessagesMaxCharLength,this.maxMessages=(u=l?.requestBodyLimits)==null?void 0:u.maxMessages,rA.set(l,this,t),l.connect&&(this.connectSettings=l.connect),this.demo&&((n=(f=this.connectSettings).url)!==null&&n!==void 0||(f.url=$a.URL)),this.connectSettings.websocket&&co.setup(this),this.stream=((h=this.deepChat.connect)==null?void 0:h.stream)||Ct.checkForStream(this.deepChat),l.loadHistory&&Cm.addErrorPrefix(this)}return P(i,[{key:"verifyKey",value:function(t,e){}},{key:"getServiceIOByType",value:function(t){if(t.type.startsWith(De)&&this.fileTypes[De])return this.fileTypes[De];if(t.type.startsWith(Ye)){if(this.fileTypes[ds]&&t.type.endsWith("/gif"))return this.fileTypes[ds];if(this.fileTypes[ot])return this.fileTypes[ot];if(this[vn])return this[vn]}return this.fileTypes[db]}},{key:"request",value:(function(){var l=I(k().m(function e(n,r){var o,u=arguments;return k().w(function(f){for(;;)if(f.n===0)return o=u.length>2&&u[2]!==void 0?u[2]:!0,f.a(2,this.stream&&!Lt.isSimulation(this.stream)?Lt.request(this,n,r,o):$t.request(this,n,r,o))},e,this)}));function t(e,n){return l.apply(this,arguments)}return t})()},{key:"callAPIWithText",value:(function(){var l=I(k().m(function e(n,r){var o,u,f,h,p,g,y,b;return k().w(function(E){for(;;)switch(E.n){case 0:return y=ze({messages:r},this.rawBody),b=!1,(f=this.connectSettings.headers)!=null&&f[Pe]||((o=(h=this.connectSettings).headers)!==null&&o!==void 0||(h.headers={}),(u=(p=this.connectSettings.headers)[Pe])!==null&&u!==void 0||(p[Pe]=ht),b=!0),E.n=1,this.request(y,n);case 1:b&&((g=this.connectSettings.headers)==null||delete g[Pe]);case 2:return E.a(2)}},e,this)}));function t(e,n){return l.apply(this,arguments)}return t})()},{key:"callApiWithFiles",value:(function(){var l=I(k().m(function e(n,r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:return u=i.createCustomFormDataBody(this.rawBody,r,o),f=this.connectSettings,h=this.getServiceIOByType(o[0]),this.connectSettings=h?.connect||this.connectSettings,p.n=1,this.request(u,n,!1);case 1:this.connectSettings=f;case 2:return p.a(2)}},e,this)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"callServiceAPI",value:(function(){var l=I(k().m(function e(n,r,o){return k().w(function(u){for(;;)switch(u.n){case 0:o?this.callApiWithFiles(n,r,o):this.callAPIWithText(n,r);case 1:return u.a(2)}},e,this)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"callAPI",value:(function(){var l=I(k().m(function e(n,r){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(this.connectSettings){h.n=1;break}throw new Error(gn);case 1:u=km.processMessages(r.messageToElements.map(function(p){var g=sr(p,1),y=g[0];return y}),this.maxMessages,this.totalMessagesMaxCharLength),this.connectSettings.websocket&&(!this.connectSettings.handler||this.connectSettings.url!==$a.URL)?(f=ze({messages:u},this.rawBody),n[H]&&(o=this.getServiceIOByType(n[H][0]))!=null&&o.connect?this.callApiWithFiles(r,u,n[H]):co.sendWebsocket(this,f,r,!1)):this.callServiceAPI(r,u,n[H]);case 2:return h.a(2)}},e,this)}));function t(e,n){return l.apply(this,arguments)}return t})()},{key:"extractResultData",value:(function(){var l=I(k().m(function e(n){return k().w(function(r){for(;;)switch(r.n){case 0:if(!n.result){r.n=1;break}return r.a(2,Ct.handleResponseProperty(n));case 1:if(!Be.validateResponseFormat(n,!!this.stream)){r.n=2;break}return r.a(2,n);case 2:return r.a(2)}},e,this)}));function t(e){return l.apply(this,arguments)}return t})()},{key:"isDirectConnection",value:function(){return!1}},{key:"isWebModel",value:function(){return!1}},{key:"isCustomView",value:function(){return!1}}],[{key:"canSendMessage",value:function(t,e,n){return n?!0:!!(t&&t.trim()!=="")||!!(e&&e.length>0)}},{key:"createCustomFormDataBody",value:function(t,e,n){var r=new FormData;n.forEach(function(f){return r.append("files",f)}),Object.keys(t).forEach(function(f){return r.append(f,String(t[f]))});var o=0;e.slice(0,e.length-1).forEach(function(f){r.append("message".concat(o+=1),JSON.stringify(f))});var u=e[e.length-1];return u[w]&&(delete u[H],r.append("message".concat(o+=1),JSON.stringify(u))),r}}])})(),we=(function(i){function l(t,e,n,r,o){var u;z(this,l);var f;return u=ce(this,l,[t,o]),u.insertKeyPlaceholderText="API Key",u.keyHelpUrl="",u.asyncCallInProgress=!1,u.systemMessage="",Object.assign(u.rawBody,(f=t.connect)==null?void 0:f.additionalBodyProps),u._keyVerificationDetails=e,u._buildHeadersFunc=n,r&&u.setApiKeyProperties(r),u.connectSettings=u.buildConnectSettings(u.key||"",t.connect),u}return fe(l,i),P(l,[{key:"setApiKeyProperties",value:function(e){this.key=e.key,e.validateKeyProperty&&(this.validateKeyProperty=e.validateKeyProperty)}},{key:"buildConnectSettings",value:function(e,n){var r,o=n??{};return(r=o.headers)!==null&&r!==void 0||(o.headers={}),Object.assign(o.headers,this._buildHeadersFunc(e)),o}},{key:"completeConfig",value:function(e,n){e.system_prompt&&(this.systemMessage=e.system_prompt),n&&(this.functionHandler=n),delete e.system_prompt,delete e.key,delete e.function_handler,Object.assign(this.rawBody,e)}},{key:"keyAuthenticated",value:function(e,n){this.connectSettings=this.buildConnectSettings(n,this.connectSettings),this.key=n,e()}},{key:"verifyKey",value:function(e,n){var r=this._keyVerificationDetails,o=r.url,u=r.method,f=r.handleVerificationResult,h=r.createHeaders,p=r.body,g=r.augmentUrl,y=h?.(e)||this._buildHeadersFunc(e),b=g?.(e)||o;$t.verifyKey(e,b,y,u,this.keyAuthenticated.bind(this,n.onSuccess),n.onFail,n.onLoad,f,p)}},{key:"isDirectConnection",value:function(){return!0}},{key:"processMessages",value:function(e){return km.getCharacterLimitMessages(e,this.totalMessagesMaxCharLength?this.totalMessagesMaxCharLength-this.systemMessage.length:-1)}},{key:"addSystemMessage",value:function(e){this.systemMessage&&e.unshift({role:"system",content:this.systemMessage})}},{key:"callDirectServiceServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u,f,h){var p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(this.connectSettings){y.n=1;break}throw new Error(gn);case 1:if(p=u(this.rawBody,o),g=f?this.stream:!1,!(g&&(ie(g)!==Ue||!g.simulation)||p.stream)){y.n=2;break}p.stream=!0,f!=null&&f.readable&&(this.stream={readable:!0}),Lt.request(this,p,r),y.n=4;break;case 2:return y.n=3,$t.request(this,p,r,h);case 3:return y.a(2,y.v);case 4:return y.a(2)}},n,this)}));function e(n,r,o,u,f){return t.apply(this,arguments)}return e})()},{key:"callToolFunction",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b;return k().w(function(E){for(;;)switch(E.n){case 0:return this.asyncCallInProgress=!0,E.n=1,r(o);case 1:if(h=E.v,Array.isArray(h)){E.n=6;break}if(!h[w]){E.n=5;break}return p=C({},w,h[w]),E.n=2,(f=(u=this.deepChat).responseInterceptor)==null?void 0:f.call(u,p);case 2:if(y=E.v,y){E.n=3;break}y=p;case 3:if(g=y,!Array.isArray(g)){E.n=4;break}throw Error("Function tool response interceptor cannot return an array");case 4:return E.a(2,{processedResponse:g});case 5:throw Error(ur);case 6:return E.n=7,Promise.all(h);case 7:return b=E.v,E.a(2,{responses:b})}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"makeAnotherRequest",value:function(e,n,r){try{return n&&(this.stream?Lt.request(this,e,n):$t.request(this,e,n)),C({},w,r||"")}catch(o){throw this.asyncCallInProgress=!1,o}}},{key:"genereteAPIKeyName",value:function(e){return"".concat(e," API Key")}},{key:"extractStreamResultWToolsGeneric",value:(function(){var t=I(k().m(function n(r,o,u,f,h){var p,g,y;return k().w(function(b){for(;;)switch(b.n){case 0:if(p=o.delta,g=o.finish_reason,g!=="tool_calls"){b.n=1;break}return y={tool_calls:r._streamToolCalls},b.a(2,(r._streamToolCalls=void 0,this.handleToolsGeneric(y,u,r.messages,f,h)));case 1:p!=null&&p.tool_calls&&(r._streamToolCalls?p.tool_calls.forEach(function(E,S){r._streamToolCalls&&(r._streamToolCalls[S].function.arguments+=E.function.arguments)}):r._streamToolCalls=p.tool_calls);case 2:return b.a(2,C({},w,p?.content||""))}},n,this)}));function e(n,r,o,u,f){return t.apply(this,arguments)}return e})()},{key:"handleToolsGeneric",value:(function(){var t=I(k().m(function n(r,o,u,f,h){var p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(!(!r.tool_calls||!f||!o)){S.n=1;break}throw Error(Ri);case 1:return p=JSON.parse(JSON.stringify(f)),g=r.tool_calls.map(function(A){return{name:A.function.name,arguments:A.function.arguments}}),S.n=2,this.callToolFunction(o,g);case 2:if(y=S.v,b=y.responses,E=y.processedResponse,!E){S.n=3;break}return S.a(2,E);case 3:if(h&&(p.messages=p.messages.slice(p.messages.length-1),h.message&&p.messages.unshift({role:"system",content:h.message})),p.messages.push({tool_calls:r.tool_calls,role:ka,content:null}),!(!b.find(function(A){var R=A.response;return typeof R!="string"})&&g.length===b.length)){S.n=4;break}return S.a(2,(b.forEach(function(A,R){var L,K=(L=r.tool_calls)==null?void 0:L[R];p?.messages.push({role:"tool",tool_call_id:K?.id,name:K?.function.name,content:A.response})}),this.makeAnotherRequest(p,u)));case 4:throw Error(ur);case 5:return S.a(2)}},n,this)}));function e(n,r,o,u,f){return t.apply(this,arguments)}return e})()},{key:"updateSessionId",value:function(e){this.messages&&this.messages.messageToElements.length>0&&(this.messages.messageToElements[this.messages.messageToElements.length-1][0]._sessionId=e)}}],[{key:"getRoleViaUser",value:function(e){return e===qe?qe:ka}},{key:"getRoleViaAI",value:function(e){return e===vt?ka:qe}},{key:"getImageContent",value:function(e){return e.filter(function(n){return n.type===Ye}).map(function(n){return C(C({},ke,wn),wn,{url:n[de]||""})}).filter(function(n){return n[wn].url.length>0})}},{key:"getTextWImagesContent",value:function(e){if(e[H]&&e[H].length>0){var n=this.getImageContent(e[H]);return e[w]&&e[w].trim().length>0&&n.unshift(C(C({},ke,w),w,e[w])),n.length>0?n:e[w]||""}return e[w]||""}},{key:"getTextWFilesContent",value:function(e,n){if(e[H]&&e[H].length>0){var r=n(e[H]);return e[w]&&e[w].trim().length>0&&r.unshift(C(C({},ke,w),w,e[w])),r}return e[w]||""}}])})(uc),sA=(function(){function i(){z(this,i)}return P(i,null,[{key:"waitForPropertiesToBeUpdatedBeforeRender",value:function(t){t._propUpdated_=!1,setTimeout(function(){t._propUpdated_?i.waitForPropertiesToBeUpdatedBeforeRender(t):(t._waitingToRender_=!1,t.onRender())})}},{key:"attemptRender",value:function(t){t._propUpdated_=!0,t._waitingToRender_||(t._waitingToRender_=!0,i.waitForPropertiesToBeUpdatedBeforeRender(t))}}])})(),Kh=(function(i){function l(){var t;return z(this,l),t=ce(this,l),t._waitingToRender_=!1,t._propUpdated_=!1,Object.keys(l._attributeToProperty_).forEach(function(e){var n=l._attributeToProperty_[e];t.constructPropertyAccessors(n),t.hasOwnProperty(e)||t.constructPropertyAccessors(n,e)}),t}return fe(l,i),P(l,[{key:"constructPropertyAccessors",value:function(e,n){var r;Object.defineProperty(this,n||e,{get:function(){return r},set:function(u){r=u,n?this[e]=u:sA.attemptRender(this)}})}},{key:"attributeChangedCallback",value:function(e,n,r){if(n!==r){var o=l._attributes_[e](r),u=l._attributeToProperty_[e];this[u]=o}}},{key:"onRender",value:function(){}}],[{key:"observedAttributes",get:function(){return Object.keys(l._attributes_)||[]}}])})(Ih(HTMLElement));Kh._attributes_={},Kh._attributeToProperty_={};var lA=Kh,oA=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path d="
			M669.727,273.516c-22.891-2.476-46.15-3.895-69.727-4.248c-103.025,0.457-209.823,25.517-310.913,73.536
			c-75.058,37.122-148.173,89.529-211.67,154.174C46.232,529.978,6.431,577.76,0,628.74c0.76,44.162,48.153,98.67,77.417,131.764
			c59.543,62.106,130.754,113.013,211.67,154.174c2.75,1.335,5.51,2.654,8.276,3.955l-75.072,131.102l102.005,60.286l551.416-960.033
			l-98.186-60.008L669.727,273.516z M902.563,338.995l-74.927,129.857c34.47,44.782,54.932,100.006,54.932,159.888
			c0,149.257-126.522,270.264-282.642,270.264c-6.749,0-13.29-0.728-19.922-1.172l-49.585,85.84c22.868,2.449,45.99,4.233,69.58,4.541
			c103.123-0.463,209.861-25.812,310.84-73.535c75.058-37.122,148.246-89.529,211.743-154.174
			c31.186-32.999,70.985-80.782,77.417-131.764c-0.76-44.161-48.153-98.669-77.417-131.763
			c-59.543-62.106-130.827-113.013-211.743-154.175C908.108,341.478,905.312,340.287,902.563,338.995L902.563,338.995z
			M599.927,358.478c6.846,0,13.638,0.274,20.361,0.732l-58.081,100.561c-81.514,16.526-142.676,85.88-142.676,168.897
			c0,20.854,3.841,40.819,10.913,59.325c0.008,0.021-0.008,0.053,0,0.074l-58.228,100.854
			c-34.551-44.823-54.932-100.229-54.932-160.182C317.285,479.484,443.808,358.477,599.927,358.478L599.927,358.478z M768.896,570.513
			L638.013,797.271c81.076-16.837,141.797-85.875,141.797-168.603C779.81,608.194,775.724,588.729,768.896,570.513L768.896,570.513z"
			/>
</svg>
`,uA=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path id="path6686" inkscape:connector-curvature="0" d="M779.843,599.925c0,95.331-80.664,172.612-180.169,172.612
			c-99.504,0-180.168-77.281-180.168-172.612c0-95.332,80.664-172.612,180.168-172.612
			C699.179,427.312,779.843,504.594,779.843,599.925z M600,240.521c-103.025,0.457-209.814,25.538-310.904,73.557
			c-75.058,37.122-148.206,89.496-211.702,154.141C46.208,501.218,6.431,549,0,599.981c0.76,44.161,48.13,98.669,77.394,131.763
			c59.543,62.106,130.786,113.018,211.702,154.179c94.271,45.751,198.616,72.092,310.904,73.557
			c103.123-0.464,209.888-25.834,310.866-73.557c75.058-37.122,148.243-89.534,211.74-154.179
			c31.185-32.999,70.962-80.782,77.394-131.763c-0.76-44.161-48.13-98.671-77.394-131.764
			c-59.543-62.106-130.824-112.979-211.74-154.141C816.644,268.36,712.042,242.2,600,240.521z M599.924,329.769
			c156.119,0,282.675,120.994,282.675,270.251c0,149.256-126.556,270.25-282.675,270.25S317.249,749.275,317.249,600.02
			C317.249,450.763,443.805,329.769,599.924,329.769L599.924,329.769z"/>
</svg>
`,Ja=(function(){function i(){z(this,i)}return P(i,null,[{key:"createSVGElement",value:function(t){return new DOMParser().parseFromString(t,"image/svg+xml").documentElement}}])})(),Vb=(function(){function i(){z(this,i)}return P(i,null,[{key:"changeVisibility",value:function(t,e,n,r){r.target.id===i.VISIBLE_ICON_ID?(e[X].display="none",n[X].display="block",t.type="password"):(e[X].display="block",n[X].display="none",t.type=w)}},{key:"createIconElement",value:function(t,e){var n=Ja.createSVGElement(t);return n.id=e,n[B].add("visibility-icon"),n}},{key:"create",value:function(t){var e=se();e.id="visibility-icon-container";var n=i.createIconElement(uA,i.VISIBLE_ICON_ID);n[X].display="none",e.appendChild(n);var r=i.createIconElement(oA,"not-visible-icon");return e.appendChild(r),e.onclick=i.changeVisibility.bind(this,t,n,r),e}}])})();Vb.VISIBLE_ICON_ID="visible-icon";var cA=Vb,fA=(function(){function i(){z(this,i)}return P(i,null,[{key:"createCautionText",value:function(){var t=se("a");return t[B].add("insert-key-input-help-text"),t.innerText="Please exercise CAUTION when inserting your API key outside of deepchat.dev or localhost!!",t}},{key:"createHelpLink",value:function(t){var e=se("a");return e[B].add("insert-key-input-help-text"),e.href=t,e.innerText="Find more info here",e.target="_blank",e}},{key:"createFailText",value:function(){var t=se();return t.id="insert-key-input-invalid-text",t[X].display="none",t}},{key:"createHelpTextContainer",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=se();n.id="insert-key-help-text-container";var r=se();r.id="insert-key-help-text-contents";var o=i.createFailText();if(r.appendChild(o),t){var u=i.createHelpLink(t);r.appendChild(u)}if(e===!0){var f=i.createCautionText();r.appendChild(f)}return n.appendChild(r),{helpTextContainerElement:n,failTextElement:o}}},{key:"onFail",value:function(t,e,n,r){t[B].replace("insert-key-input-valid","insert-key-input-invalid"),n.innerText=r,n[X].display="block",e.innerText="Start",t[B].remove("loading")}},{key:"onLoad",value:function(t,e){t[B].add("loading"),e.innerHTML='<div id="loading-key"></div>'}},{key:"verifyKey",value:function(t,e,n){var r=t.value.trim();n.verifyKey(r,e)}},{key:"addVerificationEvents",value:function(t,e,n,r,o){var u={onSuccess:r,onFail:i.onFail.bind(this,t,e,n),onLoad:i.onLoad.bind(this,t,e)},f=i.verifyKey.bind(this,t,u,o);e.onclick=f,t.onkeydown=function(h){!t[B].contains("loading")&&h.key===Ft.ENTER&&f()}}},{key:"createStartButton",value:function(){var t=se();return t.id="start-button",t.innerText="Start",t}},{key:"onInputFocus",value:function(t){t.target[B].replace("insert-key-input-invalid","insert-key-input-valid")}},{key:"createInput",value:function(t){var e=se();e.id="insert-key-input-container";var n=se("input");return n.id="insert-key-input",n.placeholder=t||"API Key",n.type="password",n[B].add("insert-key-input-valid"),n.onfocus=i.onInputFocus,e.appendChild(n),e}},{key:"createContents",value:function(t,e){var n,r=se();r.id="insert-key-contents";var o=i.createInput(e.insertKeyPlaceholderText),u=o.children[0],f=cA.create(u);o.appendChild(f),r.appendChild(o);var h=i.createStartButton(),p=i.createHelpTextContainer(e.keyHelpUrl,(n=e.deepChat._insertKeyViewStyles)==null?void 0:n.displayCautionText),g=p.helpTextContainerElement,y=p.failTextElement;return r.appendChild(h),r.appendChild(g),i.addVerificationEvents(u,h,y,t,e),r}},{key:"createElements",value:function(t,e){var n=se();n.id="insert-key-view";var r=i.createContents(t,e);return n.appendChild(r),n}},{key:"render",value:function(t,e,n){var r=i.createElements(e,n);t.replaceChildren(r)}}])})(),Jl=(function(){function i(){z(this,i)}return P(i,null,[{key:"enableButtons",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;window.webLLM?(t&&(t.disabled=!1),e&&(e.disabled=!1)):n<wm.MODULE_SEARCH_LIMIT_S*4&&setTimeout(function(){return i.enableButtons(t,e,n+1)},250)}},{key:"setUpInitial",value:function(t,e,n,r){var o=e?.downloadClass||i.DOWNLOAD_BUTTON_CLASS,u=e?.uploadClass||i.UPLOAD_BUTTON_CLASS,f=e?.fileInputClass||i.FILE_INPUT_CLASS;return setTimeout(function(){var h=n?.getElementsByClassName(o)[0],p=n?.getElementsByClassName(f)[0],g=n?.getElementsByClassName(u)[0];h&&(h.onclick=function(){return t()}),p&&(p.onchange=function(){p[H]&&p[H].length>0&&t(p[H])}),g&&(g.onclick=function(){return p[nt]()}),(h||g)&&i.enableButtons(h,g)}),e?.initialHtml||`<div>
        Download or upload a web model that will run entirely on your browser: <br/> 
        <button disabled class="`.concat(o,` deep-chat-button deep-chat-web-model-button">Download</button>
        `).concat(r?"":'<input type="file" class="'.concat(f,`" hidden multiple />
          <button disabled class="`).concat(u,' deep-chat-button deep-chat-web-model-button">Upload</button>'),`
      </div>`)}},{key:"exportFile",value:function(t){for(var e=se("a"),n=4,r=function(f){setTimeout(function(){for(var h=f*n,p=h;p<Math.min(h+n,t.length);p+=1){var g=URL.createObjectURL(t[p]);e.href=g,e.download=t[p].name,document.body.appendChild(e),e[nt](),URL.revokeObjectURL(g)}},500*f)},o=0;o<t.length/n;o+=1)r(o)}},{key:"setUpAfterLoad",value:function(t,e,n,r){var o=e?.exportFilesClass||i.EXPORT_BUTTON_CLASS;return setTimeout(function(){var u=n?.getElementsByClassName(o)[0];u&&(u.onclick=function(){return i.exportFile(t)})}),e?.afterLoadHtml||`<div>
        Model loaded successfully and has been cached for future requests.
        `.concat(r?"":'<br/> <button style="margin-top: 5px" class="'.concat(o,' deep-chat-button">Export</button>'),`
      </div>`)}}])})();Jl.DOWNLOAD_BUTTON_CLASS="deep-chat-download-button",Jl.UPLOAD_BUTTON_CLASS="deep-chat-upload-button",Jl.FILE_INPUT_CLASS="deep-chat-file-input",Jl.EXPORT_BUTTON_CLASS="deep-chat-export-button";var Vy=Jl,Ky={model_list:[{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f32_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f32_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:9109.03,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:6749.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:4618.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-13b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-13b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-13b-chat-hf/Llama-2-13b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:11814.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-70b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-70b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-70b-chat-hf/Llama-2-70b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:43729.05,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx2k-webgpu.wasm",vram_required_MB:2972.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx2k-webgpu.wasm",vram_required_MB:3928.09,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:2041.09,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:2558.09,low_resource_required:!0},{model_url:"https://huggingface.co/mlc-ai/WizardMath-7B-V1.1-q4f16_1-MLC/resolve/main/",local_id:"WizardMath-7B-V1.1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Mistral-7B-Instruct-v0.2-q4f16_1-MLC/resolve/main/",local_id:"Mistral-7B-Instruct-v0.2-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/OpenHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"OpenHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/NeuralHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"NeuralHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f16-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f16",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f16-ctx2k-webgpu.wasm",vram_required_MB:5063.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f32-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f32",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f32-ctx2k-webgpu.wasm",vram_required_MB:5394.53,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f16_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:899.11,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f32_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:992.11,low_resource_required:!0}],use_web_worker:!0},ls=(function(i){function l(t){var e;z(this,l);var n,r;return e=ce(this,l,[t]),e._isModelLoaded=!1,e._isModelLoading=!1,e._loadOnFirstMessage=!1,e._webModel={},e.permittedErrorPrefixes=[l.MULTIPLE_MODELS_ERROR,l.WEB_LLM_NOT_FOUND_ERROR,l.GENERIC_ERROR],e._conversationHistory=[],ie(t.webModel)=="object"&&(e._webModel=t.webModel),(n=e._webModel.load)!=null&&n.clearCache&&l.clearAllCache(),e.findModelInWindow(t),e.canSendMessage=e.canSubmit.bind(vs(e)),e._chatEl=(r=t.shadowRoot)==null?void 0:r.children[0],t.history&&l.setUpHistory(e._conversationHistory,t.history),e}return fe(l,i),P(l,[{key:"setUpMessages",value:function(e){var n=this;this._messages=e,this._removeIntro=function(){e.removeIntroductoryMessage(),n._removeIntro=void 0}}},{key:"findModelInWindow",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o;window.webLLM?this.configureInit(this.shouldAddIntroMessage(e.introMessage)):r>l.MODULE_SEARCH_LIMIT_S?((o=this._messages)==null||o.addNewErrorMessage(St,l.WEB_LLM_NOT_FOUND_ERROR),console[O]("The deep-chat-web-llm module has not been attached to the window object. Please see the following guide:"),console[O]("https://deepchat.dev/examples/externalModules")):setTimeout(function(){return n.findModelInWindow(e,r+1)},1e3)}},{key:"shouldAddIntroMessage",value:function(e){var n;return!e&&this._webModel&&((n=this._webModel.introMessage)==null?void 0:n.displayed)!==!1}},{key:"scrollToTop",value:function(e){var n=this,r;((r=this._webModel.introMessage)==null?void 0:r.autoScroll)!==!1&&setTimeout(function(){var o,u;(o=n._messages)!=null&&o.elementRef&&Ke.scrollToTop((u=n._messages)==null?void 0:u.elementRef)},e)}},{key:"getIntroMessage",value:function(e){if(!(!this.shouldAddIntroMessage(e)||!this._chatEl)){var n=Vy.setUpInitial(this.init.bind(this),this._webModel.introMessage,this._chatEl,!!this._webModel.worker);return this.scrollToTop(1),{role:vt,html:n,sendUpdate:!1}}}},{key:"configureInit",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(o=this._webModel.load,!o){u.n=2;break}if(!o.onInit){u.n=1;break}return this.init(),u.a(2);case 1:if(!o.onMessage){u.n=2;break}return this._loadOnFirstMessage=!0,u.a(2);case 2:r||this.init();case 3:return u.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"init",value:(function(){var t=I(k().m(function n(r){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if((o=this._messages)==null||o.removeError(),u=this.attemptToCreateChat(),f=u,!f){h.n=1;break}return h.n=1,this.loadModel(u,r);case 1:return h.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"attemptToCreateChat",value:function(){var e;if(l.chat){(e=this._messages)==null||e.addNewErrorMessage(St,l.MULTIPLE_MODELS_ERROR),console[O](l.MULTIPLE_MODELS_ERROR);return}if(!(this._isModelLoaded||this._isModelLoading)){var n=this._webModel.worker;return Ky.use_web_worker&&n?new window.webLLM.ChatWorkerClient(n):new window.webLLM.ChatModule}}},{key:"getConfig",value:function(){var e,n=l.DEFAULT_MODEL;this._webModel.model&&(n=this._webModel.model);var r=JSON.parse(JSON.stringify(Ky));if(this._webModel.urls){var o=r.model_list.find(function(u){return u.local_id=n});o&&(this._webModel.urls.model&&(o.model_url=this._webModel.urls.model),this._webModel.urls.wasm&&(o.model_lib_url=this._webModel.urls.wasm))}return(e=this._webModel.load)!=null&&e.skipCache&&(r.use_cache=!1),{model:n,appConfig:r}}},{key:"loadModel",value:(function(){var t=I(k().m(function n(r,o){var u=this,f,h,p,g,y,b,E,S,A,R,L,K,F,ne,J,$;return k().w(function(oe){for(;;)switch(oe.p=oe.n){case 0:return this.scrollToTop(),l.chat=r,this._isModelLoading=!0,S=((f=this._webModel.introMessage)==null?void 0:f.displayed)===!1,A=function(be){var he;(he=u._messages)==null||he.addNewMessage({html:"<div>".concat(be[w],"</div>"),overwrite:!0,sendUpdate:!1}),S&&(setTimeout(function(){return Ke.scrollToBottom(u._messages)}),S=!1)},l.chat.setInitProgressCallback(A),oe.p=1,L=this.getConfig(),K=L.model,F=L.appConfig,ne={},this._webModel.instruction&&(ne.conv_config={system:this._webModel.instruction}),this._conversationHistory.length>0&&(ne.conversation_history=this._conversationHistory),oe.n=2,l.chat.reload(K,ne,F,o);case 2:R=oe.v,oe.n=4;break;case 3:return oe.p=3,$=oe.v,oe.a(2,this.unloadChat($));case 4:(p=(h=this.deepChat)._validationHandler)==null||p.call(h),(g=this._webModel.introMessage)!=null&&g.removeAfterLoad?this._webModel.introMessage.displayed===!1?(b=this._messages)==null||b.removeLastMessage():(E=this._removeIntro)==null||E.call(this):(J=Vy.setUpAfterLoad(R,this._webModel.introMessage,this._chatEl,!!this._webModel.worker),(y=this._messages)==null||y.addNewMessage({html:J,overwrite:!0,sendUpdate:!1})),this._isModelLoaded=!0,this._isModelLoading=!1;case 5:return oe.a(2)}},n,this,[[1,3]])}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"unloadChat",value:(function(){var t=I(k().m(function n(r){var o,u;return k().w(function(f){for(;;)switch(f.n){case 0:if((o=this._messages)==null||o.addNewErrorMessage(St,l.GENERIC_ERROR),console[O](r),this._isModelLoaded=!1,this._isModelLoading=!1,u=l.chat,!u){f.n=2;break}return f.n=1,l.chat.unload();case 1:l.chat=void 0;case 2:return f.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"immediateResp",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g,y;return k().w(function(b){for(;;)switch(b.n){case 0:return p=C,g={},y=w,b.n=1,u.generate(o,void 0,0);case 1:return f=p(g,y,b.v),b.n=2,l.processResponse(this.deepChat,r,f);case 2:h=b.v,h&&h.forEach(function(E){return r.addNewMessage(E)}),this.completionsHandlers.onFinish();case 3:return b.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"streamResp",value:(function(){var t=I(k().m(function n(r,o,u){var f=this,h;return k().w(function(p){for(;;)switch(p.n){case 0:return this.streamHandlers.onAbort=function(){u.interruptGenerate()},this.streamHandlers.onOpen(),h=new Ka(r),p.n=1,u.generate(o,(function(){var g=I(k().m(function y(b,E){var S;return k().w(function(A){for(;;)switch(A.n){case 0:return A.n=1,l.processResponse(f.deepChat,r,C({},w,E));case 1:S=A.v,S&&h.upsertStreamedMessage(C(C({},w,S[0][w]),"overwrite",!0));case 2:return A.a(2)}},y)}));return function(y,b){return g.apply(this,arguments)}})());case 1:h.finaliseStreamedMessage(),this.streamHandlers.onClose();case 2:return p.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"generateRespByType",value:(function(){var t=I(k().m(function n(r,o,u,f){var h,p;return k().w(function(g){for(;;)switch(g.p=g.n){case 0:if(g.p=0,!u){g.n=2;break}return g.n=1,this.streamResp(r,o,f);case 1:g.n=3;break;case 2:return g.n=3,this.immediateResp(r,o,f);case 3:g.n=5;break;case 4:g.p=4,p=g.v,(h=this._messages)==null||h.addNewErrorMessage(St),console.log(p);case 5:return g.a(2)}},n,this,[[0,4]])}));function e(n,r,o,u){return t.apply(this,arguments)}return e})()},{key:"generateResp",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:return f=o[o.length-1][w],S.n=1,Be.processRequestInterceptor(this.deepChat,{body:C({},w,f)});case 1:h=S.v,p=h.body,g=h.error,y=!!this.stream;try{g?(Be.displayError(r,new Error(g)),(y?this.streamHandlers.onClose:this.completionsHandlers.onFinish)()):!p||!p[w]?(b=e3({body:p},!1),console[O](b),E=y?this.streamHandlers.onClose:this.completionsHandlers.onFinish,Be.onInterceptorError(r,b,E)):this.generateRespByType(r,p[w],!!this.stream,u)}catch(A){this.unloadChat(A)}case 2:return S.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(this._isModelLoaded){h.n=3;break}if(!this._loadOnFirstMessage){h.n=2;break}return h.n=1,this.init();case 1:h.n=3;break;case 2:return h.a(2);case 3:!l.chat||this._isModelLoading||((u=this._webModel.introMessage)!=null&&u.removeAfterMessage&&((f=this._removeIntro)==null||f.call(this)),r.addLoadingMessage(),this.generateResp(r,o,l.chat));case 4:return h.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"canSubmit",value:function(e){return!(e!=null&&e.trim())||this._isModelLoading?!1:this._loadOnFirstMessage?!0:!!this._isModelLoaded}},{key:"isWebModel",value:function(){return!0}}],[{key:"setUpHistory",value:function(e,n){n.forEach(function(r,o){if(r.role===qe&&r[w]){var u=n[o+1];u!=null&&u[w]&&u.role!==qe&&e.push([r[w],u[w]])}})}},{key:"processResponse",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:return S.n=1,(f=r.responseInterceptor)==null?void 0:f.call(r,u);case 1:if(E=S.v,E){S.n=2;break}E=u;case 2:if(p=E,!((h=r.connect)!=null&&h.stream&&Array.isArray(p)&&p.length>1)){S.n=3;break}return console[O](vb),S.a(2);case 3:if(g=Array.isArray(p)?p:[p],y=g.find(function(A){return typeof A[O]=="string"}),!y){S.n=4;break}return Be.displayError(o,new Error(y[O])),S.a(2);case 4:if(!g.find(function(A){return!A||!A[w]})){S.n=5;break}return b=t3(u,!!r.responseInterceptor,p),Be.displayError(o,new Error(b)),S.a(2);case 5:return S.a(2,g)}},n)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"clearAllCache",value:function(){l.clearCache("webllm/model"),l.clearCache("webllm/wasm")}},{key:"clearCache",value:function(e){caches.open(e).then(function(n){n.keys().then(function(r){r.forEach(function(o){n.delete(o)})})})}}])})(uc);ls.GENERIC_ERROR="Error, please check the [troubleshooting](".concat(Qe,"webModel#troubleshooting) section of documentation for help."),ls.MULTIPLE_MODELS_ERROR="Cannot run multiple web models",ls.WEB_LLM_NOT_FOUND_ERROR="WebLLM module not found",ls.DEFAULT_MODEL="Llama-2-7b-chat-hf-q4f32_1",ls.MODULE_SEARCH_LIMIT_S=5;var wm=ls,Ut=function(l,t,e,n){return{url:l,method:t,handleVerificationResult:e,augmentUrl:n}},dA=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},hA=function(l,t,e,n){var r=l;Array.isArray(r[O])&&r[O][0]==="Error in `parameters`: field required"?e(t):n(xt)},mA=function(){return Ut("https://api-inference.huggingface.co/models/gpt2",Vt,hA)},Kb=(function(i){function l(t,e,n,r,o,u){var f;return z(this,l),f=ce(this,l,[t,mA(),dA,o,u]),f.insertKeyPlaceholderText="Hugging Face Token",f.keyHelpUrl="https://huggingface.co/settings/tokens",f.permittedErrorPrefixes=[vm],f.url="".concat(l.URL_PREFIX).concat(n),f.textInputPlaceholderText=e,ie(r)=="object"&&(r.model&&(f.url="".concat(l.URL_PREFIX).concat(r.model)),r.options&&(f.rawBody.options=r.options),r.parameters&&(f.rawBody.parameters=r.parameters)),f}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n,r){var o,u=JSON.parse(JSON.stringify(e)),f=n[n.length-1][w];if(f)return(o=u.options)!==null&&o!==void 0||(u.options={}),u.options.wait_for_model=!0,ze({inputs:f},u)}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f;return k().w(function(h){for(;;)switch(h.n){case 0:if(this.connectSettings){h.n=1;break}throw new Error(gn);case 1:f=this.preprocessBody(this.rawBody,o,u),$t.request(this,f,r);case 2:return h.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()}])})(we);Kb.URL_PREFIX="https://api-inference.huggingface.co/models/";var pr=Kb,Tm=(function(i){function l(t,e,n,r,o,u){var f;return z(this,l),f=ce(this,l,[t,e,n,r,o,u]),f.isTextInputDisabled=!0,f.canSendMessage=l.canSendFile,f}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n,r){return r[0]}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){return k().w(function(f){for(;;)switch(f.n){case 0:if(this.connectSettings){f.n=1;break}throw new Error(gn);case 1:if(u!=null&&u[0]){f.n=2;break}throw new Error(Ac);case 2:$t.poll(this,u[0],r,!1);case 3:return f.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()}],[{key:"canSendFile",value:function(e,n){return!!(n!=null&&n[0])}}])})(pr),pA=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.audioClassification,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Attach an audio ".concat(_t),"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition",o,u,{audio:{}}])}return fe(l,i),P(l,[{key:"extractPollResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.estimated_time){u.n=1;break}return u.a(2,{timeoutMS:(r.estimated_time+1)*1e3});case 1:if(!r[O]){u.n=2;break}throw r[O];case 2:return u.a(2,C({},w,((o=r[0])==null?void 0:o.label)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(Tm),vA=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.imageClassification,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Attach an image ".concat(_t),"google/vit-base-patch16-224",o,u,{images:{}}])}return fe(l,i),P(l,[{key:"extractPollResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.estimated_time){u.n=1;break}return u.a(2,{timeoutMS:(r.estimated_time+1)*1e3});case 1:if(!r[O]){u.n=2;break}throw r[O];case 2:return u.a(2,C({},w,((o=r[0])==null?void 0:o.label)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(Tm),xc=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},gA=function(l,t,e,n){l.message?n(xt):e(t)},Bc=function(){return Ut("https://api.stability.ai/v1/engines/list",Ot,gA)},bs="data:image/png;base64,",Nc=(function(i){function l(t,e,n,r,o){var u;return z(this,l),u=ce(this,l,[t,e,n,r,o]),u.insertKeyPlaceholderText=u.genereteAPIKeyName("Stability AI"),u.keyHelpUrl="https://platform.stability.ai/docs/getting-started/authentication",u.permittedErrorPrefixes=[vo,"invalid_"],u}return fe(l,i),P(l)})(we),yA=(function(i){function l(t){var e;z(this,l);var n,r=JSON.parse(JSON.stringify(t.directConnection)),o=r?.stabilityAI,u={images:{files:{acceptedFormats:".png",maxNumberOfFiles:1}}};e=ce(this,l,[t,Bc(),xc,o,u]),e.url="https://api.stability.ai/v1/generation/esrgan-v1-x2plus/image-to-image/upscale",e.textInputPlaceholderText="Describe image changes";var f=(n=r?.stabilityAI)==null?void 0:n.imageToImageUpscale;return ie(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/image-to-image/upscale")),l.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=l.canSendFileMessage,e}return fe(l,i),P(l,[{key:"createFormDataBody",value:function(e,n){var r=new FormData;return r.append(Ye,n),Object.keys(e).forEach(function(o){r.append(o,String(e[o]))}),r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f;return k().w(function(h){for(;;)switch(h.n){case 0:if(this.connectSettings){h.n=1;break}throw new Error(gn);case 1:if(u){h.n=2;break}throw new Error(mm);case 2:f=this.createFormDataBody(this.rawBody,u[0]),Be.tempRemoveContentHeader(this.connectSettings,$t.request.bind(this,this,f,r),!1);case 3:return h.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.message){u.n=1;break}throw r.message;case 1:return o=r.artifacts.map(function(f){return C(C({},de,"".concat(bs).concat(f.base64)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id}},{key:"canSendFileMessage",value:function(e,n){return!!(n!=null&&n[0])}}])})(Nc),bA=(function(i){function l(t){var e;z(this,l);var n,r=JSON.parse(JSON.stringify(t.directConnection)),o=r?.stabilityAI,u=C({},ot,C({},H,{acceptedFormats:".png",maxNumberOfFiles:2}));e=ce(this,l,[t,Bc(),xc,o,u]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image/masking",e._maskSource="MASK_IMAGE_WHITE",e.textInputPlaceholderText="Describe image changes";var f=(n=r?.stabilityAI)==null?void 0:n.imageToImageMasking;return ie(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/image-to-image/masking")),f.weight!==void 0&&f.weight!==null&&(e._imageWeight=f.weight),f.mask_source!==void 0&&f.mask_source!==null&&(e._maskSource=f.mask_source),l.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=l.canSendFileTextMessage,e}return fe(l,i),P(l,[{key:"createFormDataBody",value:function(e,n,r,o){var u=new FormData;return u.append("init_image",n),u.append("mask_source",String(this._maskSource)),u.append("mask_image",r),o&&o!==""&&u.append("text_prompts[0][text]",o),this._imageWeight!==void 0&&this._imageWeight!==null&&u.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(e).forEach(function(f){u.append(f,String(e[f]))}),u.get("weight")===void 0&&u.append("weight",String(1)),u}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(this.connectSettings){y.n=1;break}throw new Error(gn);case 1:if(!(!u||!u[0]||!u[1])){y.n=2;break}throw new Error(mm);case 2:p=(h=(f=o[o.length-1])==null?void 0:f[w])==null?void 0:h.trim(),g=this.createFormDataBody(this.rawBody,u[0],u[1],p),Be.tempRemoveContentHeader(this.connectSettings,$t.request.bind(this,this,g,r),!1);case 3:return y.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.message){u.n=1;break}throw r.message;case 1:return o=r.artifacts.map(function(f){return C(C({},de,"".concat(bs).concat(f.base64)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendFileTextMessage",value:function(e,n){return!!(n!=null&&n[0])&&!!(e&&e.trim()!=="")}}])})(Nc),SA=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.audioSpeechRecognition,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Attach an audio ".concat(_t),"facebook/wav2vec2-large-960h-lv60-self",o,u,{audio:{}}])}return fe(l,i),P(l,[{key:"extractPollResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r.estimated_time){o.n=1;break}return o.a(2,{timeoutMS:(r.estimated_time+1)*1e3});case 1:if(!r[O]){o.n=2;break}throw r[O];case 2:return o.a(2,C({},w,r[w]||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(Tm),_A=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.textGeneration,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Once upon a time","gpt2",o,u])}return fe(l,i),P(l,[{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O];case 1:return u.a(2,C({},w,((o=r[0])==null?void 0:o.generated_text)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),EA=(function(i){function l(t){var e;z(this,l);var n,r,o,u=(r=(n=t.directConnection)==null?void 0:n.huggingFace)==null?void 0:r.questionAnswer,f=(o=t.directConnection)==null?void 0:o.huggingFace;return e=ce(this,l,[t,"Ask a question","bert-large-uncased-whole-word-masking-finetuned-squad",u,f]),e.permittedErrorPrefixes=[vm,"Error in"],e._context=u.context,e}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=n[n.length-1][w];if(r)return{inputs:{question:r,context:this._context,options:{wait_for_model:!0}}}}},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r[O]){o.n=1;break}throw r[O];case 1:return o.a(2,C({},w,r.answer||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),kA=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.summarization,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Insert text to summarize","facebook/bart-large-cnn",o,u])}return fe(l,i),P(l,[{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O];case 1:return u.a(2,C({},w,((o=r[0])==null?void 0:o.summary_text)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),CA=(function(i){function l(t){var e,n;z(this,l);var r,o,u,f=(o=(r=t.directConnection)==null?void 0:r.huggingFace)==null?void 0:o.conversation,h=(u=t.directConnection)==null?void 0:u.huggingFace;return n=ce(this,l,[t,"Ask me anything!","facebook/blenderbot-400M-distill",f,h]),(e=n.maxMessages)!==null&&e!==void 0||(n.maxMessages=-1),n}return fe(l,i),P(l,[{key:"processMessagesI",value:function(e){var n=e.filter(function(h){return h[w]}),r=n[n.length-1][w],o=n.slice(0,n.length-1);if(r){var u=o.filter(function(h){return h.role===qe}).map(function(h){return h[w]}),f=o.filter(function(h){return h.role===vt}).map(function(h){return h[w]});return{past_user_inputs:u,generated_responses:f,mostRecentMessageText:r}}}},{key:"preprocessBody",value:function(e,n){var r,o=JSON.parse(JSON.stringify(e)),u=this.processMessagesI(n);if(u)return(r=o.options)!==null&&r!==void 0||(o.options={}),o.options.wait_for_model=!0,ze({inputs:C({past_user_inputs:u.past_user_inputs,generated_responses:u.generated_responses},w,u.mostRecentMessageText)},o)}},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r[O]){o.n=1;break}throw r[O];case 1:return o.a(2,C({},w,r.generated_text||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),wA=(function(i){function l(t){var e;z(this,l);var n,r=JSON.parse(JSON.stringify(t.directConnection)),o=r.stabilityAI,u=C({},ot,C({},H,{acceptedFormats:".png",maxNumberOfFiles:1}));e=ce(this,l,[t,Bc(),xc,o,u]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/image-to-image",e.textInputPlaceholderText="Describe image changes";var f=(n=r.stabilityAI)==null?void 0:n.imageToImage;return ie(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/text-to-image")),f.weight!==void 0&&f.weight!==null&&(e._imageWeight=f.weight),l.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=l.canSendFileTextMessage,e}return fe(l,i),P(l,[{key:"createFormDataBody",value:function(e,n,r){var o=new FormData;return o.append("init_image",n),r&&r!==""&&o.append("text_prompts[0][text]",r),this._imageWeight!==void 0&&this._imageWeight!==null&&o.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(e).forEach(function(u){o.append(u,String(e[u]))}),o.get("weight")===void 0&&o.append("weight",String(1)),o}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(this.connectSettings){y.n=1;break}throw new Error(gn);case 1:if(u){y.n=2;break}throw new Error(mm);case 2:p=(h=(f=o[o.length-1])==null?void 0:f[w])==null?void 0:h.trim(),g=this.createFormDataBody(this.rawBody,u[0],p),Be.tempRemoveContentHeader(this.connectSettings,$t.request.bind(this,this,g,r),!1);case 3:return y.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.message){u.n=1;break}throw r.message;case 1:return o=r.artifacts.map(function(f){return C(C({},de,"".concat(bs).concat(f.base64)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendFileTextMessage",value:function(e,n){return!!(n!=null&&n[0])&&!!(e&&e.trim()!=="")}}])})(Nc),TA=(function(i){function l(t){z(this,l);var e,n,r,o=(n=(e=t.directConnection)==null?void 0:e.huggingFace)==null?void 0:n.translation,u=(r=t.directConnection)==null?void 0:r.huggingFace;return ce(this,l,[t,"Insert text to translate","Helsinki-NLP/opus-tatoeba-en-ja",o,u])}return fe(l,i),P(l,[{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O];case 1:return u.a(2,C({},w,((o=r[0])==null?void 0:o.translation_text)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),AA=(function(i){function l(t){var e;z(this,l);var n,r=JSON.parse(JSON.stringify(t.directConnection)),o=r.stabilityAI;e=ce(this,l,[t,Bc(),xc,o]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/text-to-image",e.textInputPlaceholderText="Describe an image";var u=(n=r.stabilityAI)==null?void 0:n.textToImage;return ie(u)=="object"&&(u.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(u.engine_id,"/text-to-image")),u.weight!==void 0&&u.weight!==null&&(e._imageWeight=u.weight),l.cleanConfig(u),Object.assign(e.rawBody,u)),e.canSendMessage=l.canSendTextMessage,e}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=n[n.length-1][w],o=JSON.parse(JSON.stringify(e)),u=C({},w,r);return this._imageWeight&&(u.weight=this._imageWeight),o.text_prompts=[u],o}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this));case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r.message){u.n=1;break}throw r.message;case 1:return o=r.artifacts.map(function(f){return C(C({},de,"".concat(bs).concat(f.base64)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendTextMessage",value:function(e){return!!(e&&e.trim()!=="")}}])})(Nc),MA=(function(i){function l(t){var e;z(this,l);var n,r,o,u=(r=(n=t.directConnection)==null?void 0:n.huggingFace)==null?void 0:r.fillMask,f=(o=t.directConnection)==null?void 0:o.huggingFace;return e=ce(this,l,[t,"The goal of life is [MASK].","bert-base-uncased",u,f]),e.permittedErrorPrefixes=[vm,"No mask_token"],e}return fe(l,i),P(l,[{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O];case 1:return u.a(2,C({},w,((o=r[0])==null?void 0:o.sequence)||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(pr),Am=function(l){return C(C({},Pe,ht),Rt,"".concat(ln).concat(l))},RA=function(l,t,e,n){var r=l;r[O]?r[O].message===pm?n(xt):n(qn):e(t)},Mm=function(){return Ut("https://open.bigmodel.cn/api/paas/v4/models",Ot,RA)},OA=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)),p=h.bigModel;r=ce(this,l,[t,Mm(),Am,p]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("BigModel"),r.keyHelpUrl="https://open.bigmodel.cn/usercenter/apikeys",r.url="https://open.bigmodel.cn/api/paas/v4/audio/speech",r.permittedErrorPrefixes=[Rt,on];var g=(o=h.bigModel)==null?void 0:o.textToSpeech;return ie(g)===Ue&&(r.cleanConfig(g),Object.assign(r.rawBody,g)),(e=(u=r.rawBody).model)!==null&&e!==void 0||(u.model="cogtts"),(n=(f=r.rawBody).voice)!==null&&n!==void 0||(f.voice="tongtong"),r}return fe(l,i),P(l,[{key:"cleanConfig",value:function(e){delete e.key}},{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n[n.length-1];return r.input=o?.[w]||"",r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u;return k().w(function(f){for(;;)if(f.n===0)return o=new Blob([r],C({},ke,"audio/mpeg")),u=URL.createObjectURL(o),f.a(2,C({},H,[C(C({},de,u),ke,De)]))},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),Rm=function(l){return C(C({},Pe,ht),Rt,"".concat(ln).concat(l))},xA=function(l,t,e,n){var r=l;r[O]?r[O].message===pm?n(xt):n(qn):e(t)},Om=function(){return Ut("https://api.together.xyz/v1/models",Ot,xA)},BA=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)),p=h.together;r=ce(this,l,[t,Om(),Rm,p]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Together AI"),r.keyHelpUrl="https://api.together.xyz/settings/api-keys",r.url="https://api.together.xyz/v1/audio/speech",r.permittedErrorPrefixes=[la,on];var g=(o=h.together)==null?void 0:o.textToSpeech;return ie(g)===Ue&&r.completeConfig(g),(e=(u=r.rawBody).model)!==null&&e!==void 0||(u.model="cartesia/sonic"),(n=(f=r.rawBody).voice)!==null&&n!==void 0||(f.voice="laidback woman"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n[n.length-1];return r.input=o?.[w]||"",r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u;return k().w(function(f){for(;;)if(f.n===0)return o=new Blob([r],C({},ke,"audio/mpeg")),u=URL.createObjectURL(o),f.a(2,C({},H,[C(C({},de,u),ke,De)]))},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),An="https://api.openai.com/v1/",Ss="https://platform.openai.com/account/api-keys",Jh="input_text",Jy="input_image",Yy="output_text",kh="image_generation_call",Jb="function_call_output",_l="response",_s=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},Yb=function(l,t,e,n){var r=l;r[O]?r[O].code==="invalid_api_key"?n(xt):n(qn):e(t)},Es=function(){return Ut("".concat(An,"models"),Ot,Yb)},Ci=(function(){var i=I(k().m(function l(t,e,n){var r,o,u,f,h,p,g,y,b,E,S,A,R=arguments;return k().w(function(L){for(;;)switch(L.n){case 0:return r=R.length>3&&R[3]!==void 0?R[3]:!0,o=t.connectSettings,u=t.deepChat,f=t.completionsHandlers,h=t.messages,o.method=n,p={body:e,headers:o.headers},L.n=1,Be.processRequestInterceptor(u,p);case 1:if(g=L.v,y=g.body,b=g.headers,E=g.error,S=f.onFinish,!(E&&h)){L.n=2;break}return L.a(2,Be.onInterceptorError(h,E,S));case 2:return L.n=3,Be.fetch(t,b,r,y).then(function(K){return Be.processResponseByType(K)});case 3:if(A=L.v,!A[O]){L.n=4;break}throw A[O].message;case 4:return L.a(2,A)}},l)}));return function(t,e,n){return i.apply(this,arguments)}})(),Yh=(function(){function i(){z(this,i)}return P(i,null,[{key:"storeFiles",value:(function(){var l=I(k().m(function e(n,r,o,u){var f,h,p,g,y;return k().w(function(b){for(;;)switch(b.p=b.n){case 0:if(f=n.connectSettings.headers,f){b.n=1;break}return b.a(2);case 1:return n.url=u,h=f[Pe],delete f[Pe],p=o.map((function(){var E=I(k().m(function S(A){var R;return k().w(function(L){for(;;)if(L.n===0)return R=new FormData,L.a(2,(R.append("purpose","assistants"),R.append("file",A),new Promise(function(K){K(Ci(n,R,Vt,!1))})))},S)}));return function(S){return E.apply(this,arguments)}})()),b.p=2,b.n=3,Promise.all(p);case 3:return g=b.v.map(function(E){return{id:E.id,name:E.filename}}),b.a(2,(f[Pe]=h,g));case 4:throw b.p=4,y=b.v,f[Pe]=h,Be.displayError(r,y),n.completionsHandlers.onFinish(),y;case 5:return b.a(2)}},e,null,[[2,4]])}));function t(e,n,r,o){return l.apply(this,arguments)}return t})()},{key:"getType",value:function(t,e){var n=t[e].path;return!n||n.endsWith("png")?Ye:or}},{key:"getFiles",value:(function(){var l=I(k().m(function e(n,r,o,u){var f,h;return k().w(function(p){for(;;)switch(p.n){case 0:return f=r.map(function(g){var y=g.fileId;return n.url="".concat(o).concat(y).concat(u),new Promise(function(b){b(Ci(n,void 0,"GET",!1))})}),p.n=1,Promise.all(f);case 1:return h=p.v.map(function(g,y){return new Promise(function(b){var E=new FileReader;E.readAsDataURL(g),E.onload=function(S){b(C(C(C({},de,S.target.result),"name",r[y].name),ke,i.getType(r,y)))}})}),p.n=2,Promise.all(h);case 2:return p.a(2,p.v)}},e)}));function t(e,n,r,o){return l.apply(this,arguments)}return t})()},{key:"getFileName",value:function(t){var e=t.split("/");return e[e.length-1]}},{key:"getFilesAndNewText",value:(function(){var l=I(k().m(function e(n,r,o,u,f){var h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(y=o.getFilesPrefix,b=o.getFilesPostfix,E=r.length>0,!E){S.n=2;break}return S.n=1,i.getFiles(n,r,y,b);case 1:g=S.v,(h=f?.[w])!=null&&h.value&&g.forEach(function(A,R){var L;if(A[de]){var K=r[R].path;(L=f?.[w])!=null&&L.value&&K&&(f[w].value=f[w].value.replace(K,A[de]))}});case 2:return S.a(2,(p=f?.[w])!=null&&p.value?C(C({},w,f[w].value),"role",u):C(C({},H,g),"role",u))}},e)}));function t(e,n,r,o,u){return l.apply(this,arguments)}return t})()},{key:"getFileDetails",value:function(t,e){var n,r=[];return(n=e?.[w])!=null&&n.value&&t.content.forEach(function(o){var u,f;(f=(u=o[w])==null?void 0:u.annotations)==null||f.forEach(function(h){var p;h[w]&&h[w].startsWith("sandbox:")&&(p=h.file_path)!=null&&p.file_id&&r.push({path:h[w],fileId:h.file_path.file_id,name:i.getFileName(h[w])})})}),e!=null&&e.image_file&&r.push({fileId:e.image_file.file_id}),r}},{key:"getFilesAndText",value:(function(){var l=I(k().m(function e(n,r,o,u){var f;return k().w(function(h){for(;;)switch(h.n){case 0:return f=i.getFileDetails(r,u),h.n=1,i.getFilesAndNewText(n,f,o,r.role,u);case 1:return h.a(2,h.v)}},e)}));function t(e,n,r,o){return l.apply(this,arguments)}return t})()},{key:"parseResult",value:function(t,e){var n=[];if(e)n=t.data;else for(var r=0;r<t.data.length;r+=1){var o=t.data[r];if(o.role===ka)n.push(o);else break}return n.reverse()}},{key:"parseMessages",value:function(t,e,n){var r=[];return e.forEach((function(){var o=I(k().m(function u(f){return k().w(function(h){for(;;)switch(h.n){case 0:f.content.filter(function(p){return!!p[w]||!!p.image_file}).sort(function(p){return p[w]?-1:p.image_file?1:0}).forEach((function(){var p=I(k().m(function g(y){return k().w(function(b){for(;;)switch(b.n){case 0:r.push(i.getFilesAndText(t,f,n,y));case 1:return b.a(2)}},g)}));return function(g){return p.apply(this,arguments)}})());case 1:return h.a(2)}},u)}));return function(u){return o.apply(this,arguments)}})()),Promise.all(r)}},{key:"processStreamMessages",value:(function(){var l=I(k().m(function e(n,r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,i.parseMessages(n,[{content:r,role:ka}],o))},e)}));function t(e,n,r){return l.apply(this,arguments)}return t})()},{key:"processAPIMessages",value:(function(){var l=I(k().m(function e(n,r,o,u){var f;return k().w(function(h){for(;;)if(h.n===0)return f=i.parseResult(r,o),h.a(2,i.parseMessages(n,f,u))},e)}));function t(e,n,r,o){return l.apply(this,arguments)}return t})()}])})();Yh.FILES_WITH_TEXT_ERROR="content with type `text` must have `text` values",Yh.FUNCTION_TOOL_RESP_ERROR="Response must contain an array of strings for each individual function/tool_call, see ".concat(Qe,"directConnection/OpenAI/#assistant-functions.");var Qi=Yh,Xb=(function(i){function l(t,e,n,r,o,u){var f;if(z(this,l),f=ce(this,l,[t,r,o,u]),f.insertKeyPlaceholderText=f.genereteAPIKeyName("OpenAI"),f.keyHelpUrl=Ss,f.url="",f.permittedErrorPrefixes=[vo,"Please send text",Cm.FAILED_ERROR_MESSAGE],f.shouldFetchHistory=!1,f._searchedForThreadId=!1,f._config={},f._newAssistantDetails={model:"gpt-4"},f._waitingForStreamResponse=!1,f._isSSEStream=!1,f.urlSegments=n,ie(e)=="object"){f._config=e;var h=f._config,p=h.new_assistant,g=h.thread_id,y=h.load_thread_history;Object.assign(f._newAssistantDetails,p),g&&(f.sessionId=g),y&&(f.shouldFetchHistory=!0)}return f.maxMessages=1,f._isSSEStream=!!(f.stream&&(ie(f.stream)!="object"||!f.stream.simulation)),f}return fe(l,i),P(l,[{key:"fetchHistoryFunc",value:(function(){var t=I(k().m(function n(){var r=this,o;return k().w(function(u){for(;;)switch(u.p=u.n){case 0:return setTimeout(function(){return r.deepChat.disableSubmitButton()},2),u.p=1,u.n=2,this.getThreadMessages(this.sessionId,!0);case 2:return o=u.v,u.a(2,(this.deepChat.disableSubmitButton(!1),o));case 3:return u.p=3,u.v,u.a(2,[C({},O,yb)])}},n,this,[[1,3]])}));function e(){return t.apply(this,arguments)}return e})()},{key:"processMessage",value:function(e,n){var r=this.totalMessagesMaxCharLength||-1,o=km.getCharacterLimitMessages(e,r)[0];if(n&&n.length>0){var u=this.filesToolType;if(typeof this.filesToolType=="function"){var f=this.filesToolType(n.map(function(p){var g=p.name;return g}));f==="code_interpreter"||f==="file_search"||f===ot?u=f:(console[O]('Tool type "'.concat(f,'" is not valid')),console[O]('Expected "code_interpreter" or "file_search" or "images". Going to default to "images"'))}if(u==="file_search")return l.processAttachmentsMessage(o,n,"file_search");if(u==="code_interpreter")return l.processAttachmentsMessage(o,n,"code_interpreter");if(n.find(function(p){var g=p.name;return!aa.isImageFileExtension(g)}))console[O]("The uploaded files contained a non-image file"),console[O]('Make sure only images can be uploaded or define a "code_interpreter" or "file_search" value in the "files_tool_type" property'),console.warn('Make sure your existing assistant supports these "tools" or specify them in the "new_assistant" property');else{var h=l.processImageMessage(o,n);if(h)return h}}return{content:o[w]||"",role:qe}}},{key:"createNewThreadMessages",value:function(e,n,r){var o=JSON.parse(JSON.stringify(e)),u=this.processMessage(n,r);return o.thread={messages:[u]},o}},{key:"callService",value:function(e,n,r){if(this.messages=e,this.sessionId){this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/messages").concat(this.urlSegments.createMessagePostfix);var o=this.processMessage(n,r);$t.request(this,o,e)}else{this.url="".concat(this.urlSegments.threadsPrefix,"/runs").concat(this.urlSegments.threadsPosfix);var u=this.createNewThreadMessages(this.rawBody,n,r);this._isSSEStream?this.createStreamRun(u):$t.request(this,u,e)}}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g,y;return k().w(function(b){for(;;)switch(b.n){case 0:if(this._waitingForStreamResponse=!1,!!this.connectSettings){b.n=1;break}throw new Error(gn);case 1:if(!((f=(h=this.rawBody).assistant_id)!==null&&f!==void 0)){b.n=2;break}b.n=5;break;case 2:if(g=this._config.assistant_id,g){b.n=4;break}return b.n=3,this.createNewAssistant();case 3:g=b.v;case 4:h.assistant_id=g;case 5:if(this._searchedForThreadId||this.searchPreviousMessagesForThreadId(r.messageToElements),!u){b.n=7;break}return b.n=6,Qi.storeFiles(this,r,u,this.urlSegments.storeFiles);case 6:y=b.v,b.n=8;break;case 7:y=void 0;case 8:p=y,this.connectSettings.method=Vt,this.callService(r,o,p);case 9:return b.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"createNewAssistant",value:(function(){var t=I(k().m(function n(){var r,o;return k().w(function(u){for(;;)switch(u.p=u.n){case 0:return u.p=0,this.url=this.urlSegments.newAssistantUrl,u.n=1,Ci(this,JSON.parse(JSON.stringify(this._newAssistantDetails)),Vt);case 1:return r=u.v,u.a(2,(this._config.assistant_id=r.id,this._config.assistant_id));case 2:u.p=2,o=u.v,console[O](o),console[O]("Failed to create a new assistant");case 3:return u.a(2)}},n,this,[[0,2]])}));function e(){return t.apply(this,arguments)}return e})()},{key:"searchPreviousMessagesForThreadId",value:function(e){var n=e.find(function(r){var o=sr(r,1),u=o[0];return u._sessionId});n&&(this.sessionId=n[0]._sessionId),this._searchedForThreadId=!0}},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(!(this._waitingForStreamResponse||this._isSSEStream&&this.sessionId)){h.n=2;break}return h.n=1,this.handleStream(r);case 1:return h.a(2,h.v);case 2:if(!r[O]){h.n=3;break}throw r[O].message.startsWith(Qi.FILES_WITH_TEXT_ERROR)?Error("Please send text with your file(s)"):r[O].message;case 3:return this.asyncCallInProgress=!0,h.n=4,this.assignThreadAndRun(r);case 4:return u="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs/").concat(this.run_id).concat(this.urlSegments.threadsPosfix),f={method:Ot,headers:(o=this.connectSettings)==null?void 0:o.headers},h.a(2,($t.executePollRequest(this,u,f,this.messages),C({},w,"")))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"assignThreadAndRun",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!this.sessionId){u.n=2;break}return this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),u.n=1,Ci(this,JSON.parse(JSON.stringify(this.rawBody)),Vt);case 1:o=u.v,this.run_id=o.id,u.n=3;break;case 2:this.sessionId=r.thread_id,this.run_id=r.id,this.updateSessionId(this.sessionId);case 3:return u.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"getThreadMessages",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p=arguments,g;return k().w(function(y){for(;;)switch(y.n){case 0:return o=p.length>1&&p[1]!==void 0?p[1]:!1,this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(r,"/messages?").concat(this.urlSegments.listMessagesPostfix),y.n=1,Ci(this,{},Ot);case 1:if(h=y.v,g=!o&&this.deepChat.responseInterceptor,!g){y.n=3;break}return y.n=2,(f=(u=this.deepChat).responseInterceptor)==null?void 0:f.call(u,h);case 2:h=y.v;case 3:return y.a(2,Qi.processAPIMessages(this,h,o,this.urlSegments))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"extractPollResultData",value:(function(){var t=I(k().m(function n(r){var o=this,u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(f=r.status,h=r.required_action,!(f==="queued"||f==="in_progress")){S.n=1;break}return S.a(2,{timeoutMS:l.POLLING_TIMEOUT_MS});case 1:if(!(f===gm&&this.messages)){S.n=3;break}return S.n=2,this.getThreadMessages(r.thread_id);case 2:return p=S.v,g=p.shift(),y=g.text,b=g.files,S.a(2,(setTimeout(function(){p.forEach(function(A){return o.deepChat.addMessage(A)})}),C({text:y,_sessionId:this.sessionId},H,b)));case 3:if(E=(u=h?.submit_tool_outputs)==null?void 0:u.tool_calls,!(f==="requires_action"&&E)){S.n=5;break}return S.n=4,this.handleTools(E);case 4:return S.a(2,S.v);case 5:throw Error("Thread run status: ".concat(f));case 6:return S.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(this._functionHandlerI){y.n=1;break}throw Error(Ri);case 1:return o=r.map(function(b){return{name:b.function.name,arguments:b.function.arguments}}),y.n=2,this._functionHandlerI(o);case 2:if(u=y.v,!(!Array.isArray(u)||r.length!==u.length)){y.n=3;break}throw Error(Qi.FUNCTION_TOOL_RESP_ERROR);case 3:return y.n=4,Promise.all(u);case 4:if(f=y.v,!f.find(function(b){return typeof b!="string"})){y.n=5;break}throw Error(Qi.FUNCTION_TOOL_RESP_ERROR);case 5:if(h=f.map(function(b,E){return{tool_call_id:r[E].id,output:b}}),p="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId),g="/runs/".concat(this.run_id,"/submit_tool_outputs").concat(this.urlSegments.threadsPosfix),this.url="".concat(p).concat(g),!this._isSSEStream){y.n=7;break}return y.n=6,this.createStreamRun({tool_outputs:h});case 6:y.n=8;break;case 7:return y.n=8,Ci(this,{tool_outputs:h},Vt);case 8:return y.a(2,{timeoutMS:l.POLLING_TIMEOUT_MS})}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"handleStream",value:(function(){var t=I(k().m(function n(r){var o,u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(f=(u=(o=r.required_action)==null?void 0:o.submit_tool_outputs)==null?void 0:u.tool_calls,!(r.status==="requires_action"&&f)){p.n=2;break}return this.run_id=r.id,p.n=1,this.handleTools(f);case 1:return p.a(2,p.v);case 2:if(!this._waitingForStreamResponse){p.n=3;break}return p.a(2,this.parseStreamResult(r));case 3:return this._isSSEStream&&this.sessionId&&(this.asyncCallInProgress=!0,this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),h=JSON.parse(JSON.stringify(this.rawBody)),this.createStreamRun(h)),p.a(2,C({},w,""))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"parseStreamResult",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p,g,y,b,E,S;return k().w(function(A){for(;;)switch(A.n){case 0:if(!(r.content&&r.content.length>0&&this.messages)){A.n=1;break}if(g=r.content.find(function(R){return R[w]}),!((o=g?.[w])!=null&&o.annotations&&g[w].annotations.length>0)){A.n=1;break}return y=r.content.find(function(R){return!!R[w]})||r.content[0],b=Qi.getFilesAndText.bind(this,this,{role:ka,content:r.content},this.urlSegments,y),A.a(2,((u=this._messageStream)==null||u.endStreamAfterFileDownloaded(this.messages,b),C({},w,"")));case 1:if(!((f=r.delta)!=null&&f.content)){A.n=4;break}if(!(r.delta.content.length>1)){A.n=3;break}if(E=r.delta.content.find(function(R){return R[w]}),!((h=E?.[w])!=null&&h.annotations&&E[w].annotations.length===0)){A.n=3;break}return A.n=2,Qi.processStreamMessages(this,r.delta.content,this.urlSegments);case 2:return S=A.v,A.a(2,C(C({},w,S[0][w]),H,S[1][H]));case 3:return A.a(2,C({},w,(p=r.delta.content[0][w])==null?void 0:p.value));case 4:return A.a(2,(!this.sessionId&&r.thread_id&&(this.sessionId=r.thread_id),C({},w,"")))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"createStreamRun",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:return r.stream=!0,this._waitingForStreamResponse=!0,o.n=1,Lt.request(this,r,this.messages,!0,!0);case 1:this._messageStream=o.v;case 2:return o.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"processImageMessage",value:function(e,n){var r=n?.filter(function(o){return aa.isImageFileExtension(o.name)}).map(function(o){return C(C({},ke,"image_file"),"image_file",{file_id:o.id})});if(r&&r.length>0)return e[w]&&e[w].length>0&&r.push(C(C({},ke,w),w,e[w])),{content:r,role:qe}}},{key:"processAttachmentsMessage",value:function(e,n,r){return{attachments:n.map(function(o){return{tools:[C({},ke,r)],file_id:o.id}}),content:[C(C({},ke,w),w,e[w])],role:qe}}}])})(we);Xb.POLLING_TIMEOUT_MS=500;var $b=Xb,NA=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)),y=g.openAI,b=(o=g.openAI)==null?void 0:o.assistant,E=l.buildUrlSegments(b);if(r=ce(this,l,[t,b,E,Es(),_s,y]),(e=(u=r.connectSettings).headers)!==null&&e!==void 0||(u.headers={}),(n=(f=r.connectSettings.headers)["OpenAI-Beta"])!==null&&n!==void 0||(f["OpenAI-Beta"]="assistants=v2"),r.shouldFetchHistory&&r.sessionId&&(r.fetchHistory=r.fetchHistoryFunc.bind(vs(r))),ie(b)===Ue){var S=(p=(h=t.directConnection)==null?void 0:h.openAI)==null?void 0:p.assistant,A=S.function_handler,R=S.files_tool_type;A&&(r._functionHandlerI=A),R&&(r.filesToolType=R)}return r}return fe(l,i),P(l,null,[{key:"buildUrlSegments",value:function(e){var n=ie(e)=="object"&&e.custom_base_url||An;return{threadsPrefix:"".concat(n,"/threads"),threadsPosfix:"",newAssistantUrl:"".concat(n,"/assistants"),createMessagePostfix:"",listMessagesPostfix:"order=desc",storeFiles:"".concat(n,"/").concat(H),getFilesPrefix:"".concat(n,"/").concat(H,"/"),getFilesPostfix:"/content"}}}])})($b),cc="Please define the Azure URL Details. [More Information](".concat(Qe,"directConnection/Azure)"),Zb=function(l){return C({"api-key":l},Pe,ht)},Qb=function(l){return Ut("".concat(l.endpoint,"/openai/models?api-version=").concat(l.version),Ot,Yb)},Wb=function(l){var t=l.endpoint,e=l.version,n=l.deploymentId;return t&&e&&n},Xh=(function(i){function l(t){var e,n;z(this,l);var r,o,u,f,h,p,g,y,b=JSON.parse(JSON.stringify(t.directConnection)),E=b.azure,S=(r=b.azure)==null?void 0:r.openAI,A=S?.urlDetails||{},R="".concat((o=S?.urlDetails)==null?void 0:o.endpoint,"/openai/"),L="?api-version=".concat((u=S?.urlDetails)==null?void 0:u.version),K={threadsPrefix:"".concat(R).concat(l.THREAD_RESOURCE),threadsPosfix:L,newAssistantUrl:"".concat(R).concat(l.NEW_ASSISTANT_RESOURCE).concat(L),createMessagePostfix:L,listMessagesPostfix:"order=desc&api-version=".concat((f=S?.urlDetails)==null?void 0:f.version),storeFiles:"".concat(R).concat(H).concat(L),getFilesPrefix:"".concat(R).concat(H,"/"),getFilesPostfix:"/content".concat(L)};if(n=ce(this,l,[t,S?.assistant,K,Qb(A),Zb,E]),n.permittedErrorPrefixes=[cc],n.insertKeyPlaceholderText=n.genereteAPIKeyName("Azure OpenAI"),n.keyHelpUrl="https://learn.microsoft.com/en-us/answers/questions/1193991/how-to-get-the-value-of-openai-api-key",n.isTextInputDisabled=!1,ie(S?.assistant)===Ue){var F=(g=(p=(h=t.directConnection)==null?void 0:h.azure)==null?void 0:p.openAI)==null?void 0:g.assistant,ne=F.function_handler,J=F.files_tool_type;ne&&(n._functionHandlerI=ne),J&&(n.filesToolType=J)}return Wb(A)?(e=(y=n.connectSettings).headers)!==null&&e!==void 0||(y.headers={}):(n.isTextInputDisabled=!0,n.canSendMessage=function(){return!1},setTimeout(function(){t.addMessage(C({},O,cc))})),n}return fe(l,i),P(l)})($b);Xh.THREAD_RESOURCE="threads",Xh.NEW_ASSISTANT_RESOURCE="assistants";var IA=Xh,LA="sts-session-started",DA="sts-session-stopped",Yt=(function(){function i(){z(this,i)}return P(i,null,[{key:"addAttributes",value:function(t){t.role="button",t.setAttribute("tabindex","0")}},{key:"addAriaBusy",value:function(t){t.setAttribute("aria-busy","true")}},{key:"removeAriaBusy",value:function(t){t.removeAttribute("aria-busy")}},{key:"addAriaDisabled",value:function(t){t.setAttribute("aria-disabled","true")}},{key:"removeAriaDisabled",value:function(t){t.removeAttribute("aria-disabled")}},{key:"removeAriaAttributes",value:function(t){i.removeAriaBusy(t),i.removeAriaDisabled(t)}}])})(),eS=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg height="1.4em" width="1.4em" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 viewBox="0 0 490.9 490.9" xml:space="preserve">
	<g>
		<g>
			<path d="M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5
				C149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5
				c0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z"/>
			<path d="M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3
				s5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8
				c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9
				C106.6,220,101.2,214.5,94.4,214.5z"/>
		</g>
	</g>
</svg>
`,tc=(function(){function i(){z(this,i)}return P(i,null,[{key:"createTextElement",value:function(t){var e=se();return e[B].add(i.INPUT_BUTTON_INNER_TEXT_CLASS),e.innerText=t,e}},{key:"tryAddSVGElement",value:function(t,e,n,r){n?t.push(Ja.createSVGElement(n)):n!==""&&r&&t.push(e)}},{key:"createCustomElements",value:function(t,e,n){var r,o,u=n?.[t],f=(r=u?.[w])==null?void 0:r.content,h=(o=u?.svg)==null?void 0:o.content,p=[];return i.tryAddSVGElement(p,e,h,f),f&&p.push(i.createTextElement(f)),p.length>0?p:void 0}},{key:"reassignClassBasedOnChildren",value:function(t,e){t[B].remove(i.INPUT_BUTTON_SVG_CLASS,i.INPUT_BUTTON_SVG_TEXT_CLASS),e.find(function(n){return n[B].contains(i.INPUT_BUTTON_INNER_TEXT_CLASS)})?e.length>1&&t[B].add(i.INPUT_BUTTON_SVG_TEXT_CLASS):t[B].add(i.INPUT_BUTTON_SVG_CLASS)}}])})();tc.INPUT_BUTTON_SVG_TEXT_CLASS="input-button-svg-text",tc.INPUT_BUTTON_INNER_TEXT_CLASS="text-button",tc.INPUT_BUTTON_SVG_CLASS="input-button-svg";var Ai=tc,Ql=(function(){function i(){z(this,i)}return P(i,null,[{key:"parseSVGTextElements",value:function(t){return C({svg:t.find(function(e){return e.tagName.toLowerCase()==="svg"})},w,t.find(function(e){return e.tagName.toLowerCase()==="div"}))}}])})(),pn=(function(){function i(){z(this,i)}return P(i,null,[{key:"unsetAllCSS",value:function(t,e){var n,r;e.container&&Gt.unsetAllCSSMouseStates(t,e.container);var o=Ql.parseSVGTextElements(Array.from(t.children)),u=o.svg,f=o.text;(n=e.svg)!=null&&n.styles&&u&&Gt.unsetAllCSSMouseStates(u,e.svg.styles),(r=e[w])!=null&&r.styles&&f&&Gt.unsetAllCSSMouseStates(f,e[w].styles)}},{key:"unsetActionCSS",value:function(t,e){var n,r;e.container&&Gt.unsetActivityCSSMouseStates(t,e.container);var o=Ql.parseSVGTextElements(Array.from(t.children)),u=o.svg,f=o.text;(n=e.svg)!=null&&n.styles&&u&&Gt.unsetActivityCSSMouseStates(u,e.svg.styles),(r=e[w])!=null&&r.styles&&f&&Gt.unsetActivityCSSMouseStates(f,e[w].styles)}},{key:"setElementsCSS",value:function(t,e,n){var r,o,u,f,h;Object.assign(t[X],(r=e.container)==null?void 0:r[n]);var p=Ql.parseSVGTextElements(Array.from(t.children)),g=p.svg,y=p.text;g&&Object.assign(g[X],(u=(o=e.svg)==null?void 0:o.styles)==null?void 0:u[n]),y&&Object.assign(y[X],(h=(f=e[w])==null?void 0:f.styles)==null?void 0:h[n])}},{key:"setElementCssUpToState",value:function(t,e,n){i.setElementsCSS(t,e,le),n!==le&&(i.setElementsCSS(t,e,mn),n!==mn&&i.setElementsCSS(t,e,nt))}}])})(),vr=(function(){function i(l,t,e,n,r,o){z(this,i),this._mouseState={state:"default"},this.isCustom=!1,Yt.addAttributes(l),this.elementRef=l,this.svg=Ja.createSVGElement(t),this.customStyles=r,this.position=Ct.processPosition(e),this._tooltipSettings=n,this.dropupText=o}return P(i,[{key:"buttonMouseLeave",value:function(t){var e;this._mouseState.state=le,((e=this._activeTooltip)==null?void 0:e.element[X].visibility)==="visible"&&this._tooltipSettings&&Xa.hide(this._activeTooltip,this._tooltipSettings),t&&(pn.unsetAllCSS(this.elementRef,t),pn.setElementsCSS(this.elementRef,t,le))}},{key:"buttonMouseEnter",value:function(t){var e;this._mouseState.state=mn,this._tooltipSettings&&(this._activeTooltip=Xa.display(this.elementRef,this._tooltipSettings,(e=this._activeTooltip)==null?void 0:e.element)),t&&pn.setElementsCSS(this.elementRef,t,mn)}},{key:"buttonMouseUp",value:function(t){t&&pn.unsetActionCSS(this.elementRef,t),this.buttonMouseEnter(t)}},{key:"buttonMouseDown",value:function(t){this._mouseState.state=nt,t&&pn.setElementsCSS(this.elementRef,t,nt)}},{key:"setEvents",value:function(t){this.elementRef.onmousedown=this.buttonMouseDown.bind(this,t),this.elementRef.onmouseup=this.buttonMouseUp.bind(this,t),this.elementRef.onmouseenter=this.buttonMouseEnter.bind(this,t),this.elementRef.onmouseleave=this.buttonMouseLeave.bind(this,t)}},{key:"unsetCustomStateStyles",value:function(t){if(this.customStyles)for(var e=0;e<t.length;e+=1){var n=t[e],r=n&&this.customStyles[n];r&&pn.unsetActionCSS(this.elementRef,r)}}},{key:"reapplyStateStyle",value:function(t,e){if(this.customStyles){e&&this.unsetCustomStateStyles(e);var n=this.customStyles[t];n&&pn.setElementCssUpToState(this.elementRef,n,this._mouseState.state),this.setEvents(n)}}},{key:"changeElementsByState",value:function(t){var e;(e=this.elementRef).replaceChildren.apply(e,tr(t)),Ai.reassignClassBasedOnChildren(this.elementRef,t)}},{key:"buildDefaultIconElement",value:function(t){var e=this.svg.cloneNode(!0);return e.id=t,[e]}},{key:"createInnerElements",value:function(t,e,n){var r=Ai.createCustomElements(e,this.svg,n);if(r&&r.length>0){if(this.position===na){var o=this.svg.cloneNode(!0);o.id=r[0]===this.svg?t:"dropup-menu-item-icon-element-custom",r[0]=o}return r}return this.buildDefaultIconElement(t)}}])})(),tS=(function(i){function l(t){var e;z(this,l);var n,r,o=((r=(n=t?.[le])==null?void 0:n.svg)==null?void 0:r.content)||l.EMPTY_SVG;return e=ce(this,l,[se(),o,void 0,void 0,t]),e.isActive=!1,e._innerElements=e.createInnerElementsForStates(e.customStyles),e.changeToDefault(),e}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e){return C(C(C({},le,this.createInnerButtonElements(le,e)),"active",this.createInnerButtonElements("active",e)),"unavailable",this.createInnerButtonElements("unavailable",e))}},{key:"createInnerButtonElements",value:function(e,n){return Ai.createCustomElements(e,this.svg,n)||[this.svg]}},{key:"changeState",value:function(e){this.changeElementsByState(e),this.elementRef[B].replace(Ai.INPUT_BUTTON_SVG_CLASS,"deep-chat-openai-realtime-button")}},{key:"changeToActive",value:function(){this.changeState(this._innerElements.active),this.reapplyStateStyle("active",["unavailable",le]),this.isActive=!0}},{key:"changeToDefault",value:function(){var e,n,r,o;this.changeState(this._innerElements[le]),(e=this.customStyles)!=null&&e.active&&pn.unsetAllCSS(this.elementRef,(n=this.customStyles)==null?void 0:n.active),(r=this.customStyles)!=null&&r.unavailable&&pn.unsetAllCSS(this.elementRef,(o=this.customStyles)==null?void 0:o.unavailable),this.reapplyStateStyle(le,["active","unavailable"]),this.isActive=!1}},{key:"changeToUnavailable",value:function(){var e,n,r,o;this.changeState(this._innerElements.unavailable),(e=this.customStyles)!=null&&e.active&&pn.unsetAllCSS(this.elementRef,(n=this.customStyles)==null?void 0:n.active),(r=this.customStyles)!=null&&r[le]&&pn.unsetAllCSS(this.elementRef,(o=this.customStyles)==null?void 0:o[le]),this.reapplyStateStyle("unavailable",[le,"active"]),this.isActive=!1}}])})(vr);tS.EMPTY_SVG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"></svg>';var Xy=tS,Ga=(function(){function i(){z(this,i)}return P(i,null,[{key:"setPropertyValueIfDoesNotExist",value:function(t,e,n){var r,o,u=e[0];e.length===1?(r=t[u])!==null&&r!==void 0||(t[u]=n):((o=t[u])!==null&&o!==void 0||(t[u]={}),e.shift(),i.setPropertyValueIfDoesNotExist(t[u],e,n))}},{key:"setPropertyValue",value:function(t,e,n){var r,o=e[0];e.length===1?t[o]=n:((r=t[o])!==null&&r!==void 0||(t[o]={}),e.shift(),i.setPropertyValue(t[o],e,n))}},{key:"getObjectValue",value:function(t,e){var n=e[0],r=t[n];return r===void 0||e.length===1?r:i.getObjectValue(r,e.slice(1))}},{key:"overwritePropertyObjectFromAnother",value:function(t,e,n){var r=i.getObjectValue(e,n);if(r){var o=ze(ze({},r),i.getObjectValue(t,n)||{});i.setPropertyValue(t,n,o)}}},{key:"isJson",value:function(t){try{return JSON.stringify(t),!0}catch{return!1}}},{key:"assignPropertyFromOneToAnother",value:function(t,e,n){var r;(r=e[t])!==null&&r!==void 0||(e[t]={}),Object.assign(e[t],n?.[t])}}])})(),nS=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.92 24.096q0 1.088 0.928 1.728 0.512 0.288 1.088 0.288 0.448 0 0.896-0.224l16.16-8.064q0.48-0.256 0.8-0.736t0.288-1.088-0.288-1.056-0.8-0.736l-16.16-8.064q-0.448-0.224-0.896-0.224-0.544 0-1.088 0.288-0.928 0.608-0.928 1.728v16.16z"></path>
</svg>`,$h=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
<path d="M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h16.128q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-16.128q-0.832 0-1.44 0.576t-0.576 1.44v16.16z"></path>
</svg>`,Yl=(function(i){function l(t){var e,n;z(this,l);var r,o,u,f,h,p=JSON.parse(JSON.stringify(t.directConnection)),g=l.getKey(t);n=ce(this,l,[t,Es(),_s,{key:g}]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("OpenAI"),n.keyHelpUrl=Ss,n._microphoneButton=null,n._toggleButton=null,n._errorElement=null,n._loadingElement=null,n._pc=null,n._mediaStream=null,n._isMuted=!1;var y=(r=p.openAI)==null?void 0:r.realtime;if(ie(y)===Ue){n._avatarConfig=y.avatar,n._ephemeralKey=y.ephemeralKey,n._errorConfig=y[O],n._loadingConfig=y.loading,Object.assign(n.rawBody,y.config);var b=(u=(o=t.directConnection)==null?void 0:o.openAI)==null?void 0:u.realtime,E=b.config||{},S=E.function_handler;S&&(n._functionHandlerI=S),n._events=y.events,b.methods=n.generateMethods(),n.setInputAudioTranscribe(t,(f=b.config)==null?void 0:f.input_audio_transcription)}return(e=(h=n.rawBody).model)!==null&&e!==void 0||(h.model="gpt-4o-realtime-preview-2025-06-03"),n._avatarConfig=l.buildAvatarConfig(y),n._buttonsConfig=l.buildButtonsConfig(y),n._avatarEl=l.createAvatar(n._avatarConfig),n._containerEl=n.createContainer(),n._deepChat=t,n}return fe(l,i),P(l,[{key:"setInputAudioTranscribe",value:function(e,n){if(n){var r="whisper-1";ie(n)=="object"?this.rawBody.input_audio_transcription={model:n.model||r,language:n.language,prompt:n.prompt}:this.rawBody.input_audio_transcription={model:r}}else e.onMessage&&(console.warn("To get user audio transcription, set `input_audio_transcription` in the `realtime` config."),console.warn("See: ".concat(Qe,"directConnection/OpenAI/OpenAIRealtime#OpenAIRealtimeConfig")))}},{key:"setUpView",value:function(e,n){e[X].display="none",n.appendChild(this._containerEl),this.setup()}},{key:"setup",value:(function(){var t=I(k().m(function n(){var r,o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(o=(r=this._deepChat.directConnection)==null?void 0:r.openAI,o){h.n=1;break}return h.a(2);case 1:if(u=o?.realtime,!(ie(u)!="object"||!u.autoStart&&!u.autoFetchEphemeralKey)){h.n=2;break}return h.a(2);case 2:f=this.key||o.key,(u.fetchEphemeralKey||f)&&u.autoStart&&(this.changeToUnavailable(),this.displayLoading()),this.fetchEphemeralKey(u.autoStart);case 3:return h.a(2)}},n,this)}));function e(){return t.apply(this,arguments)}return e})()},{key:"fetchEphemeralKey",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.p=S.n){case 0:if(u=(o=this._deepChat.directConnection)==null?void 0:o.openAI,f=ie(u?.realtime)=="object"?u?.realtime.fetchEphemeralKey:void 0,h=u?.realtime,p=this.key||u.key,ie(h)!="object"){S.n=8;break}if(this._ephemeralKey){S.n=7;break}if(S.p=1,!f){S.n=3;break}return g=f(),g.then&&(this._retrievingEphemeralKey=g),S.n=2,g;case 2:this._ephemeralKey=S.v,S.n=5;break;case 3:if(y=p,!y){S.n=5;break}return this._retrievingEphemeralKey=this.getEphemeralKey(p),S.n=4,this._retrievingEphemeralKey;case 4:this._ephemeralKey=S.v;case 5:S.n=7;break;case 6:S.p=6,b=S.v,this.displayFailedToRetrieveEphemeralKey(b);case 7:this._ephemeralKey&&(r?this.init(this._ephemeralKey):this.changeToAvailable()),S.n=12;break;case 8:if(!p){S.n=12;break}return S.p=9,this._retrievingEphemeralKey=this.getEphemeralKey(p),S.n=10,this._retrievingEphemeralKey;case 10:this._ephemeralKey=S.v,r&&this.init(this._ephemeralKey),S.n=12;break;case 11:S.p=11,E=S.v,this.displayFailedToRetrieveEphemeralKey(E);case 12:return S.a(2)}},n,this,[[9,11],[1,6]])}));function e(n){return t.apply(this,arguments)}return e})()},{key:"getEphemeralKey",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:return o.n=1,fetch("".concat(An,"realtime/sessions"),{method:Vt,body:JSON.stringify(this.rawBody),headers:C(C({},Pe,ht),Rt,"".concat(ln).concat(r))});case 1:return o.n=2,o.v.json();case 2:return o.a(2,o.v.client_secret.value)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"generateMethods",value:function(){var e=this;return{updateConfig:function(r){var o;(o=e._dc)==null||o.send(JSON.stringify(C(C({},ke,"session.update"),"session",r)))},sendMessage:function(r,o){var u=o||"system",f=[C(C({},ke,u==="system"||u===qe?Jh:w),"text",r)],h=C(C({role:u},ke,"message"),"content",f);e.sendMessage(h)}}}},{key:"createContainer",value:function(){var e=se();return e.id="deep-chat-openai-realtime-container",e.appendChild(this.createAvatarContainer()),e.appendChild(this.createButtonsContainer()),e.appendChild(this.createError()),e}},{key:"createAvatarContainer",value:function(){var e,n,r=se();return r.id="deep-chat-openai-realtime-avatar-container",Object.assign(r[X],(n=(e=this._avatarConfig)==null?void 0:e.styles)==null?void 0:n.container),r.appendChild(this._avatarEl),r}},{key:"createButtonsContainer",value:function(){var e,n=se();n.id="deep-chat-openai-realtime-buttons-container",Object.assign(n[X],(e=this._buttonsConfig)==null?void 0:e.container),this._microphoneButton=this.createMicophoneButton();var r=l.createButtonContainer(this._microphoneButton.elementRef);this._toggleButton=this.createToggleButton();var o=l.createButtonContainer(this._toggleButton.elementRef);return n.appendChild(r),n.appendChild(o),n.appendChild(this.createLoading()),n}},{key:"createMicophoneButton",value:function(){var e=this,n,r=new Xy((n=this._buttonsConfig)==null?void 0:n[va]);return r.elementRef[B].add(l.BUTTON_DEFAULT,"deep-chat-openai-realtime-microphone"),Ke.assignButtonEvents(r.elementRef,function(){r.isActive?(e.toggleMicorphone(!0),r.elementRef[B].replace(l.MICROPHONE_ACTIVE,l.BUTTON_DEFAULT),r.changeToDefault(),e._isMuted=!1):(e.toggleMicorphone(!1),r.elementRef[B].replace(l.BUTTON_DEFAULT,l.MICROPHONE_ACTIVE),Yt.removeAriaAttributes(r.elementRef),r.changeToActive(),e._isMuted=!0)}),r}},{key:"toggleMicorphone",value:function(e){var n;(n=this._mediaStream)==null||n.getAudioTracks().forEach(function(r){return r.enabled=e})}},{key:"createToggleButton",value:function(){var e=this,n,r=new Xy((n=this._buttonsConfig)==null?void 0:n.toggle);return r.elementRef[B].add(l.BUTTON_DEFAULT,"deep-chat-openai-realtime-toggle"),Ke.assignButtonEvents(r.elementRef,I(k().m(function o(){var u,f,h,p;return k().w(function(g){for(;;)switch(g.p=g.n){case 0:if(!r.isActive){g.n=1;break}r.changeToDefault(),e.stop(),g.n=9;break;case 1:if(g.p=1,!e._ephemeralKey){g.n=3;break}return e.displayLoading(),g.n=2,e.init(e._ephemeralKey);case 2:g.n=7;break;case 3:if(!e._retrievingEphemeralKey){g.n=6;break}return e.displayLoading(),g.n=4,e._retrievingEphemeralKey;case 4:if(f=g.v,h=(u=e._toggleButton)!=null&&u.isActive,!h){g.n=5;break}return g.n=5,e.init(f);case 5:g.n=7;break;case 6:return e.displayLoading(),g.n=7,e.fetchEphemeralKey(!0);case 7:g.n=9;break;case 8:g.p=8,p=g.v,console[O]("Failed to start conversation:",p),e.displayError(),e.hideLoading();case 9:return g.a(2)}},o,null,[[1,8]])}))),r}},{key:"init",value:(function(){var t=I(k().m(function n(r){var o=this,u,f,h,p,g,y,b,E,S,A,R,L,K;return k().w(function(F){for(;;)switch(F.p=F.n){case 0:return u=new RTCPeerConnection,this._pc=u,f=se(De),f.autoplay=!0,h=new AudioContext,p=h.createAnalyser(),p.fftSize=256,g=new Uint8Array(p.frequencyBinCount),this._pc.ontrack=(function(){var ne=I(k().m(function J($){var oe,ye;return k().w(function(be){for(;;)switch(be.n){case 0:if(!$.streams[0]){be.n=2;break}if(f.srcObject=$.streams[0],oe=h.createMediaStreamSource($.streams[0]),ye=h.state==="suspended",!ye){be.n=1;break}return be.n=1,h.resume();case 1:oe.connect(p),o.monitorFrequencies(p,g),be.n=3;break;case 2:console[O]("No streams found in the ontrack event."),o.displayError();case 3:return be.a(2)}},J)}));return function(J){return ne.apply(this,arguments)}})(),F.n=1,navigator.mediaDevices.getUserMedia({audio:!0}).then(function(ne){var J;u===o._pc&&(o._mediaStream=ne,(J=o._pc)==null||J.addTrack(o._mediaStream.getTracks()[0]),o._isMuted&&o.toggleMicorphone(!1))}).catch(function(ne){console[O]("Error accessing microphone:",ne),o.displayError()});case 1:return this._dc=this._pc.createDataChannel("oai-events"),this._dc.addEventListener("message",(function(){var ne=I(k().m(function J($){var oe,ye,be,he,M,ue,ae,pe;return k().w(function(j){for(;;)switch(j.p=j.n){case 0:if(he=JSON.parse($.data),he.type!=="session.created"){j.n=1;break}o.removeUnavailable(),o._toggleButton&&(Yt.removeAriaAttributes(o._toggleButton.elementRef),o._toggleButton.changeToActive()),(ye=(oe=o._events)==null?void 0:oe.started)==null||ye.call(oe),o._deepChat.dispatchEvent(new CustomEvent(LA)),o.hideLoading(),j.n=7;break;case 1:if(he.type!=="response.done"){j.n=6;break}if(M=(be=JSON.parse($.data).response.output)==null?void 0:be[0],M?.type!==$u){j.n=5;break}return ue=M.name,ae=M.call_id,j.p=2,j.n=3,o.handleTool(ue,M.arguments,ae);case 3:j.n=5;break;case 4:j.p=4,pe=j.v,o.stopOnError(pe);case 5:j.n=7;break;case 6:he.type===O?o.stopOnError(he[O].message):he.type===la?o.stopOnError(he.message):he.type==="response.audio_transcript.delta"||(he.type==="response.audio_transcript.done"?he.transcript&&fr.onMessage(o._deepChat,C({role:vt},w,he.transcript),!1):he.type==="conversation.item.input_audio_transcription.completed"&&he.transcript&&fr.onMessage(o._deepChat,C({role:qe},w,he.transcript),!1));case 7:return j.a(2)}},J,null,[[2,4]])}));return function(J){return ne.apply(this,arguments)}})()),F.p=2,F.n=3,this._pc.createOffer();case 3:if(y=F.v,S=u!==this._pc,S){F.n=5;break}return F.n=4,this._pc.setLocalDescription(y);case 4:S=u!==this._pc;case 5:if(!S){F.n=6;break}return F.a(2);case 6:return F.n=7,fetch("".concat(An,"realtime"),{method:Vt,body:y.sdp,headers:C(C({},Rt,"".concat(ln).concat(r)),Pe,"application/sdp")});case 7:if(b=F.v,u===this._pc){F.n=8;break}return F.a(2);case 8:return A=C,R=C({},ke,"answer"),F.n=9,b[w]();case 9:if(E=A(R,"sdp",F.v),L=u!==this._pc,L){F.n=11;break}return F.n=10,this._pc.setRemoteDescription(E);case 10:L=u!==this._pc;case 11:if(!L){F.n=12;break}return F.a(2);case 12:F.n=14;break;case 13:F.p=13,K=F.v,console[O](K),this.displayError();case 14:return F.a(2)}},n,this,[[2,13]])}));function e(n){return t.apply(this,arguments)}return e})()},{key:"monitorFrequencies",value:function(e,n){var r=this,o=(function(u){function f(){return u.apply(this,arguments)}return f.toString=function(){return u.toString()},f})(function(){var u;e.getByteFrequencyData(n);var f=n.reduce(function(b,E){return b+E},0),h=n.length*255,p=f/h*100,g=1,y=g+p/100*(((u=r._avatarConfig)==null?void 0:u.maxScale)-g);r._avatarEl[X].transform="scale(".concat(y,")"),requestAnimationFrame(o)});o()}},{key:"stopOnError",value:function(e){this.stop(),console[O](e),this.displayError()}},{key:"stop",value:function(){var e,n,r;(e=this._mediaStream)==null||e.getTracks().forEach(function(o){return o.stop()}),this._mediaStream=null,this._pc&&(this._pc.close(),this._pc=null,(r=(n=this._events)==null?void 0:n.stopped)==null||r.call(n),this._deepChat.dispatchEvent(new CustomEvent(DA)),this._dc=void 0)}},{key:"changeToUnavailable",value:function(){this._microphoneButton&&l.changeButtonToUnavailable(this._microphoneButton),this._toggleButton&&l.changeButtonToUnavailable(this._toggleButton)}},{key:"changeToAvailable",value:function(){this._microphoneButton&&l.changeButtonToAvailable(this._microphoneButton),this._toggleButton&&l.changeButtonToAvailable(this._toggleButton)}},{key:"removeUnavailable",value:function(){this._microphoneButton&&l.removeButtonUnavailable(this._microphoneButton),this._toggleButton&&l.removeButtonUnavailable(this._toggleButton)}},{key:"createError",value:function(){var e,n=se();return n.id="deep-chat-openai-realtime-error",Object.assign(n[X],(e=this._errorConfig)==null?void 0:e[X]),this._errorElement=n,n}},{key:"displayFailedToRetrieveEphemeralKey",value:function(e){console[O]("Failed to retrieve ephemeral key"),console[O](e),this.displayError()}},{key:"displayError",value:function(){var e;this._errorElement&&(this._errorElement[X].display="block",this._errorElement.textContent=((e=this._errorConfig)==null?void 0:e[w])||"Error",this.changeToUnavailable()),this.hideLoading()}},{key:"createLoading",value:function(){var e,n,r=se();return r.id="deep-chat-openai-realtime-loading",this._loadingElement=r,(e=this._loadingConfig)!=null&&e[Me]&&(this._loadingElement.innerHTML=this._loadingConfig[Me]),Object.assign(r[X],(n=this._loadingConfig)==null?void 0:n[X]),r[X].display="none",r}},{key:"displayLoading",value:function(){var e,n,r;this._toggleButton&&(this._toggleButton.changeToActive(),this._toggleButton.elementRef[B].add(l.BUTTON_LOADING),Yt.removeAriaDisabled(this._toggleButton.elementRef),Yt.addAriaBusy(this._toggleButton.elementRef)),(typeof((e=this._loadingConfig)==null?void 0:e.display)!="boolean"||this._loadingConfig.display)&&this._loadingElement&&(this._loadingElement[X].display="block",(n=this._loadingConfig)!=null&&n[Me]||(this._loadingElement.textContent=((r=this._loadingConfig)==null?void 0:r[w])||"Loading"))}},{key:"hideLoading",value:function(){this._toggleButton&&(this._toggleButton.elementRef[B].remove(l.BUTTON_LOADING),Yt.removeAriaBusy(this._toggleButton.elementRef)),this._loadingElement&&(this._loadingElement[X].display="none")}},{key:"handleTool",value:(function(){var t=I(k().m(function n(r,o,u){var f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(this._functionHandlerI){p.n=1;break}throw Error(Ri);case 1:return p.n=2,this._functionHandlerI({name:r,arguments:o});case 2:if(f=p.v,!(ie(f)!="object"||!Ga.isJson(f))){p.n=3;break}throw Error('The `function_handler` response must be a JSON object, e.g. {response: "My response"}');case 3:h=C(C(C({},ke,Jb),"call_id",u),"output",JSON.stringify(f)),this.sendMessage(h);case 4:return p.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"sendMessage",value:function(e){if(this._dc){var n=JSON.stringify(C(C({},ke,"conversation.item.create"),"item",e));this._dc.send(n);var r=C({},ke,"response.create");this._dc.send(JSON.stringify(r))}}},{key:"isCustomView",value:function(){return!0}}],[{key:"getKey",value:function(e){var n=e.directConnection.openAI;if(n!=null&&n.key)return n.key;var r=n?.realtime;if(ie(r)=="object"&&(r.ephemeralKey||r.fetchEphemeralKey))return"placeholder"}},{key:"buildAvatarConfig",value:function(e){var n=ie(e)=="object"&&e.avatar?JSON.parse(JSON.stringify(e.avatar)):{};return n.maxScale=n.maxScale&&n.maxScale>=1?n.maxScale:2.5,n}},{key:"buildButtonsConfig",value:function(e){var n,r,o,u,f,h,p,g,y,b,E,S,A,R,L,K,F,ne,J,$,oe,ye,be,he,M,ue,ae=ie(e)=="object"&&e.buttons?JSON.parse(JSON.stringify(e.buttons)):{};return(R=(A=(S=ae[va])==null?void 0:S[le])==null?void 0:A[w])!=null&&R.content||((n=ae[va])!==null&&n!==void 0||(ae[va]={}),(r=(L=ae[va])[le])!==null&&r!==void 0||(L[le]={}),(o=(K=ae[va][le]).svg)!==null&&o!==void 0||(K.svg={}),(u=(F=ae[va][le].svg).content)!==null&&u!==void 0||(F.content=eS)),($=(J=(ne=ae.toggle)==null?void 0:ne[le])==null?void 0:J[w])!=null&&$.content||((f=ae.toggle)!==null&&f!==void 0||(ae.toggle={}),(h=(oe=ae.toggle)[le])!==null&&h!==void 0||(oe[le]={}),(p=(ye=ae.toggle[le]).svg)!==null&&p!==void 0||(ye.svg={}),(g=(be=ae.toggle[le].svg).content)!==null&&g!==void 0||(be.content=nS),(y=(he=ae.toggle).active)!==null&&y!==void 0||(he.active={}),(b=(M=ae.toggle.active).svg)!==null&&b!==void 0||(M.svg={}),(E=(ue=ae.toggle.active.svg).content)!==null&&E!==void 0||(ue.content=$h)),ae}},{key:"createAvatar",value:function(e){var n,r=se("img");return r.id="deep-chat-openai-realtime-avatar",Object.assign(r[X],(n=e?.styles)==null?void 0:n[Ye]),r[de]=e?.[de]||Fh,r}},{key:"createButtonContainer",value:function(e){var n=se();return n[B].add("deep-chat-openai-realtime-button-container"),n.appendChild(e),n}},{key:"changeButtonToUnavailable",value:function(e){e.elementRef[B].add(l.UNAVAILABLE),Yt.removeAriaBusy(e.elementRef),Yt.addAriaDisabled(e.elementRef),e.changeToUnavailable()}},{key:"changeButtonToAvailable",value:function(e){l.removeButtonUnavailable(e),e.changeToDefault()}},{key:"removeButtonUnavailable",value:function(e){Yt.removeAriaDisabled(e.elementRef),e.elementRef[B].remove(l.UNAVAILABLE)}}])})(we);Yl.BUTTON_DEFAULT="deep-chat-openai-realtime-button-default",Yl.BUTTON_LOADING="deep-chat-openai-realtime-button-loading",Yl.MICROPHONE_ACTIVE="deep-chat-openai-realtime-microphone-active",Yl.UNAVAILABLE="deep-chat-openai-realtime-button-unavailable";var UA=Yl,Zh=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)),p=h?.openAI;r=ce(this,l,[t,Es(),_s,p]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("OpenAI"),r.keyHelpUrl=Ss,r.url="".concat(An,"audio/speech"),r.permittedErrorPrefixes=[Oi];var g=(o=h?.openAI)==null?void 0:o.textToSpeech;return ie(g)===Ue&&Object.assign(r.rawBody,g),(e=(u=r.rawBody).model)!==null&&e!==void 0||(u.model=l.DEFAULT_MODEL),(n=(f=r.rawBody).voice)!==null&&n!==void 0||(f.voice=l.DEFAULT_VOIDE),r.textInputPlaceholderText="Insert text to generate audio",r.rawBody.response_format="mp3",r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r,o,u=JSON.parse(JSON.stringify(e)),f=(o=(r=n[n.length-1])==null?void 0:r[w])==null?void 0:o.trim();return f&&f!==""&&(u.input=f),u}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.url=this.connectSettings.url||this.url,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this));case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!(r instanceof Blob)){o.n=1;break}return o.a(2,new Promise(function(u){var f=new FileReader;f.readAsDataURL(r),f.onload=function(h){u(C({},H,[C(C({},de,h.target.result),ke,De)]))}}));case 1:if(!r[O]){o.n=2;break}throw r[O].message;case 2:return o.a(2,C({},O,O))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we);Zh.DEFAULT_MODEL="tts-1",Zh.DEFAULT_VOIDE="alloy";var zA=Zh,nc=(function(i){function l(t){var e,n;z(this,l);var r,o,u=JSON.parse(JSON.stringify(t.directConnection)),f=u?.openAI;n=ce(this,l,[t,Es(),_s,f,{audio:{}}]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("OpenAI"),n.keyHelpUrl=Ss,n.url="",n.permittedErrorPrefixes=[Oi],n.textInputPlaceholderText=ym,n._service_url=l.AUDIO_TRANSCRIPTIONS_URL;var h=(r=u?.openAI)==null?void 0:r[De];return ie(h)=="object"&&(n.processConfig(h),l.cleanConfig(h),Object.assign(n.rawBody,h)),(e=(o=n.rawBody).model)!==null&&e!==void 0||(o.model=l.DEFAULT_MODEL),n.rawBody.response_format="json",n.canSendMessage=l.canSendFileMessage,n}return fe(l,i),P(l,[{key:"processConfig",value:function(e){e!=null&&e.type&&e.type==="translation"&&(this._service_url=l.AUDIO_TRANSLATIONS_URL,delete e.language)}},{key:"preprocessBody",value:function(e,n){var r,o,u=JSON.parse(JSON.stringify(e)),f=(o=(r=n[n.length-1])==null?void 0:r[w])==null?void 0:o.trim();return f&&f!==""&&(u.prompt=f),u}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p;return k().w(function(g){for(;;)switch(g.n){case 0:if((f=this.connectSettings)!=null&&f.headers){g.n=1;break}throw new Error(gn);case 1:if(u!=null&&u[0]){g.n=2;break}throw new Error(Ac);case 2:this.url=this.connectSettings.url||this._service_url,h=this.preprocessBody(this.rawBody,o),p=l.createFormDataBody(h,u[0]),Be.tempRemoveContentHeader(this.connectSettings,$t.request.bind(this,this,p,r),!1);case 3:return g.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r[O]){o.n=1;break}throw r[O].message;case 1:return o.a(2,C({},w,r[w]))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"canSendFileMessage",value:function(e,n){return!!(n!=null&&n[0])}},{key:"cleanConfig",value:function(e){delete e.type}},{key:"createFormDataBody",value:function(e,n){var r=new FormData;return r.append(_t,n),Object.keys(e).forEach(function(o){r.append(o,String(e[o]))}),r}}])})(we);nc.AUDIO_TRANSCRIPTIONS_URL="".concat(An,"audio/transcriptions"),nc.AUDIO_TRANSLATIONS_URL="".concat(An,"audio/translations"),nc.DEFAULT_MODEL="whisper-1";var PA=nc,ks="Ocp-Apim-Subscription-Key",aS="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",HA=function(l,t){return C(C(C({},ks,t),Pe,"application/ssml+xml"),"X-Microsoft-OutputFormat",l)},jA=function(l){return C(C({},ks,l),"Accept",ht)},FA=function(l,t,e,n){l[O]?n(xt):e(t)},qA=function(l){return{url:"https://".concat(l,".api.cognitive.microsoft.com/sts/v1.0/issuetoken"),method:Vt,createHeaders:function(e){return C({},ks,"".concat(e))},handleVerificationResult:FA}},GA=function(l){return C(C({},ks,l),Pe,ht)},VA=function(l,t,e,n){var r;((r=l[O])==null?void 0:r.code)==="401"?n(xt):e(t)},KA=function(l){return{url:"".concat(l,"/language/analyze-text/jobs?api-version=2022-10-01-preview"),method:Vt,createHeaders:function(e){return C({},ks,"".concat(e))},handleVerificationResult:VA}},JA=function(l,t,e,n){l.json().then(function(r){!Array.isArray(r)&&r[O].code===401e3?n(xt):e(t)})},YA=function(l){return{url:"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=es",method:Vt,createHeaders:function(e){return iS(l,e)},handleVerificationResult:JA}},iS=function(l,t){var e=C(C({},ks,t),Pe,ht);return l&&(e["Ocp-Apim-Subscription-Region"]=l),e},XA=(function(i){function l(t,e,n,r,o){var u;return z(this,l),u=ce(this,l,[t,KA(n),e,r,o]),u.insertKeyPlaceholderText="Azure Language Subscription Key",u.keyHelpUrl=aS,u.permittedErrorPrefixes=["Access"],u}return fe(l,i),P(l)})(we),rS=(function(i){function l(t){var e,n;z(this,l);var r,o,u,f,h=(o=(r=t.directConnection)==null?void 0:r.azure)==null?void 0:o.summarization,p=(u=t.directConnection)==null?void 0:u.azure;return n=ce(this,l,[t,GA,h.endpoint,p]),n.permittedErrorPrefixes=[l.ENDPOINT_ERROR_MESSAGE],n.url="",n.textInputPlaceholderText="Insert text to summarize",n.isTextInputDisabled=!1,h.endpoint?((e=(f=n.rawBody).language)!==null&&e!==void 0||(f.language="en"),Object.assign(n.rawBody,h),n.url="".concat(h.endpoint,"/language/analyze-text/jobs?api-version=2022-10-01-preview")):(n.isTextInputDisabled=!0,n.canSendMessage=function(){return!1},setTimeout(function(){t.addMessage(C({},O,l.ENDPOINT_ERROR_MESSAGE))})),n}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=n[n.length-1][w];if(r)return{analysisInput:{documents:[C({id:"1",language:e.language},w,r)]},tasks:[{kind:"ExtractiveSummarization"}]}}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)),this.messages=r;case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(!r[O]){h.n=1;break}throw r[O].message;case 1:return this.messages&&this.completionsHandlers&&(this.asyncCallInProgress=!0,u=r.headers.get("operation-location"),f={method:Ot,headers:(o=this.connectSettings)==null?void 0:o.headers},$t.executePollRequest(this,u,f,this.messages)),h.a(2,C({},w,""))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"extractPollResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(!r[O]){p.n=1;break}throw r[O];case 1:if(!(r.status==="running"||r.status==="notStarted")){p.n=2;break}return p.a(2,{timeoutMS:2e3});case 2:if(!(r.errors.length>0)){p.n=3;break}throw r.errors[0];case 3:if(!(r.tasks.items[0].results.errors.length>0)){p.n=4;break}throw r.tasks.items[0].results.errors[0];case 4:o="",u=ro(r.tasks.items[0].results.documents[0].sentences);try{for(u.s();!(f=u.n()).done;)h=f.value,o+=h[w]}catch(g){u.e(g)}finally{u.f()}return p.a(2,C({},w,o||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(XA);rS.ENDPOINT_ERROR_MESSAGE="Please define the azure endpoint. [More Information](".concat(Qe,"directConnection/Azure#Summarization)");var $A=rS,ZA=(function(){var i=I(k().m(function l(t,e){var n,r,o,u,f;return k().w(function(h){for(;;)switch(h.n){case 0:return n=C(C({},l3,t),o3,ht),f="https://api.assemblyai.com/v2/transcript/",h.n=1,fetch("https://api.assemblyai.com/v2/transcript",{method:Vt,body:JSON.stringify({audio_url:e}),headers:n});case 1:return h.n=2,h.v.json();case 2:r=f.concat.call(f,h.v.id);case 3:if(o){h.n=9;break}return h.n=4,fetch(r,{headers:n});case 4:return h.n=5,h.v.json();case 5:if(u=h.v,u.status!==gm){h.n=6;break}o=u,h.n=8;break;case 6:if(u.status!==O){h.n=7;break}throw new Error("Transcription failed: ".concat(u[O]));case 7:return h.n=8,new Promise(function(p){return setTimeout(p,3e3)});case 8:h.n=3;break;case 9:return h.a(2,o)}},l)}));return function(t,e){return i.apply(this,arguments)}})(),QA=function(l){return C(C({},Rt,l),Pe,"application/octet-stream")},WA=function(l,t,e,n){var r=l;r[O]?r[O].code==="invalid_api_key"?n(xt):n(qn):e(t)},e4=function(){return Ut("https://api.assemblyai.com/v2/upload",Vt,WA)},t4=(function(i){function l(t){var e;z(this,l);var n,r=(n=t.directConnection)==null?void 0:n.assemblyAI;return e=ce(this,l,[t,e4(),QA,r,{audio:{}}]),e.insertKeyPlaceholderText=e.genereteAPIKeyName("AssemblyAI"),e.keyHelpUrl="https://www.assemblyai.com/app/account",e.url="https://api.assemblyai.com/v2/upload",e.isTextInputDisabled=!0,e.textInputPlaceholderText=ym,e.permittedErrorPrefixes=[wb,Oi],e.canSendMessage=l.canFileSendMessage,e}return fe(l,i),P(l,[{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f;return k().w(function(h){for(;;)switch(h.n){case 0:if((f=this.connectSettings)!=null&&f.headers){h.n=1;break}throw new Error(gn);case 1:if(u!=null&&u[0]){h.n=2;break}throw new Error(Ac);case 2:$t.request(this,u[0],r,!1);case 3:return h.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(!r[O]){p.n=1;break}throw r[O];case 1:return f=(u=(o=this.connectSettings)==null?void 0:o.headers)==null?void 0:u[Rt],p.n=2,ZA(f,r.upload_url);case 2:return h=p.v,p.a(2,C({},w,h[w]))}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,n){return!!(n!=null&&n[0])}}])})(we),fc=(function(i){function l(t,e,n,r,o){var u,f,h;z(this,l);var p,g,y=JSON.parse(JSON.stringify(t.directConnection)),b=e||Es(),E=n||_s,S=r||y.openAI;h=ce(this,l,[t,b,E,S]),h.insertKeyPlaceholderText=h.genereteAPIKeyName("OpenAI"),h.keyHelpUrl="https://platform.openai.com/account/api-keys",h.permittedErrorPrefixes=[vo,"Invalid value"];var A=o||((p=y.openAI)==null?void 0:p.chat);return ie(A)===Ue&&h.processConfig(A,t),(u=h.maxMessages)!==null&&u!==void 0||(h.maxMessages=-1),(f=(g=h.rawBody).model)!==null&&f!==void 0||(g.model="gpt-4o"),h}return fe(l,i),P(l,[{key:"processConfig",value:function(e,n){var r,o,u;this.completeConfig(e,(u=(o=(r=n.directConnection)==null?void 0:r.openAI)==null?void 0:o.chat)==null?void 0:u.function_handler)}}],[{key:"getBaseFileContent",value:function(e){return e.map(function(n){var r,o,u;if(n.type===De){var f=(r=n[de])==null?void 0:r.split(",")[1],h=((u=(o=n.name)==null?void 0:o.split(".").pop())==null?void 0:u.toLowerCase())||"wav";return C(C({},ke,nr),nr,{data:f,format:h})}return n})}},{key:"getBaseContent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n&&e[H]&&e[H].length>0){var r=this.getBaseFileContent(e[H]);return e[w]&&e[w].trim().length>0&&r.unshift(C(C({},ke,w),w,e[w])),r}return e[w]}}])})(we),n4=(function(i){function l(){var t;return z(this,l),t=ce(this,l,arguments),t.url="".concat(An,"chat/completions"),t}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getContent(u),role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(!r[O]){S.n=1;break}throw r[O].message;case 1:if(!((f=(u=r.choices)==null?void 0:u[0])!=null&&f.delta)){S.n=2;break}return S.a(2,this.extractStreamResult(r.choices[0],o));case 2:if(!((p=(h=r.choices)==null?void 0:h[0])!=null&&p.message)){S.n=5;break}if(!r.choices[0].message.tool_calls){S.n=3;break}return S.a(2,this.handleToolsGeneric(r.choices[0].message,this.functionHandler,this.messages,o));case 3:if(!((g=r.choices[0].message)!=null&&g[De])){S.n=4;break}return b=this.deepChat.textToSpeech,E=ie(b)=="object"&&typeof((y=b?.[De])==null?void 0:y.displayText)=="boolean",S.a(2,C(C({},H,[C(C({},de,"data:audio/wav;base64,".concat(r.choices[0].message[De].data)),ke,De)]),w,E?r.choices[0].message[De].transcript:void 0));case 4:return S.a(2,C({},w,r.choices[0].message.content));case 5:return S.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.extractStreamResultWToolsGeneric(this,r,this.functionHandler,o))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getFileContent",value:function(e){return fc.getBaseFileContent(e).map(function(n){return n.type===nr?n:C(C({},ke,wn),wn,{url:n[de]})})}},{key:"getContent",value:function(e){if(e[H]&&e[H].length>0){var n=l.getFileContent(e[H]);return e[w]&&e[w].trim().length>0&&n.unshift(C(C({},ke,w),w,e[w])),n}return e[w]}}])})(fc),sS=(function(i){function l(t,e,n,r,o){var u;return z(this,l),u=ce(this,l,[t,qA(n),e,r,o]),u.insertKeyPlaceholderText="Azure Speech Subscription Key",u.keyHelpUrl=aS,u}return fe(l,i),P(l)})(we);sS.REGION_ERROR_PREFIX="Please define a region config property. [More Information](".concat(Qe,"directConnection/Azure#");var Ic=sS,lS=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g,y,b=(f=(u=t.directConnection)==null?void 0:u.azure)==null?void 0:f.textToSpeech,E=(h=t.directConnection)==null?void 0:h.azure;return o=ce(this,l,[t,HA.bind({},b?.outputFormat||"audio-16khz-128kbitrate-mono-mp3"),b.region,E]),o.permittedErrorPrefixes=[l.REGION_ERROR_MESSAGE],o.isTextInputDisabled=!1,o.url="",b.region?(Object.assign(o.rawBody,b),(e=(p=o.rawBody).lang)!==null&&e!==void 0||(p.lang="en-US"),(n=(g=o.rawBody).name)!==null&&n!==void 0||(g.name="en-US-JennyNeural"),(r=(y=o.rawBody).gender)!==null&&r!==void 0||(y.gender="Female"),o.url="https://".concat(b.region,".tts.speech.microsoft.com/cognitiveservices/v1")):(o.isTextInputDisabled=!0,o.canSendMessage=function(){return!1},setTimeout(function(){t.addMessage(C({},O,l.REGION_ERROR_MESSAGE))})),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=n[n.length-1][w];if(r)return"<speak version='1.0' xml:lang='".concat(e.lang,`'>
      <voice xml:lang='`).concat(e.lang,"' xml:gender='").concat(e.gender,"' name='").concat(e.name,`'>
        `).concat(r,`
      </voice>
    </speak>`)}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),void 0,!1);case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)if(o.n===0)return o.a(2,new Promise(function(u){var f=new FileReader;f.readAsDataURL(r),f.onload=function(h){u(C({},H,[C(C({},de,h.target.result),ke,De)]))}}))},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(Ic);lS.REGION_ERROR_MESSAGE="".concat(Ic.REGION_ERROR_PREFIX,"TextToSpeech)");var a4=lS,oS=(function(i){function l(t){var e;z(this,l);var n,r,o,u=(r=(n=t.directConnection)==null?void 0:n.azure)==null?void 0:r.speechToText,f=(o=t.directConnection)==null?void 0:o.azure,h={audio:C({},H,{acceptedFormats:".wav,.ogg"})};if(e=ce(this,l,[t,jA,u.region,f,h]),e.permittedErrorPrefixes=[l.REGION_ERROR_MESSAGE],e.url="",e.isTextInputDisabled=!0,e.textInputPlaceholderText=ym,!u.region)e.isTextInputDisabled=!0,e.canSendMessage=function(){return!1},setTimeout(function(){t.addMessage(C({},O,l.REGION_ERROR_MESSAGE))});else{e.canSendMessage=l.canFileSendMessage;var p=u.lang||"en-US";e.url="https://".concat(u.region,".stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=").concat(p,"&format=detailed"),e.recordAudio=void 0}return e}return fe(l,i),P(l,[{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if((f=this.connectSettings)!=null&&f.headers){p.n=1;break}throw new Error(gn);case 1:if(u!=null&&u[0]){p.n=2;break}throw new Error(Ac);case 2:(h=this.connectSettings)!=null&&h.headers&&(this.connectSettings.headers[Pe]=u[0].name.toLocaleLowerCase().endsWith(".wav")?"audio/wav; codecs=audio/pcm; samplerate=16000":"audio/ogg; codecs=opus"),$t.request(this,u[0],r,!1);case 3:return p.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r[O]){o.n=1;break}throw r[O];case 1:return o.a(2,C({},w,r.DisplayText||""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,n){return!!(n!=null&&n[0])}}])})(Ic);oS.REGION_ERROR_MESSAGE="".concat(Ic.REGION_ERROR_PREFIX,"SpeechToText)");var i4=oS,r4=(function(i){function l(t){var e;z(this,l);var n,r,o,u=(r=(n=t.directConnection)==null?void 0:n.azure)==null?void 0:r.translation,f=(o=t.directConnection)==null?void 0:o.azure;return e=ce(this,l,[t,YA(u.region),iS.bind({},u?.region),f]),e.insertKeyPlaceholderText="Azure Translate Subscription Key",e.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",e.url="",e.url="https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=".concat(u.language||"es"),e}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e){var n=e[e.length-1][w];if(n)return[{Text:n}]}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this));case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!Array.isArray(r)){u.n=1;break}return u.a(2,C({},w,((o=r[0].translations)==null?void 0:o[0][w])||""));case 1:throw r[O];case 2:return u.a(2)}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),s4=(function(i){function l(t){var e,n;z(this,l);var r,o,u=JSON.parse(JSON.stringify(t.directConnection)),f=u.bigModel;n=ce(this,l,[t,Mm(),Am,f]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("BigModel"),n.keyHelpUrl="https://open.bigmodel.cn/usercenter/apikeys",n.url="https://open.bigmodel.cn/api/paas/v4/images/generations",n.permittedErrorPrefixes=[Rt,on];var h=(r=u.bigModel)==null?void 0:r[ot];return ie(h)===Ue&&(n.cleanConfig(h),Object.assign(n.rawBody,h)),(e=(o=n.rawBody).model)!==null&&e!==void 0||(o.model="cogview-4-250304"),n}return fe(l,i),P(l,[{key:"cleanConfig",value:function(e){delete e.key}},{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n[n.length-1];return r.prompt=o?.[w]||"",r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)if(u.n===0)return o=r.data.map(function(f){return f!=null&&f.url?C(C({},de,f.url),ke,Ye):C(C({},de,""),ke,Ye)}),u.a(2,C({},H,o))},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),uS=function(l){return C(C({},Pe,ht),Rt,"".concat(ln).concat(l))},l4=function(l,t,e,n){var r=l;r[O]?r[O].message===pm?n(xt):n(qn):e(t)},cS=function(){return Ut("https://api.groq.com/openai/v1/models",Ot,l4)},o4=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)),y=g.groq;o=ce(this,l,[t,cS(),uS,y]),o.insertKeyPlaceholderText=o.genereteAPIKeyName("Groq"),o.keyHelpUrl="https://console.groq.com/keys",o.url="https://api.groq.com/openai/v1/audio/speech",o.permittedErrorPrefixes=[Oi,"property"];var b=(u=g.groq)==null?void 0:u.textToSpeech;return ie(b)===Ue&&o.completeConfig(b),(e=(f=o.rawBody).model)!==null&&e!==void 0||(f.model="playai-tts"),(n=(h=o.rawBody).voice)!==null&&n!==void 0||(h.voice="Fritz-PlayAI"),(r=(p=o.rawBody).response_format)!==null&&r!==void 0||(p.response_format="mp3"),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n[n.length-1];return r.input=o?.[w]||"",r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f;return k().w(function(h){for(;;)if(h.n===0)return o=this.rawBody.response_format||"mp3",u=new Blob([r],C({},ke,"audio/".concat(o))),f=URL.createObjectURL(u),h.a(2,C({},H,[C(C({},de,f),ke,De)]))},n,this)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),u4=(function(i){function l(t){var e,n;z(this,l);var r,o,u=JSON.parse(JSON.stringify(t.directConnection)),f=u.together;n=ce(this,l,[t,Om(),Rm,f]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("Together AI"),n.keyHelpUrl="https://api.together.xyz/settings/api-keys",n.url="https://api.together.xyz/v1/images/generations",n.permittedErrorPrefixes=[la,on];var h=(r=u.together)==null?void 0:r[ot];return ie(h)===Ue&&n.completeConfig(h),(e=(o=n.rawBody).model)!==null&&e!==void 0||(o.model="black-forest-labs/FLUX.1-schnell-Free"),n}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n[n.length-1];return r.prompt=o?.[w]||"",r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this)))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)if(u.n===0)return o=r.data.map(function(f){return f!=null&&f.url?C(C({},de,f.url),ke,Ye):f!=null&&f.b64_json?C(C({},de,"data:image/png;base64,".concat(f.b64_json)),ke,Ye):C(C({},de,""),ke,Ye)}),u.a(2,C({},H,o))},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),fS=(function(i){function l(t,e,n,r,o){var u;z(this,l);var f,h;u=ce(this,l,[t,e,n,r,o]),u.keyHelpUrl=Ss,u.url="".concat(An,"responses"),u._functionStreamInProgress=!1,u._useConversation=!1,u._conversationLoadLimit=50;var p=o||((h=(f=t.directConnection)==null?void 0:f.openAI)==null?void 0:h.chat);return ie(p)===Ue&&p!==!0&&p&&(p.conversation&&(u._useConversation=!0,typeof p.conversation=="string"&&(u._conversationId=p.conversation)),typeof p.conversationLoadLimit=="number"&&(u._conversationLoadLimit=p.conversationLoadLimit),u.cleanConfig(p)),u._conversationId&&(u.fetchHistory=u.fetchHistoryFunc.bind(u)),u}return fe(l,i),P(l,[{key:"processConfig",value:function(e,n){Nw(l,"processConfig",this)([e,n])}},{key:"cleanConfig",value:function(e){delete e.conversation,delete e.conversationLoadLimit}},{key:"fetchHistoryFunc",value:(function(){var t=I(k().m(function n(){var r=this,o,u;return k().w(function(f){for(;;)switch(f.p=f.n){case 0:return setTimeout(function(){return r.deepChat.disableSubmitButton()},2),f.p=1,o=this.url,this.url="".concat(An,"conversations/").concat(this._conversationId,"/items?limit=").concat(this._conversationLoadLimit),f.n=2,Ci(this,{},Ot);case 2:return u=f.v,f.a(2,(this.connectSettings.method=Vt,this.url=o,this.deepChat.disableSubmitButton(!1),this.processConversationHistory(u)));case 3:return f.p=3,f.v,f.a(2,(this.deepChat.disableSubmitButton(!1),[C({},O,yb)]))}},n,this,[[1,3]])}));function e(){return t.apply(this,arguments)}return e})()},{key:"processConversationHistory",value:function(e){if(!e.data||!Array.isArray(e.data))return[];var n=[],r=ro(l.filterCompleted(e.data.reverse())),o;try{for(r.s();!(o=r.n()).done;){var u=o.value;if(u.type==="message"&&u.content&&Array.isArray(u.content)){var f=ro(u.content),h;try{for(f.s();!(h=f.n()).done;){var p=h.value;(p.type===Jh||p.type===Yy)&&p[w]?n.push(C({role:u.role},w,p[w])):p.type===Jy&&n.push(C({role:u.role},H,l.generateImageFile(p[wn]||"")))}}catch(g){f.e(g)}finally{f.f()}}else u.type===kh&&n.push(C({role:vt},H,l.generateImageFile(u.result)))}}catch(g){r.e(g)}finally{r.f()}return n}},{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e));n=this.processMessages(n),n=this._useConversation?[n[n.length-1]]:n;var o=n.map(function(u){return{content:l.getContent(u),role:we.getRoleViaUser(u.role)}});return r.input=o,this._conversationId&&(r.conversation=this._conversationId),r}},{key:"createConversation",value:(function(){var t=I(k().m(function n(){var r,o,u;return k().w(function(f){for(;;)switch(f.p=f.n){case 0:return f.p=0,r=this.url,this.url="".concat(An,"conversations"),f.n=1,Ci(this,{},Vt);case 1:return o=f.v,f.a(2,(this.url=r,o.id));case 2:throw f.p=2,u=f.v,console[O]("Failed to create conversation:",u),u;case 3:return f.a(2)}},n,this,[[0,2]])}));function e(){return t.apply(this,arguments)}return e})()},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if((u=this.messages)!==null&&u!==void 0||(this.messages=r),f=this._useConversation&&!this._conversationId,!f){h.n=2;break}return h.n=1,this.createConversation();case 1:this._conversationId=h.v;case 2:this._conversationId&&this.updateSessionId(this._conversationId),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 3:return h.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:return f.n=1,this.extractResult(r,o);case 1:return u=f.v,f.a(2,(this._conversationId&&(u._sessionId=this._conversationId),u))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResult",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(!r[O]){S.n=1;break}throw r[O].message;case 1:if(!r.status){S.n=5;break}if(g=l.filterCompleted(r.output),!(g.length>0)){S.n=4;break}return y=(h=(f=(u=g.find(function(A){var R,L;return typeof((L=(R=A.content)==null?void 0:R[0])==null?void 0:L[w])=="string"}))==null?void 0:u.content)==null?void 0:f[0])==null?void 0:h[w],S.n=2,this.handleResponsesFunctionCalls(g,o,y);case 2:if(b=S.v,!b){S.n=3;break}return S.a(2,b);case 3:return E=this.handleFileGenerationResponse(g,y),S.a(2,E||C({},w,y));case 4:return S.a(2,C({},w,""));case 5:return S.a(2,((p=r.item)==null?void 0:p.type)===$u&&r.type?this.handleStreamedResponsesFunctionCall(r,o):r.type==="".concat(_l,".").concat(kh,".partial_image")&&r.partial_image_b64?C({},H,[C(C({},de,"".concat(l.IMAGE_BASE64_PREFIX).concat(r.partial_image_b64)),ke,Ye)]):r.delta&&!this._functionStreamInProgress&&r.type==="".concat(_l,".").concat(Yy,".delta")?C({},w,r.delta):C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleStreamedResponsesFunctionCall",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:if(r.type!=="".concat(_l,".output_item.done")){f.n=2;break}if(this._functionStreamInProgress=!1,((u=r.item)==null?void 0:u.type)!==$u){f.n=1;break}return f.a(2,this.handleResponsesFunctionCalls([r.item],o));case 1:f.n=3;break;case 2:r.type==="".concat(_l,".output_item.added")&&(this._functionStreamInProgress=!0);case 3:return f.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleFileGenerationResponse",value:function(e,n){var r=e.find(function(o){return o.type===kh});return r?C(C({},H,l.generateImageFile(r.result)),w,n):null}},{key:"handleResponsesFunctionCalls",value:(function(){var t=I(k().m(function n(r,o,u){var f,h,p,g,y,b;return k().w(function(E){for(;;)switch(E.n){case 0:if(f=r.filter(function(S){return S.type===$u}),f.length!==0){E.n=1;break}return E.a(2,null);case 1:if(!(!o||!this.functionHandler)){E.n=2;break}throw Error(Ri);case 2:return h=f.map(function(S){return{name:S.name,arguments:S.arguments}}),E.n=3,this.callToolFunction(this.functionHandler,h);case 3:if(p=E.v,g=p.responses,y=p.processedResponse,!y){E.n=4;break}return E.a(2,y);case 4:if(b=JSON.parse(JSON.stringify(o)),!(b.input&&(f.forEach(function(S){return b.input.push(S)}),!g.find(function(S){var A=S.response;return typeof A!="string"})&&h.length===g.length))){E.n=5;break}return E.a(2,(g.forEach(function(S,A){var R=f[A];b.input.push({type:Jb,call_id:R.call_id,output:S[_l]})}),this.makeAnotherRequest(b,this.messages,u)));case 5:throw Error(ur);case 6:return E.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()}],[{key:"getFileContent",value:function(e){return fc.getBaseFileContent(e).map(function(n){return n.type===nr?n:C(C({detail:"auto"},ke,Jy),wn,n[de])})}},{key:"getContent",value:function(e){if(e.role===qe&&e[H]&&e[H].length>0){var n=l.getFileContent(e[H]);return e[w]&&e[w].trim().length>0&&n.unshift(C(C({},ke,Jh),w,e[w])),n}return e[w]}},{key:"filterCompleted",value:function(e){return e?.filter(function(n){return n.status===gm})||[]}},{key:"generateImageFile",value:function(e){return[C(C({},de,"".concat(l.IMAGE_BASE64_PREFIX).concat(e)),ke,Ye)]}}])})(fc);fS.IMAGE_BASE64_PREFIX="data:image/png;base64,";var dS=fS,c4=(function(i){function l(t){var e;z(this,l);var n,r,o,u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)),y=g.azure,b=((r=(n=g.azure)==null?void 0:n.openAI)==null?void 0:r.urlDetails)||{},E=(u=(o=g.azure)==null?void 0:o.openAI)==null?void 0:u.chat;if(e=ce(this,l,[t,Qb(b),Zb,y,E]),e.permittedErrorPrefixes=[cc],e.isTextInputDisabled=!1,ie(E)===Ue){var S=(p=(h=(f=t.directConnection)==null?void 0:f.azure)==null?void 0:h.openAI)==null?void 0:p.chat,A=S.function_handler;A&&(e.functionHandler=A)}return Wb(b)?e.url=l.buildURL(b):(e.isTextInputDisabled=!0,e.canSendMessage=function(){return!1},setTimeout(function(){t.addMessage(C({},O,cc))})),e}return fe(l,i),P(l,null,[{key:"buildURL",value:function(e){var n=e.endpoint,r=e.deploymentId,o=e.version;return"".concat(n,"/openai/deployments/").concat(r,"/chat/completions?api-version=").concat(o)}}])})(dS),f4=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)),y=g.bigModel;r=ce(this,l,[t,Mm(),Am,y]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("BigModel"),r.keyHelpUrl="https://open.bigmodel.cn/usercenter/apikeys",r.url="https://open.bigmodel.cn/api/paas/v4/chat/completions",r.permittedErrorPrefixes=[Rt,on];var b=(o=g.bigModel)==null?void 0:o.chat;return ie(b)===Ue&&r.completeConfig(b,(h=(f=(u=t.directConnection)==null?void 0:u.bigModel)==null?void 0:f.chat)==null?void 0:h.function_handler),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(p=r.rawBody).model)!==null&&n!==void 0||(p.model="glm-4.5"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getTextWFilesContent(u,l.getFileContent),role:we.getRoleViaAI(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:if(!r[O]){f.n=1;break}throw r[O].message;case 1:if(!(r.choices.length>0)){f.n=3;break}if(r.choices[0].delta===void 0){f.n=2;break}return f.a(2,this.extractStreamResult(r.choices[0],o));case 2:if(r.choices[0].message===void 0){f.n=3;break}return u=r.choices[0].message,f.a(2,u.tool_calls?this.handleToolsGeneric({tool_calls:u.tool_calls},this.functionHandler,this.messages,o):C({},w,u.content));case 3:return f.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(g=r.delta,y=r.finish_reason,b=(u=this.messages)==null?void 0:u.messageToElements[this.messages.messageToElements.length-2],b?.[0].role===vt&&((f=b?.[0][w])==null?void 0:f.replace(/\n/g,"").trim().length)===0&&((h=this.messages)==null||h.removeMessage(b[1][w]),(p=this.messages)==null||p.messageToElements.splice(this.messages.messageToElements.length-2,1)),y!=="tool_calls"){S.n=2;break}if(!g.tool_calls){S.n=1;break}return E={tool_calls:g.tool_calls},S.a(2,this.handleToolsGeneric(E,this.functionHandler,this.messages,o));case 1:return S.a(2,C({},w,g?.content||""));case 2:return S.a(2,C({},w,g?.content||""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getFileContent",value:function(e){return e.map(function(n){return n.type===Ye?C(C({},ke,wn),wn,{url:n[de]||""}):C(C({},ke,_t),"file_url",{url:n[de]||""})})}}])})(we),d4=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f=JSON.parse(JSON.stringify(t.directConnection)),h=f.together;r=ce(this,l,[t,Om(),Rm,h]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Together AI"),r.keyHelpUrl="https://api.together.xyz/settings/api-keys",r.url="https://api.together.xyz/v1/chat/completions",r.permittedErrorPrefixes=[la,on];var p=(o=f.together)==null?void 0:o.chat;return ie(p)===Ue&&r.completeConfig(p),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(u=r.rawBody).model)!==null&&n!==void 0||(u.model="meta-llama/Meta-Llama-3.1-8B-Instruct-Turbo"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:u[w]||"",role:u.role===vt?ka:u.role}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){return k().w(function(o){for(;;)switch(o.n){case 0:if(!r[O]){o.n=1;break}throw r[O].message;case 1:if(!(r.choices.length>0)){o.n=3;break}if(r.choices[0].message===void 0){o.n=2;break}return o.a(2,C({},w,r.choices[0].message.content));case 2:if(r.choices[0].delta===void 0){o.n=3;break}return o.a(2,C({},w,r.choices[0].delta.content));case 3:return o.a(2,C({},w,""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),ac=(function(i){function l(t){var e;z(this,l);var n,r=t.directConnection,o=r?.openAI,u={images:C({},H,{acceptedFormats:".png",maxNumberOfFiles:2})};e=ce(this,l,[t,Es(),_s,o,u]),e.insertKeyPlaceholderText=e.genereteAPIKeyName("OpenAI"),e.keyHelpUrl=Ss,e.url="",e.permittedErrorPrefixes=[vo,"Invalid input image"];var f=(n=r?.openAI)==null?void 0:n[ot];if(e[vn]){var h=ie(f)=="object"&&f.size?Number.parseInt(f.size):1024;e[vn][H]={dimensions:{width:h,height:h}}}return ie(f)===Ue&&Object.assign(e.rawBody,f),e.canSendMessage=l.canFileSendMessage,e}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e));return n&&n!==""&&(r.prompt=n),r}},{key:"callApiWithImage",value:function(e,n,r){var o,u,f,h=(u=(o=n[n.length-1])==null?void 0:o[w])==null?void 0:u.trim();if(r[1]||h&&h!==""){this.url=l.IMAGE_EDIT_URL;var p=this.preprocessBody(this.rawBody,h);f=l.createFormDataBody(p,r[0],r[1])}else this.url=l.IMAGE_VARIATIONS_URL,f=l.createFormDataBody(this.rawBody,r[0]);Be.tempRemoveContentHeader(this.connectSettings,$t.request.bind(this,this,f,e),!1)}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o,u){var f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if((f=this.connectSettings)!=null&&f.headers){p.n=1;break}throw new Error(gn);case 1:if(!(u!=null&&u[0])){p.n=2;break}this.callApiWithImage(r,o,u),p.n=4;break;case 2:if(this.connectSettings){p.n=3;break}throw new Error(gn);case 3:this.url=l.IMAGE_GENERATION_URL,h=this.preprocessBody(this.rawBody,o[o.length-1][w]),$t.request(this,h,r);case 4:return p.a(2)}},n,this)}));function e(n,r,o){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O].message;case 1:return o=r.data.map(function(f){return f.url?C(C({},de,f.url),ke,Ye):C(C({},de,"".concat(bs).concat(f.b64_json)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,n){return!!(n!=null&&n[0])||!!(e&&e.trim()!=="")}},{key:"createFormDataBody",value:function(e,n,r){var o=new FormData;return o.append(Ye,n),r&&o.append("mask",r),Object.keys(e).forEach(function(u){o.append(u,String(e[u]))}),o}}])})(we);ac.IMAGE_GENERATION_URL="".concat(An,"images/generations"),ac.IMAGE_VARIATIONS_URL="".concat(An,"images/variations"),ac.IMAGE_EDIT_URL="".concat(An,"images/edits");var h4=ac,m4=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},p4=function(l,t,e,n){var r=l;r[O]?r[O].type===on?n(xt):n(qn):e(t)},v4=function(){return Ut("https://openrouter.ai/api/v1/key",Ot,p4)},g4=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)).openRouter;return o=ce(this,l,[t,v4(),m4,g]),o.insertKeyPlaceholderText=o.genereteAPIKeyName("OpenRouter"),o.keyHelpUrl="https://openrouter.ai/keys",o.url="https://openrouter.ai/api/v1/chat/completions",o.permittedErrorPrefixes=[la,on],ie(g)===Ue&&o.completeConfig(g,(f=(u=t.directConnection)==null?void 0:u.openRouter)==null?void 0:f.function_handler),(e=o.maxMessages)!==null&&e!==void 0||(o.maxMessages=-1),(n=(h=o.rawBody).model)!==null&&n!==void 0||(h.model="openai/gpt-4o"),(r=(p=o.rawBody).max_tokens)!==null&&r!==void 0||(p.max_tokens=1e3),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(f){return{content:l.getContent(f),role:we.getRoleViaUser(f.role)}}),u=[];return this.systemMessage&&u.push({role:"system",content:this.systemMessage}),u.push.apply(u,tr(o)),r.messages=u,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(!r[O]){S.n=1;break}throw r[O].message;case 1:if(r.object!=="chat.completion.chunk"){S.n=4;break}if(g=(u=r.choices)==null?void 0:u[0],!(g!=null&&g.delta)){S.n=2;break}return S.a(2,this.extractStreamResult(g,o));case 2:if(!((f=r.message)!=null&&f[ot])){S.n=3;break}return y=r.message[ot].map(function(A){return C({},de,A[wn].url)}),S.a(2,C(C({},w,r.message.content||""),H,y));case 3:return S.a(2,C({},w,""));case 4:if(r.object!=="chat.completion"){S.n=6;break}if(b=(h=r.choices)==null?void 0:h[0],!(b!=null&&b.message)){S.n=6;break}if(!b.message.tool_calls){S.n=5;break}return S.a(2,this.handleToolsGeneric({tool_calls:b.message.tool_calls},this.functionHandler,this.messages,o));case 5:return E=((p=b.message[ot])==null?void 0:p.map(function(A){return C({},de,A[wn].url)}))||[],S.a(2,C(C({},w,b.message.content||""),"files",E));case 6:return S.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){var u,f;return k().w(function(h){for(;;)switch(h.n){case 0:if(u=r.delta,!(u!=null&&u[ot])){h.n=1;break}return f=u[ot].map(function(p){return C({},de,p[wn].url)}),h.a(2,C(C({},w,u.content||""),H,f));case 1:return h.a(2,this.extractStreamResultWToolsGeneric(this,r,this.functionHandler,o))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getAudioContent",value:function(e){return e.filter(function(n){return n.type===De}).map(function(n){var r,o,u,f=(r=n[de])==null?void 0:r.split(",")[1],h=(u=(o=n[de])==null?void 0:o.match(/data:audio\/([^;]+)/))==null?void 0:u[1];return C(C({},ke,nr),nr,{data:f||"",format:h==="wav"||h==="mp3"?h:"mp3"})}).filter(function(n){return n[nr].data.length>0})}},{key:"getContent",value:function(e){if(e[H]&&e[H].length>0){var n=[].concat(tr(l.getImageContent(e[H])),tr(l.getAudioContent(e[H])));return e[w]&&e[w].trim().length>0&&n.unshift(C(C({},ke,w),w,e[w])),n.length>0?n:e[w]||""}return e[w]||""}}])})(we),y4=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},b4=function(l,t,e,n){l[O]?n(xt):e(t)},S4=function(){return Ut("https://api.perplexity.ai/chat/completions",Vt,b4)},_4=(function(i){function l(t){var e,n,r;z(this,l);var o,u=JSON.parse(JSON.stringify(t.directConnection)).perplexity;return r=ce(this,l,[t,S4(),y4,u]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Perplexity"),r.keyHelpUrl="https://www.perplexity.ai/settings/api",r.url="https://api.perplexity.ai/chat/completions",r.permittedErrorPrefixes=[Oi,wb,"Permission denied"],ie(u)===Ue&&r.completeConfig(u),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(o=r.rawBody).model)!==null&&n!==void 0||(o.model="sonar"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:u[w]||"",role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O].message;case 1:if(!(r.choices&&r.choices.length>0)){u.n=3;break}if(o=r.choices[0],!(o.delta&&o.delta.content)){u.n=2;break}return u.a(2,C({},w,o.delta.content));case 2:if(!(o.message&&o.message.content)){u.n=3;break}return u.a(2,C({},w,o.message.content));case 3:return u.a(2,C({},w,""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),E4=function(l){return C(C({},Rt,"Bearer ".concat(l)),Pe,ht)},k4=function(l,t,e,n){var r=l;r.detail?n(r.detail):e(t)},C4=function(){return Ut("http://localhost:3000/api/v1/models",Ot,k4)},w4=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)).openWebUI;return o=ce(this,l,[t,C4(),E4,g]),o.insertKeyPlaceholderText="Open WebUI API Key",o.keyHelpUrl="https://docs.openwebui.com/getting-started/api-endpoints/",o.url="http://localhost:3000/api/chat/completions",o.permittedErrorPrefixes=["Error"],ie(g)===Ue&&(o.completeConfig(g,(f=(u=t.directConnection)==null?void 0:u.openWebUI)==null?void 0:f.function_handler),g[H]&&g[H].length>0&&(o.rawBody[H]=g[H])),(e=o.maxMessages)!==null&&e!==void 0||(o.maxMessages=-1),(n=(h=o.rawBody).model)!==null&&n!==void 0||(h.model="llama3.2"),(r=(p=o.rawBody).stream)!==null&&r!==void 0||(p.stream=!1),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:we.getTextWImagesContent(u),role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{readable:!0});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(!r[O]){p.n=1;break}throw r[O].message;case 1:if(!r[w]){p.n=2;break}return f=r[w].trim(),p.a(2,this.processStreamingResponse(f,o));case 2:if(!(r.choices&&(u=r.choices[0])!=null&&u.message)){p.n=3;break}return h=r.choices[0].message,p.a(2,h.tool_calls?this.handleTools({tool_calls:h.tool_calls},o):C({},w,h.content||""));case 3:return p.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"processStreamingResponse",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E,S,A;return k().w(function(R){for(;;)switch(R.p=R.n){case 0:f=r.split(`
`).filter(function(L){return L.trim()!==""}),h="",p=ro(f),R.p=1,p.s();case 2:if((g=p.n()).done){R.n=8;break}if(y=g.value,b=y.trim(),b.startsWith("data: ")&&(b=b.substring(6)),b==="[DONE]"){R.n=7;break}if(R.p=3,E=JSON.parse(b),!(E.choices&&(u=E.choices[0])!=null&&u.delta)){R.n=5;break}if(S=E.choices[0].delta,!S.tool_calls){R.n=4;break}return R.a(2,this.handleTools({tool_calls:S.tool_calls},o));case 4:S.content&&(h+=S.content);case 5:R.n=7;break;case 6:return R.p=6,R.v,R.a(3,7);case 7:R.n=2;break;case 8:R.n=10;break;case 9:R.p=9,A=R.v,p.e(A);case 10:return R.p=10,p.f(),R.f(10);case 11:return R.a(2,C({},w,h))}},n,this,[[3,6],[1,9,10,11]])}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(!(!r.tool_calls||!o||!this.functionHandler)){y.n=1;break}throw Error(Ri);case 1:return u=JSON.parse(JSON.stringify(o)),f=r.tool_calls.map(function(b){return{name:b.function.name,arguments:b.function.arguments}}),y.n=2,this.callToolFunction(this.functionHandler,f);case 2:if(h=y.v,p=h.responses,g=h.processedResponse,!g){y.n=3;break}return y.a(2,g);case 3:if(u.messages.push({tool_calls:r.tool_calls,role:ka,content:""}),!(!p.find(function(b){var E=b.response;return typeof E!="string"})&&f.length===p.length)){y.n=4;break}return y.a(2,(p.forEach(function(b,E){var S,A=(S=r.tool_calls)==null?void 0:S[E];u?.messages.push({role:"tool",tool_name:A?.function.name,content:b.response})}),this.makeAnotherRequest(u,this.messages)));case 4:throw Error(ur);case 5:return y.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}])})(we),T4=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},A4=function(l,t,e,n){var r=l;r[O]?r[O].type===on?n(xt):n(qn):e(t)},M4=function(){return Ut("https://api.deepseek.com/models",Ot,A4)},R4=(function(i){function l(t){var e,n,r,o,u;z(this,l);var f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)).deepSeek;return u=ce(this,l,[t,M4(),T4,g]),u.insertKeyPlaceholderText=u.genereteAPIKeyName("DeepSeek"),u.keyHelpUrl="https://platform.deepseek.com/api_keys",u.url="https://api.deepseek.com/v1/chat/completions",u.permittedErrorPrefixes=[la,on],ie(g)===Ue&&u.completeConfig(g),(e=u.maxMessages)!==null&&e!==void 0||(u.maxMessages=-1),(n=(f=u.rawBody).model)!==null&&n!==void 0||(f.model="deepseek-chat"),(r=(h=u.rawBody).temperature)!==null&&r!==void 0||(h.temperature=1),(o=(p=u.rawBody).max_tokens)!==null&&o!==void 0||(p.max_tokens=4096),u}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:u[w]||"",role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O].message;case 1:if(!(r.choices&&r.choices.length>0)){u.n=3;break}if(o=r.choices[0],!(o.delta&&o.delta.content)){u.n=2;break}return u.a(2,C({},w,o.delta.content));case 2:if(!(o.message&&o.message.content)){u.n=3;break}return u.a(2,C({},w,o.message.content));case 3:return u.a(2,C({},w,""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),O4=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},x4=function(l,t,e,n){var r;((r=l.base_resp)==null?void 0:r.status_code)===1004?n(xt):e(t)},B4=function(){return Ut("https://api.minimax.io/v1/files/delete",Vt,x4)},N4=(function(i){function l(t){var e,n,r;z(this,l);var o,u=JSON.parse(JSON.stringify(t.directConnection)).miniMax;return r=ce(this,l,[t,B4(),O4,u]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("MiniMax"),r.keyHelpUrl="https://www.minimaxi.com",r.url="https://api.minimax.io/v1/text/chatcompletion_v2",r.permittedErrorPrefixes=[la,on,"insufficient balance"],ie(u)===Ue&&r.completeConfig(u),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(o=r.rawBody).model)!==null&&n!==void 0||(o.model="MiniMax-M1"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:u[w]||"",role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u;return k().w(function(f){for(;;)switch(f.n){case 0:if(!r[O]){f.n=1;break}throw r[O].message;case 1:if(!(r.choices&&r.choices.length>0)){f.n=3;break}if(u=r.choices[0],!(u.delta&&u.delta.content)){f.n=2;break}return f.a(2,C({},w,u.delta.content));case 2:if(!(u.message&&u.message.content)){f.n=3;break}return f.a(2,C({},w,u.message.content));case 3:if(!(typeof((o=r.base_resp)==null?void 0:o.status_code)=="number"&&r.base_resp.status_code>0)){f.n=4;break}throw r.base_resp.status_msg;case 4:return f.a(2,C({},w,""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),I4=function(l){return C(C(C({},Rt,"".concat(ln).concat(l)),Pe,ht),"accept",ht)},L4=function(l,t,e,n){l.detail?n(xt):e(t)},D4=function(){return Ut("https://api.mistral.ai/v1/models",Ot,L4)},U4=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)).mistral;return r=ce(this,l,[t,D4(),I4,h]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Mistral"),r.keyHelpUrl="https://console.mistral.ai/api-keys/",r.url="https://api.mistral.ai/v1/chat/completions",r.permittedErrorPrefixes=[Oi],ie(h)===Ue&&r.completeConfig(h,(u=(o=t.directConnection)==null?void 0:o.mistral)==null?void 0:u.function_handler),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(f=r.rawBody).model)!==null&&n!==void 0||(f.model="mistral-small-latest"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{role:we.getRoleViaAI(u.role),content:we.getTextWFilesContent(u,l.getFileContent)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:if(!r.message){f.n=1;break}throw r.message;case 1:if(!r[O]){f.n=2;break}throw r[O].message;case 2:if(!(r.choices&&r.choices.length>0)){f.n=4;break}if(u=r.choices[0],!u.delta){f.n=3;break}return f.a(2,this.extractStreamResult(u,o));case 3:if(!u.message){f.n=4;break}return f.a(2,u.message.tool_calls?this.handleToolsGeneric({tool_calls:u.message.tool_calls},this.functionHandler,this.messages,o):C({},w,u.message.content||""));case 4:return f.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(u=r.delta,f=r.finish_reason,!(f==="tool_calls"&&u!=null&&u.tool_calls)){p.n=1;break}return h={tool_calls:u.tool_calls},p.a(2,this.handleToolsGeneric(h,this.functionHandler,this.messages,o));case 1:return p.a(2,C({},w,u?.content||""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getFileContent",value:function(e){return e.map(function(n){return n.type===Ye?C(C({},ke,wn),wn,n[de]||""):C(C({},ke,w),w,"[Unsupported ".concat(_t," type: ").concat(n.type,"]"))})}}])})(we),z4=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)),y=g.groq;r=ce(this,l,[t,cS(),uS,y]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Groq"),r.keyHelpUrl="https://console.groq.com/keys",r.url="https://api.groq.com/openai/v1/chat/completions",r.permittedErrorPrefixes=[Oi,"property"];var b=(o=g.groq)==null?void 0:o.chat;return ie(b)===Ue&&r.completeConfig(b,(h=(f=(u=t.directConnection)==null?void 0:u.groq)==null?void 0:f.chat)==null?void 0:h.function_handler),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(p=r.rawBody).model)!==null&&n!==void 0||(p.model="llama-3.3-70b-versatile"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getTextWImagesContent(u),role:u.role===vt?ka:u.role}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p;return k().w(function(g){for(;;)switch(g.n){case 0:if(!r[O]){g.n=1;break}throw r[O].message;case 1:return g.a(2,(f=(u=r.choices)==null?void 0:u[0])!=null&&f.delta?this.extractStreamResult(r.choices[0],o):(p=(h=r.choices)==null?void 0:h[0])!=null&&p.message?r.choices[0].message.tool_calls?this.handleToolsGeneric(r.choices[0].message,this.functionHandler,this.messages,o,{message:this.systemMessage}):C({},w,r.choices[0].message.content||""):C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.extractStreamResultWToolsGeneric(this,r,this.functionHandler,o))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}])})(we),P4=function(l){return C(C(C({},Rt,"".concat(ln).concat(l)),Pe,ht),"accept",ht)},H4=function(l,t,e,n){typeof l.message=="string"?n(xt):e(t)},j4=function(){return Ut("https://api.cohere.ai/v1/models",Ot,H4)},F4=(function(i){function l(t){var e,n,r;z(this,l);var o,u=JSON.parse(JSON.stringify(t.directConnection)).cohere;if(r=ce(this,l,[t,j4(),P4,u]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Cohere"),r.keyHelpUrl="https://dashboard.cohere.ai/api-keys",r.permittedErrorPrefixes=["invalid"],r.url="https://api.cohere.com/v2/chat",ie(u)===Ue){var f=Ct.processCohere(u);r.canSendMessage=function(){return f},r.cleanConfig(u),Object.assign(r.rawBody,u)}return(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(o=r.rawBody).model)!==null&&n!==void 0||(o.model="command-a-03-2025"),r}return fe(l,i),P(l,[{key:"cleanConfig",value:function(e){delete e.key}},{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=n.filter(function(u){return u[w]});return r.messages=o.map(function(u){return{role:we.getRoleViaAI(u.role),content:u[w]}}),r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{readable:!0});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(typeof r.message!="string"){p.n=1;break}throw r.message;case 1:if(!(this.stream&&r[w])){p.n=2;break}return h=l.parseBundledEvents(r[w]),p.a(2,{text:l.aggregateBundledEventsText(h)});case 2:if(!("message"in r&&(f=(u=(o=r.message)==null?void 0:o.content)==null?void 0:u[0])!=null&&f[w])){p.n=3;break}return p.a(2,C({},w,r.message.content[0][w]));case 3:throw new Error("Invalid response format from Cohere API");case 4:return p.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()}],[{key:"parseBundledEvents",value:function(e){var n=e.trim().split(`
`),r=[],o=ro(n),u;try{for(o.s();!(u=o.n()).done;){var f=u.value;if(f.trim())try{var h=JSON.parse(f);r.push(h)}catch(p){console[O]("Failed to parse line:",f,p)}}}catch(p){o.e(p)}finally{o.f()}return r}},{key:"aggregateBundledEventsText",value:function(e){return e.filter(function(n){var r,o,u;return n.type==="content-delta"&&((u=(o=(r=n.delta)==null?void 0:r.message)==null?void 0:o.content)==null?void 0:u[w])}).map(function(n){var r,o,u;return(u=(o=(r=n.delta)==null?void 0:r.message)==null?void 0:o.content)==null?void 0:u[w]}).join("")}}])})(we),q4=function(){return C({},Pe,ht)},G4=function(l,t,e,n){var r,o=l;o[O]?o[O].code===403||(r=o[O].message)!=null&&r.includes("API key")?n(xt):n(qn):e(t)},V4=function(){var l="https://generativelanguage.googleapis.com/v1beta/models?key=";return Ut(l,Ot,G4,function(t){return"".concat(l).concat(t)})},K4=(function(i){function l(t){var e,n;z(this,l);var r,o,u=JSON.parse(JSON.stringify(t.directConnection)).gemini;if(n=ce(this,l,[t,V4(),q4,u]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("Gemini"),n.keyHelpUrl="https://aistudio.google.com/app/apikey",n.urlPrefix="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",n.url="",n.permittedErrorPrefixes=["API_KEY_INVALID"],ie(u)===Ue){var f=u;f.model&&(n.urlPrefix="https://generativelanguage.googleapis.com/v1beta/models/".concat(f.model,":generateContent")),n.cleanConfig(f),n.completeConfig(f,(o=(r=t.directConnection)==null?void 0:r.gemini)==null?void 0:o.function_handler)}return(e=n.maxMessages)!==null&&e!==void 0||(n.maxMessages=-1),n}return fe(l,i),P(l,[{key:"cleanConfig",value:function(e){delete e.model}},{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return l.getContent(u)});return r.contents=o,this.systemMessage&&(r.systemInstruction={parts:[C({},w,this.systemMessage)]}),r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(this.connectSettings){p.n=1;break}throw new Error(gn);case 1:(u=this.messages)!==null&&u!==void 0||(this.messages=r),f=this.preprocessBody(this.rawBody,o),h=this.stream,h&&(ie(h)!==Ue||!h.simulation)||f.stream?(this.url="".concat(this.urlPrefix.replace(":generateContent",":streamGenerateContent"),"?alt=sse&key=").concat(this.key),Lt.request(this,f,r)):(this.url="".concat(this.urlPrefix,"?key=").concat(this.key),$t.request(this,f,r));case 2:return p.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(!r[O]){S.n=1;break}throw r[O].message||"Gemini API Error";case 1:if(!((h=(f=(u=r.candidates)==null?void 0:u[0])==null?void 0:f.content)!=null&&h.parts)){S.n=3;break}if(g=r.candidates[0].content.parts,y=g.find(function(A){return A.functionCall}),!(y!=null&&y.functionCall)){S.n=2;break}return S.a(2,this.handleTools([y.functionCall],o));case 2:return b=g.find(function(A){return A[w]}),E=g.find(function(A){var R;return((R=A.inlineData)==null?void 0:R.mimeType)==="image/png"}),S.a(2,C(C({},w,b?.[w]||""),H,(p=E?.inlineData)!=null&&p.data?[C({},de,"data:image/png;base64,".concat(E.inlineData.data))]:[]));case 3:return S.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b;return k().w(function(E){for(;;)switch(E.n){case 0:if(!(!r||!o||!this.functionHandler)){E.n=1;break}throw Error(Ri);case 1:return u=JSON.parse(JSON.stringify(o)),f=r.map(function(S){return{name:S.name,arguments:JSON.stringify(S.args)}}),E.n=2,this.callToolFunction(this.functionHandler,f);case 2:if(h=E.v,p=h.responses,g=h.processedResponse,!g){E.n=3;break}return E.a(2,g);case 3:if(y={parts:r.map(function(S){return{functionCall:{name:S.name,args:S.args}}}),role:"model"},u.contents.push(y),!(!p.find(function(S){var A=S.response;return typeof A!="string"})&&f.length===p.length)){E.n=4;break}return b={parts:p.map(function(S,A){return{functionResponse:{name:r[A].name,response:{result:S.response}}}}),role:qe},E.a(2,(u.contents.push(b),this.makeAnotherRequest(u,this.messages)));case 4:throw Error(ur);case 5:return E.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getContent",value:function(e){var n=[];return e[w]&&e[w].trim().length>0&&n.push(C({},w,e[w])),e[H]&&e[H].length>0&&e[H].forEach(function(r){if(r[de]&&r[de].includes("data:")){var o=r[de].split(","),u=sr(o,2),f=u[0],h=u[1];n.push({inlineData:{mimeType:f.replace("data:","").replace(";base64",""),data:h}})}}),{parts:n,role:e.role===qe?qe:"model"}}}])})(we),J4=function(l){return C(C(C({"x-api-key":l},Pe,ht),"anthropic-version","2023-06-01"),"anthropic-dangerous-direct-browser-access","true")},Y4=function(l,t,e,n){var r=l;r[O]?r[O].type===on?n(xt):n(qn):e(t)},X4=function(){return Ut("https://api.anthropic.com/v1/models",Ot,Y4)},$4=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection)).claude;return o=ce(this,l,[t,X4(),J4,g]),o.insertKeyPlaceholderText=o.genereteAPIKeyName("Claude"),o.keyHelpUrl="https://console.anthropic.com/settings/keys",o.url="https://api.anthropic.com/v1/messages",o.permittedErrorPrefixes=[on,la],o._streamToolCalls=C(C(C(C({},ke,"tool_use"),"id",""),"name",""),"input",""),ie(g)===Ue&&o.completeConfig(g,(f=(u=t.directConnection)==null?void 0:u.claude)==null?void 0:f.function_handler),(e=o.maxMessages)!==null&&e!==void 0||(o.maxMessages=-1),(n=(h=o.rawBody).model)!==null&&n!==void 0||(h.model="claude-sonnet-4-5-20250929"),(r=(p=o.rawBody).max_tokens)!==null&&r!==void 0||(p.max_tokens=4096),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getTextWFilesContent(u,l.getFileContent),role:we.getRoleViaUser(u.role)}});return r.messages=o,this.systemMessage&&(r.system=this.systemMessage),r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(!r[O]){y.n=1;break}throw r[O].message;case 1:if(!(r.content&&r.content.length>0)){y.n=3;break}if(p=r.content.find(function(b){return b.type==="tool_use"}),!p){y.n=2;break}return y.a(2,this.handleTools([p],o));case 2:if(g=r.content.find(function(b){return b.type===w}),!g){y.n=3;break}return y.a(2,C({},w,g[w]));case 3:if(!(r.type==="content_block_delta"&&r.delta&&r.delta.type==="text_delta")){y.n=4;break}return y.a(2,C({},w,r.delta[w]||""));case 4:if(!(r.type==="content_block_start"&&((u=r.content_block)==null?void 0:u.type)==="tool_use")){y.n=5;break}this._streamToolCalls=r.content_block,this._streamToolCalls.input="",y.n=7;break;case 5:if(!(r.type==="content_block_delta"&&((f=r.delta)==null?void 0:f.type)==="input_json_delta")){y.n=6;break}this._streamToolCalls.input+=r.delta.partial_json||"",y.n=7;break;case 6:if(!(r.type==="message_delta"&&((h=r.delta)==null?void 0:h.stop_reason)==="tool_use")){y.n=7;break}return y.a(2,(this._streamToolCalls.input=JSON.parse(this._streamToolCalls.input),this.handleTools([this._streamToolCalls],o)));case 7:return y.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g,y,b;return k().w(function(E){for(;;)switch(E.n){case 0:if(!(!r||!o||!this.functionHandler)){E.n=1;break}throw Error(Ri);case 1:return u=JSON.parse(JSON.stringify(o)),f=r.map(function(S){return{name:S.name,arguments:JSON.stringify(S.input)}}),E.n=2,this.callToolFunction(this.functionHandler,f);case 2:if(h=E.v,p=h.responses,g=h.processedResponse,!g){E.n=3;break}return E.a(2,g);case 3:if(y=r.map(function(S){return C(C(C(C({},ke,"tool_use"),"id",S.id),"name",S.name),"input",S.input)}),u.messages.push({role:"assistant",content:y}),!(!p.find(function(S){var A=S.response;return typeof A!="string"})&&f.length===p.length)){E.n=4;break}return b=p.map(function(S,A){return C(C(C({},ke,"tool_result"),"tool_use_id",r[A].id),"content",S.response)}),E.a(2,(u.messages.push({role:qe,content:b}),this.makeAnotherRequest(u,this.messages)));case 4:throw Error(ur);case 5:return E.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getFileContent",value:function(e){return e.map(function(n){var r,o,u;if(n.type===Ye){var f=(r=n[de])==null?void 0:r.split(",")[1],h=((u=(o=n[de])==null?void 0:o.match(/data:([^;]+)/))==null?void 0:u[1])||"image/jpeg";return C(C({},ke,Ye),"source",C(C(C({},ke,"base64"),"media_type",h),"data",f||""))}return C(C({},ke,w),w,"[Unsupported ".concat(_t," type: ").concat(n.type,"]"))})}}])})(we),Z4=function(){return{}},Q4=function(){},W4=function(){return Ut("",Ot,Q4)},eM=(function(i){function l(t){var e,n,r,o;z(this,l);var u,f,h,p,g=JSON.parse(JSON.stringify(t.directConnection));o=ce(this,l,[t,W4(),Z4,{key:"placeholder"}]),o.insertKeyPlaceholderText="",o.keyHelpUrl="",o.validateKeyProperty=!1,o.url="http://localhost:11434/api/chat",o.permittedErrorPrefixes=["Error"];var y=g.ollama;return ie(y)===Ue&&o.completeConfig(y,(f=(u=t.directConnection)==null?void 0:u.ollama)==null?void 0:f.function_handler),(e=o.maxMessages)!==null&&e!==void 0||(o.maxMessages=-1),(n=(h=o.rawBody).model)!==null&&n!==void 0||(h.model="llama3.2"),(r=(p=o.rawBody).stream)!==null&&r!==void 0||(p.stream=!1),o}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){var f={content:u[w]||"",role:we.getRoleViaUser(u.role)};if(u[H]&&u[H].length>0){var h=l.getImageData(u[H]);h.length>0&&(f[ot]=h)}return f});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{readable:!0});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u,f,h;return k().w(function(p){for(;;)switch(p.n){case 0:if(!r[O]){p.n=1;break}throw r[O].message;case 1:if(!r[w]){p.n=2;break}return h=JSON.parse(r[w]),p.a(2,(u=h.message)!=null&&u.tool_calls?this.handleTools({tool_calls:h.message.tool_calls},o):C({},w,((f=h.message)==null?void 0:f.content)||""));case 2:return p.a(2,r.message?r.message.tool_calls?this.handleTools({tool_calls:r.message.tool_calls},o):C({},w,r.message.content||""):C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var t=I(k().m(function n(r,o){var u,f,h,p,g;return k().w(function(y){for(;;)switch(y.n){case 0:if(!(!r.tool_calls||!o||!this.functionHandler)){y.n=1;break}throw Error(Ri);case 1:return u=JSON.parse(JSON.stringify(o)),f=r.tool_calls.map(function(b){return{name:b.function.name,arguments:JSON.stringify(b.function.arguments)}}),y.n=2,this.callToolFunction(this.functionHandler,f);case 2:if(h=y.v,p=h.responses,g=h.processedResponse,!g){y.n=3;break}return y.a(2,g);case 3:if(u.messages.push({tool_calls:r.tool_calls,role:ka,content:""}),!(!p.find(function(b){var E=b.response;return typeof E!="string"})&&f.length===p.length)){y.n=4;break}return y.a(2,(p.forEach(function(b,E){var S,A=(S=r.tool_calls)==null?void 0:S[E];u?.messages.push({role:"tool",tool_name:A?.function.name,content:b.response})}),this.makeAnotherRequest(u,this.messages)));case 4:throw Error(ur);case 5:return y.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}],[{key:"getImageData",value:function(e){return e.filter(function(n){return n.type===Ye}).map(function(n){var r;return((r=n[de])==null?void 0:r.split(",")[1])||""}).filter(function(n){return n.length>0})}}])})(we),hS=function(l){return C({Authorization:"".concat(ln).concat(l)},Pe,ht)},tM=function(l,t,e,n){var r=l;r[O]?r[O].type===on||r[O].type===la?n(xt):n(qn):e(t)},mS=function(){return Ut("https://api.x.ai/v1/models",Ot,tM)},pS=(function(i){function l(t){var e,n;z(this,l);var r,o,u=t.directConnection,f=u?.x;n=ce(this,l,[t,mS(),hS,f]),n.insertKeyPlaceholderText=n.genereteAPIKeyName("X"),n.keyHelpUrl="https://console.x.ai/team/default/api-keys",n.url=l.IMAGE_GENERATION_URL,n.permittedErrorPrefixes=[la,on];var h=(r=u?.x)==null?void 0:r[ot];return ie(h)===Ue&&Object.assign(n.rawBody,h),(e=(o=n.rawBody).model)!==null&&e!==void 0||(o.model="grok-2-image"),n}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=n[n.length-1][w],o=JSON.parse(JSON.stringify(e));return r&&r!==""&&(o.prompt=r),o}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this));case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o;return k().w(function(u){for(;;)switch(u.n){case 0:if(!r[O]){u.n=1;break}throw r[O].message;case 1:return o=r.data.map(function(f){return f.url?C(C({},de,f.url),ke,Ye):C(C({},de,"".concat(bs).concat(f.b64_json)),ke,Ye)}),u.a(2,C({},H,o))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we);pS.IMAGE_GENERATION_URL="https://api.x.ai/v1/images/generations";var nM=pS,aM=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},iM=function(l,t,e,n){var r=l;r[O]?r[O].type===la?n(xt):n(qn):e(t)},rM=function(){return Ut("https://dashscope-intl.aliyuncs.com/compatible-mode/v1/models",Ot,iM)},sM=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)).qwen;return r=ce(this,l,[t,rM(),aM,h]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Qwen"),r.keyHelpUrl="https://www.alibabacloud.com/help/en/model-studio/get-api-key",r.url="https://dashscope-intl.aliyuncs.com/compatible-mode/v1/chat/completions",r.permittedErrorPrefixes=["No static","The model",vo],ie(h)===Ue&&r.completeConfig(h,(u=(o=t.directConnection)==null?void 0:o.qwen)==null?void 0:u.function_handler),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(f=r.rawBody).model)!==null&&n!==void 0||(f.model="qwen-plus"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getTextWImagesContent(u),role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:if(!r[O]){f.n=1;break}throw r[O].message;case 1:if(!(r.choices&&r.choices.length>0)){f.n=3;break}if(u=r.choices[0],!u.delta){f.n=2;break}return f.a(2,this.extractStreamResult(u,o));case 2:if(!u.message){f.n=3;break}return f.a(2,u.message.tool_calls?this.handleToolsGeneric({tool_calls:u.message.tool_calls},this.functionHandler,this.messages,o):C({},w,u.message.content||""));case 3:return f.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.extractStreamResultWToolsGeneric(this,r,this.functionHandler,o))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}])})(we),lM=function(l){return C(C({},Rt,"".concat(ln).concat(l)),Pe,ht)},oM=function(l,t,e,n){var r=l;r[O]?r[O].type===on?n(xt):n(qn):e(t)},uM=function(){return Ut("https://api.moonshot.ai/v1/models",Ot,oM)},cM=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f,h=JSON.parse(JSON.stringify(t.directConnection)).kimi;return r=ce(this,l,[t,uM(),lM,h]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("Kimi"),r.keyHelpUrl="https://platform.moonshot.ai/console/api-keys",r.url="https://api.moonshot.ai/v1/chat/completions",r.permittedErrorPrefixes=[Oi,"Not found"],ie(h)===Ue&&r.completeConfig(h,(u=(o=t.directConnection)==null?void 0:o.kimi)==null?void 0:u.function_handler),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(f=r.rawBody).model)!==null&&n!==void 0||(f.model="moonshot-v1-8k"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:l.getTextWImagesContent(u),role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:(u=this.messages)!==null&&u!==void 0||(this.messages=r),this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return f.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r,o){var u;return k().w(function(f){for(;;)switch(f.n){case 0:if(!r[O]){f.n=1;break}throw r[O].message;case 1:if(!(r.choices&&r.choices.length>0)){f.n=3;break}if(u=r.choices[0],!u.delta){f.n=2;break}return f.a(2,this.extractStreamResult(u,o));case 2:if(!u.message){f.n=3;break}return f.a(2,u.message.tool_calls?this.handleToolsGeneric({tool_calls:u.message.tool_calls},this.functionHandler,this.messages,o):C({},w,u.message.content||""));case 3:return f.a(2,C({},w,""))}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,this.extractStreamResultWToolsGeneric(this,r,this.functionHandler,o))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()}])})(we),fM=(function(i){function l(t){var e,n,r;z(this,l);var o,u,f=JSON.parse(JSON.stringify(t.directConnection)),h=f.x;r=ce(this,l,[t,mS(),hS,h]),r.insertKeyPlaceholderText=r.genereteAPIKeyName("X"),r.keyHelpUrl="https://console.x.ai/team/default/api-keys",r.url="https://api.x.ai/v1/chat/completions",r.permittedErrorPrefixes=[la,on];var p=(o=f.x)==null?void 0:o.chat;return ie(p)===Ue&&r.completeConfig(p),(e=r.maxMessages)!==null&&e!==void 0||(r.maxMessages=-1),(n=(u=r.rawBody).model)!==null&&n!==void 0||(u.model="grok-3-latest"),r}return fe(l,i),P(l,[{key:"preprocessBody",value:function(e,n){var r=JSON.parse(JSON.stringify(e)),o=this.processMessages(n).map(function(u){return{content:u[w]||"",role:we.getRoleViaUser(u.role)}});return this.addSystemMessage(o),r.messages=o,r}},{key:"callServiceAPI",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)switch(u.n){case 0:this.callDirectServiceServiceAPI(r,o,this.preprocessBody.bind(this),{});case 1:return u.a(2)}},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p;return k().w(function(g){for(;;)switch(g.n){case 0:if(!r[O]){g.n=1;break}throw r[O].message;case 1:if(r.object!=="chat.completion.chunk"){g.n=2;break}return p=(o=r.choices)==null?void 0:o[0],g.a(2,(u=p?.delta)!=null&&u.content?C({},w,p.delta.content):C({},w,""));case 2:return g.a(2,r.object==="chat.completion"&&(h=(f=r.choices)==null?void 0:f[0])!=null&&h.message?C({},w,r.choices[0].message.content||""):C({},w,""))}},n)}));function e(n){return t.apply(this,arguments)}return e})()}])})(we),dM=(function(){function i(){z(this,i)}return P(i,null,[{key:"create",value:function(t){var e=t.directConnection,n=t.connect,r=t.demo,o=t.webModel;if(o)return new wm(t);if(e){if(e.openAI)return e.openAI[ot]?new h4(t):e.openAI.speechToText?new PA(t):e.openAI.textToSpeech?new zA(t):e.openAI.assistant?new NA(t):e.openAI.realtime?new UA(t):e.openAI.completions?new n4(t):new dS(t);if(e.assemblyAI)return new t4(t);if(e.cohere)return new F4(t);if(e.huggingFace)return e.huggingFace.textGeneration?new _A(t):e.huggingFace.summarization?new kA(t):e.huggingFace.translation?new TA(t):e.huggingFace.fillMask?new MA(t):e.huggingFace.questionAnswer?new EA(t):e.huggingFace.audioSpeechRecognition?new SA(t):e.huggingFace.audioClassification?new pA(t):e.huggingFace.imageClassification?new vA(t):new CA(t);if(e.azure){if(e.azure.openAI){if(e.azure.openAI.chat)return new c4(t);if(e.azure.openAI.assistant)return new IA(t)}if(e.azure.speechToText)return new i4(t);if(e.azure.textToSpeech)return new a4(t);if(e.azure.summarization)return new $A(t);if(e.azure.translation)return new r4(t)}if(e.stabilityAI)return e.stabilityAI.imageToImage?new wA(t):e.stabilityAI.imageToImageUpscale?new yA(t):e.stabilityAI.imageToImageMasking?new bA(t):new AA(t);if(e.mistral)return new U4(t);if(e.gemini)return new K4(t);if(e.claude)return new $4(t);if(e.deepSeek)return new R4(t);if(e.miniMax)return new N4(t);if(e.openRouter)return new g4(t);if(e.kimi)return new cM(t);if(e.x)return e.x[ot]?new nM(t):new fM(t);if(e.qwen)return new sM(t);if(e.together)return e.together[ot]?new u4(t):e.together.textToSpeech?new BA(t):new d4(t);if(e.bigModel)return e.bigModel[ot]?new s4(t):e.bigModel.textToSpeech?new OA(t):new f4(t);if(e.groq)return e.groq.textToSpeech?new o4(t):new z4(t);if(e.perplexity)return new _4(t);if(e.ollama)return new eM(t);if(e.openWebUI)return new w4(t)}return n&&Object.keys(n).length>0&&!r?new uc(t):new uc(t,void 0,r||!0)}}])})(),vS=P(function i(){z(this,i)});vS.attibutes={string:function(l){return l},number:function(l){return parseFloat(l)},boolean:function(l){return l==="true"},object:function(l){return JSON.parse(l)},array:function(l){return JSON.parse(l)},function:function(l){return new Function("return ".concat(l))()}};var hM=vS;function Re(i){return function(l,t){Object.defineProperty(l,t,{});var e=l.constructor,n=t.toLocaleLowerCase();e._attributes_[n]=hM.attibutes[i],e._attributeToProperty_[n]=t}}var mM="deep-chat-downwards-mode",pM="deep-chat-upwards-mode",El="submit-button",Fu="loading-button",kl="disabled-button",$y="text-input-container-start-adjustment",Zy="text-input-container-end-adjustment",Qy="text-input-container-start-small-adjustment",Wy="text-input-container-end-small-adjustment",vM=(function(){function i(l){z(this,i),this._isDisplayed=!1,this._elementRef=this.createIntroPanelWithChild(l),this._isDisplayed=!0}return P(i,[{key:"createIntroPanelWithChild",value:function(t){var e=i.createIntroPanel();return t[X].display==="none"&&(t[X].display="block"),e.appendChild(t),e}},{key:"hide",value:function(){this._isDisplayed&&(this._elementRef[X].display="none",this._isDisplayed=!1)}},{key:"display",value:function(){this._isDisplayed||(this._elementRef[X].display="",this._isDisplayed=!0)}}],[{key:"createIntroPanel",value:function(){var t=se();return t[B].add("intro-panel"),Object.assign(t[X]),t}}])})(),gM=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="50 30 420 450" xml:space="preserve">
<g filter="brightness(0) saturate(100%) invert(16%) sepia(0%) saturate(1942%) hue-rotate(215deg) brightness(99%) contrast(93%)">
	<g>
		<path d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008
			C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237
			h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931
			l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278
			c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239
			h66.527V486.763z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/>
	</g>
</g>
<g>
	<g>
		<path d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256
			c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/>
	</g>
</g>
</svg>`,ic=(function(){function i(){z(this,i)}return P(i,null,[{key:"createImage",value:function(t,e){var n=new Image;return n[de]=t[de],e&&aa.scrollDownOnImageLoad(n[de],e),aa.processContent(Ye,n,n[de],t.name)}},{key:"createImageMessage",value:function(t,e,n,r){var o=t.createNewMessageElement("",n),u=r?t.scrollToFirstElement.bind(t,n,r):void 0,f=i.createImage(e,u);return o.bubbleElement.appendChild(f),o.bubbleElement[B].add(i.IMAGE_BUBBLE_CLASS),{type:Ye,elements:o}}},{key:"createAudioElement",value:function(t,e){var n=se(De);return n[de]=t[de],n[B].add("audio-player"),n.controls=!0,ra.IS_SAFARI&&(n[B].add("audio-player-safari"),n[B].add(e===qe?"audio-player-safari-end":"audio-player-safari-start")),n}},{key:"autoPlayAudio",value:function(t){t.addEventListener("loadeddata",function(){t.play().catch(function(e){console.warn("Auto-play failed:",e)})})}},{key:"createNewAudioMessage",value:function(t,e,n,r){var o=i.createAudioElement(e,n),u=t.createMessageElementsOnOrientation("",n,r);return u.bubbleElement.appendChild(o),u.bubbleElement[B].add(i.AUDIO_BUBBLE_CLASS),{type:De,elements:u,audioElement:o}}},{key:"createAnyFile",value:function(t){var e=se();e[B].add("any-file-message-contents");var n=se();n[B].add("any-file-message-icon-container");var r=Ja.createSVGElement(gM);r[B].add("any-file-message-icon"),n.appendChild(r);var o=se();return o[B].add("any-file-message-text"),o.textContent=t.name||_t,e.appendChild(n),e.appendChild(o),aa.processContent(or,e,t[de],o.textContent)}},{key:"createNewAnyFileMessage",value:function(t,e,n,r){var o=t.createMessageElementsOnOrientation("",n,r),u=i.createAnyFile(e);return o.bubbleElement[B].add(i.ANY_FILE_BUBBLE_CLASS),o.bubbleElement.appendChild(u),{type:_t,elements:o}}},{key:"createMessages",value:function(t,e,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return e.map(function(u,f){var h;if(u.ref&&(u=aa.removeFileRef(u)),aa.isAudioFile(u)){var p=i.createNewAudioMessage(t,u,n,o),g=(h=t.textToSpeech)==null?void 0:h.audio;return g&&(g.autoPlay&&i.autoPlayAudio(p.audioElement),typeof g.displayAudio=="boolean"&&!g.displayAudio)?void 0:p}return aa.isImageFile(u)?i.createImageMessage(t,u,n,!o&&r&&f===0):i.createNewAnyFileMessage(t,u,n,o)}).filter(function(u){return u!==void 0})}},{key:"addMessages",value:function(t,e,n,r,o){i.createMessages(t,e,n,r,o).filter(function(u){return u!==void 0}).forEach(function(u){var f=u.type,h=u.elements;aa.addMessage(t,h,f,n,o)})}}])})();ic.IMAGE_BUBBLE_CLASS="image-message",ic.AUDIO_BUBBLE_CLASS="audio-message",ic.ANY_FILE_BUBBLE_CLASS="any-file-message";var gS=ic,yM=(function(){function i(){z(this,i)}return P(i,null,[{key:"removeElements",value:function(t,e){if(e){var n=t.findIndex(function(r){return r===e});t.splice(n,1),e?.outerContainer.remove()}}},{key:"removeFilesMessages",value:function(t,e){var n;(n=e[1][H])==null||n.forEach(function(r){i.removeElements(t.messageElementRefs,r)}),delete e[0][H],delete e[1][H]}},{key:"removeTextHTMLMessage",value:function(t,e,n){var r=e[1][n];i.removeElements(t.messageElementRefs,r),delete e[0][n],delete e[1][n]}},{key:"updateHTMLMessage",value:function(t,e,n){var r,o,u;if(e[1][Me])Ti.overwriteElements(t,n,e[1][Me]);else{var f=Ti.create(t,n,e[0].role),h=((o=e[1][H])==null?void 0:o[((r=e[1][H])==null?void 0:r.length)-1])||e[1][w],p=h.outerContainer.nextSibling;(u=p?.parentElement)==null||u.insertBefore(f.outerContainer,p),t.messageElementRefs.splice(t.messageElementRefs.length-1,1);var g=t.messageElementRefs.findIndex(function(y){return y===h});t.messageElementRefs.splice(g+1,0,f),e[1][Me]=f}e[0][Me]=n}},{key:"updateFileMessages",value:function(t,e,n){var r,o,u=e[0].role,f=gS.createMessages(t,n,u,!1),h=e[1][Me],p=((o=e[1][H])==null?void 0:o[((r=e[1][H])==null?void 0:r.length)-1])||e[1][w],g=h||p,y=t.messageElementRefs.findIndex(function(E){return E===g});p&&(y+=1);var b=h?.outerContainer||p?.outerContainer.nextSibling;f.forEach(function(E,S){var A=E.type,R=E.elements,L;aa.setElementProps(t,R,A,u),(L=b.parentElement)==null||L.insertBefore(R.outerContainer,b),t.messageElementRefs.splice(t.messageElementRefs.length-1,1),t.messageElementRefs.splice(y+S,0,R)}),i.removeFilesMessages(t,e),e[1][H]=f.map(function(E){var S=E.elements;return S}),e[0][H]=n}},{key:"updateTextMessage",value:function(t,e,n){var r,o;if(e[1][w])t.renderText(e[1][w].bubbleElement,n,e[0].role);else{var u=t.createElements(n,e[0].role),f=((r=e[1][H])==null?void 0:r[0])||e[1][Me];(o=f.outerContainer.parentElement)==null||o.insertBefore(u.outerContainer,f.outerContainer);var h=t.messageElementRefs.findIndex(function(p){return p===f});t.messageElementRefs.splice(h,0,u),e[1][w]=u}e[0][w]=n}},{key:"isElementActive",value:function(t){var e,n;return Qh.isActiveElement((e=t[w])==null?void 0:e.bubbleElement[B])||Qh.isActiveElement((n=t[Me])==null?void 0:n.bubbleElement[B])}},{key:"update",value:function(t,e,n){var r=t.messageToElements[n];if(r){if(i.isElementActive(r[1]))return console[O]("Cannot update a message that is being streamed");e[w]&&i.updateTextMessage(t,r,e[w]),e[H]?i.updateFileMessages(t,r,e[H]):i.removeFilesMessages(t,r),e[Me]&&i.updateHTMLMessage(t,r,e[Me]),!e[w]&&r[1][w]&&i.removeTextHTMLMessage(t,r,w),!e[Me]&&r[1][Me]&&i.removeTextHTMLMessage(t,r,Me);var o=t.messageElementRefs,u=t.avatar,f=t.name;bt.classifyRoleMessages(o),bt.resetAllRoleElements(o,u,f)}else console[O]("Message index not found. Please use the `getMessages` method to find the correct index")}}])})(),bM=(function(){function i(){z(this,i)}return P(i,null,[{key:"getText",value:function(t,e){var n,r;if(!t.directConnection&&!t.connect&&!t.webModel&&!t.demo)return"Connect to any API using the [connect](".concat(Qe,"connect#connect-1) property or a popular service via [directConnection](").concat(Qe,`directConnection/#directConnection).
 Host AI entirely on your browser via a [webModel](`).concat(Qe,`webModel).
 To get started checkout the [Start](https://deepchat.dev/start) page and live code [examples](https://deepchat.dev/examples/frameworks).
 To remove this message set the [demo](`).concat(Qe,"modes#demo) property to true.");if(t.directConnection){if(!e.isDirectConnection())return`Please define a valid service inside
          the [directConnection](`.concat(Qe,"directConnection/#directConnection) object.");var o=(n=t.directConnection.openAI)==null?void 0:n.chat;if(ie(o)=="object"&&(r=o.tools)!=null&&r.find(function(u){return u.type==="function"})&&!o.function_handler)return"Please define the `function_handler` property inside the openAI [chat](".concat(Qe,"directConnection/openAI#Chat) object.")}else if(t.connect&&!t.connect.url&&!t.connect.handler)return"Please define a `url` or a `handler` property inside the [connect](".concat(Qe,"connect#connect-1) object.");return null}}])})(),Qh=(function(i){function l(t,e,n){var r;z(this,l);var o,u;r=ce(this,l,[t]);var f=e.permittedErrorPrefixes,h=e.demo;r._errorMessageOverrides=(o=t.errorMessages)==null?void 0:o.overrides,r._onClearMessages=fr.onClearMessages.bind(r,t),r._onError=fr.onError.bind(r,t),r._isLoadingMessageAllowed=l.getDefaultDisplayLoadingMessage(t,e),ie(t.displayLoadingBubble)=="object"&&t.displayLoadingBubble.toggle&&(t.displayLoadingBubble.toggle=r.setLoadingToggle.bind(r)),r._permittedErrorPrefixes=f,r.addSetupMessageIfNeeded(t,e)||r.populateIntroPanel(n),h&&r.prepareDemo(Ct.processDemo(h),t.loadHistory),r.addIntroductoryMessages(t,e);var p=new Cm(t,r,e);return r._displayServiceErrorMessages=(u=t.errorMessages)==null?void 0:u.displayServiceErrorMessages,t.getMessages=function(){return bt.deepCloneMessagesWithReferences(r.messageToElements.map(function(g){var y=sr(g,1),b=y[0];return b}))},t.clearMessages=r.clearMessages.bind(r,e),t.refreshMessages=r.refreshTextMessages.bind(r,t.remarkable),t.scrollToBottom=Ke.scrollToBottom.bind(r,r),t.addMessage=function(g,y){r.addAnyMessage(ze(ze({},g),{},{sendUpdate:!!y}),!y)},t.updateMessage=function(g,y){return yM.update(r,g,y)},e.isWebModel()&&e.setUpMessages(r),t.textToSpeech&&Zu.processConfig(t.textToSpeech,function(g){r.textToSpeech=g}),r.elementRef.onscroll=I(k().m(function g(){var y,b;return k().w(function(E){for(;;)switch(E.n){case 0:t.loadHistory&&p.loadHistoryOnScroll(t.loadHistory),(y=r.scrollButton)==null||y.updateScroll(),(b=r.browserStorage)!=null&&b.trackScrollHeight&&r.browserStorage.addScrollHeight(r.elementRef.scrollTop);case 1:return E.a(2)}},g)})),r}return fe(l,i),P(l,[{key:"setLoadingToggle",value:function(e){var n=this.messageElementRefs[this.messageElementRefs.length-1],r=_a.isLoadingMessage(n);if(!e&&r)this.removeLastMessage(),delete this._activeLoadingConfig;else{if(this._activeLoadingConfig&&r){var o=sn.getTargetWrapper(n.bubbleElement);if(o)return this._activeLoadingConfig=e||{},this.updateLoadingMessage(o);this.removeLastMessage()}this._activeLoadingConfig=e||{},this.addLoadingMessage(!0)}}},{key:"prepareDemo",value:function(e,n){var r;if(ie(e)=="object"){if(!n&&e.displayLoading){var o=e.displayLoading.history;o!=null&&o.small&&ar.addMessage(this,!1),o!=null&&o.full&&ar.addMessage(this)}e.displayErrors&&(e.displayErrors[le]&&this.addNewErrorMessage("",""),e.displayErrors.service&&this.addNewErrorMessage(St,""),e.displayErrors.speechToText&&this.addNewErrorMessage("speechToText","")),(r=e.displayLoading)!=null&&r.message&&this.addLoadingMessage(),e.response&&(this.customDemoResponse=e.response)}}},{key:"addSetupMessageIfNeeded",value:function(e,n){var r=bM.getText(e,n);if(r){var o=this.createAndAppendNewMessageElement(r,vt);this.applyCustomStyles(o,vt,!1)}return!!r}},{key:"addIntroductoryMessages",value:function(e,n){var r=this;e!=null&&e.shadowRoot&&(this._introMessage=e.introMessage);var o=this._introMessage;n!=null&&n.isWebModel()&&(o??(o=n.getIntroMessage(o)));var u=!(e!=null&&e.history)&&!!(e!=null&&e.loadHistory||n!=null&&n.fetchHistory);o&&(Array.isArray(o)?o.forEach(function(f,h){if(h!==0){var p=r.messageElementRefs[r.messageElementRefs.length-1].innerContainer;bt.hideRoleElements(p,r.avatar,r.name)}r.addIntroductoryMessage(f,u)}):this.addIntroductoryMessage(o,u))}},{key:"addIntroductoryMessage",value:function(e,n){var r,o;return e!=null&&e[w]?o=this.createAndAppendNewMessageElement(e[w],vt):e!=null&&e[Me]&&(o=Ti.add(this,e[Me],vt)),o&&(this.applyCustomStyles(o,vt,!1,(r=this.messageStyles)==null?void 0:r.intro),o.outerContainer[B].add(_a.INTRO_CLASS),n&&(o.outerContainer[X].display="none")),o}},{key:"removeIntroductoryMessage",value:function(){var e=this.messageElementRefs[0];e.outerContainer[B].contains(_a.INTRO_CLASS)&&(e.outerContainer.remove(),this.messageElementRefs.shift())}},{key:"addAnyMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e[O]?this.addNewErrorMessage(St,e[O],r):this.addNewMessage(e,n,r)}},{key:"tryAddTextMessage",value:function(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;e[w]!==void 0&&r[w]!==null&&(this.addNewTextMessage(e[w],e.role,n,u),!o&&this.textToSpeech&&e.role!==qe&&Zu.speak(e[w],this.textToSpeech))}},{key:"tryAddFileMessages",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e[H]&&Array.isArray(e[H])&&gS.addMessages(this,e[H],e.role,n,r)}},{key:"tryAddHTMLMessage",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e[Me]!==void 0&&e[Me]!==null){var o=Ti.add(this,e[Me],e.role,n,r);!r&&ms.isElementTemporary(o)&&delete e[Me]}}},{key:"addNewMessage",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u,f,h,p;e.role!==qe&&((u=this._hiddenAttachments)==null||u.removeHiddenFiles());var g=l.createMessageContent(e),y=(h=(f=this.textToSpeech)==null?void 0:f.audio)==null?void 0:h.displayText;typeof y=="boolean"&&!y&&delete g[w];var b=Ke.isScrollbarAtBottomOfElement(this.elementRef),E={status:e.overwrite};return o?(this.tryAddFileMessages(g,b,o),this.tryAddHTMLMessage(g,E,o),this.tryAddTextMessage(g,E,e,r,o)):(this.tryAddTextMessage(g,E,e,r,o),this.tryAddHTMLMessage(g,E,o),this.tryAddFileMessages(g,b,o)),this.isValidMessageContent(g)&&!o&&(this.updateStateOnMessage(g,e.overwrite,e.sendUpdate,r),E.status||setTimeout(function(){return n.scrollToFirstElement(g.role,b)}),r||(p=this.browserStorage)==null||p.addMessages(this.messageToElements.map(function(S){var A=sr(S,1),R=A[0];return R})),this.scrollButton&&g.role!==qe&&this.tryUpdateHiddenMessageCount(r,e)),this._activeLoadingConfig&&this.addLoadingMessage(!1),g}},{key:"tryUpdateHiddenMessageCount",value:function(e,n){var r=this;(!e||n.sendUpdate!==void 0)&&setTimeout(function(){var o,u;return(u=(o=r.scrollButton)==null?void 0:o.updateHidden)==null?void 0:u.call(o)})}},{key:"isValidMessageContent",value:function(e){return e[w]||e[Me]||e[H]&&e[H].length>0}},{key:"updateStateOnMessage",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!n){var u=bt.generateMessageBody(e,this.messageElementRefs);this.messageToElements.push([e,u])}r&&this.sendClientUpdate(e,o)}},{key:"removeMessageOnError",value:function(){var e=this.messageElementRefs[this.messageElementRefs.length-1],n=e?.bubbleElement;(n!=null&&n[B].contains(Ka.MESSAGE_CLASS)&&n.textContent===""||l.isTemporaryElement(e))&&this.removeLastMessage()}},{key:"addNewErrorMessage",value:function(e,n){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u,f,h,p,g,y;(u=this._hiddenAttachments)==null||u.readdHiddenFiles(),this.removeMessageOnError();var b=this.getPermittedMessage(n)||((f=this._errorMessageOverrides)==null?void 0:f[e])||((h=this._errorMessageOverrides)==null?void 0:h[le])||"Error, please try again.",E=this.createMessageElementsOnOrientation(b,O,o);bt.hideRoleElements(E.innerContainer,this.avatar,this.name);var S=E.bubbleElement,A=E.outerContainer;S[B].add(oc),this.renderText(S,b);var R=Qu.extractParticularSharedStyles(["fontSize","fontFamily"],(p=this.messageStyles)==null?void 0:p[le]);Qu.applyCustomStylesToElements(E,!1,R),Qu.applyCustomStylesToElements(E,!1,(g=this.messageStyles)==null?void 0:g[O]),o||this.appendOuterContainerElemet(A),this.textToSpeech&&Zu.speak(b,this.textToSpeech),(y=this._onError)==null||y.call(this,b),setTimeout(function(){return Ke.scrollToBottom(r)})}},{key:"getPermittedMessage",value:function(e){if(e)for(var n=l.extractErrorMessages(e),r=0;r<n.length;r+=1){var o=n[r];if(typeof o=="string"){if(this._displayServiceErrorMessages)return o;if(this._permittedErrorPrefixes){var u=l.checkPermittedErrorPrefixes(this._permittedErrorPrefixes,o);if(u)return u}}}}},{key:"removeError",value:function(){this.isLastMessageError()&&bt.getLastMessageElement(this.elementRef).remove()}},{key:"addDefaultLoadingMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt,r=this.createMessageElements("",n),o=r.bubbleElement;r.bubbleElement[B].add(ki.DOTS_CONTAINER_CLASS);var u=se();return u[B].add("loading-message-dots"),o.appendChild(u),ki.setDots(o,e),r}},{key:"addLoadingMessage",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n,r,o,u,f,h;if(!(_a.isLoadingMessage(this.messageElementRefs[this.messageElementRefs.length-1])||!this._activeLoadingConfig&&!e&&!this._isLoadingMessageAllowed)){var p=((n=this._activeLoadingConfig)==null?void 0:n.role)||vt,g=((r=this._activeLoadingConfig)==null?void 0:r[X])||((u=(o=this.messageStyles)==null?void 0:o.loading)==null?void 0:u.message),y=g?.[Me],b=y?Ti.createElements(this,y,p,!1):this.addDefaultLoadingMessage(g,p);this.appendOuterContainerElemet(b.outerContainer),b.bubbleElement[B].add(ki.BUBBLE_CLASS),this.applyCustomStyles(b,p,!1,g?.styles),(h=(f=this.avatar)==null?void 0:f.getAvatarContainer(b.innerContainer))==null||h[B].add("loading-avatar-container"),!this.focusMode&&Ke.isScrollbarAtBottomOfElement(this.elementRef)&&Ke.scrollToBottom(this)}}},{key:"updateLoadingMessage",value:function(e){var n,r=(n=this._activeLoadingConfig)==null?void 0:n[X],o=r?.[Me];e.innerHTML=o||""}},{key:"populateIntroPanel",value:function(e){e&&(this._introPanel=new vM(e),sn.apply(this,this._introPanel._elementRef),this.elementRef.appendChild(this._introPanel._elementRef))}},{key:"addMultipleFiles",value:(function(){var t=I(k().m(function n(r,o){return k().w(function(u){for(;;)if(u.n===0)return u.a(2,(this._hiddenAttachments=o,Promise.all((r||[]).map(function(f){return new Promise(function(h){if(!f.type||f.type===or){var p=f[_t].name||_t;h({name:p,type:or,ref:f[_t]})}else{var g=new FileReader;g.readAsDataURL(f[_t]),g.onload=function(){var y=f[_t].name;h(C(C(C(C({},de,g.result),"name",y),"type",f.type),"ref",f[_t]))}}})}))))},n,this)}));function e(n,r){return t.apply(this,arguments)}return e})()},{key:"clearMessages",value:function(e,n){var r,o,u,f,h,p=[];this.messageElementRefs.forEach(function(y){l.isActiveElement(y.bubbleElement[B])?p.push(y):y.outerContainer.remove()}),Array.from(this.elementRef.children).forEach(function(y){var b,E=(b=y.children[0])==null?void 0:b.children[0];E!=null&&E[B].contains(oc)&&y.remove()}),this.messageElementRefs=p;var g=this.messageToElements.filter(function(y){return y[1][w]&&l.isActiveElement(y[1][w].bubbleElement[B])||y[1][Me]&&l.isActiveElement(y[1][Me].bubbleElement[B])});(r=this.messageToElements).splice.apply(r,[0,this.messageToElements.length].concat(tr(g))),n!==!1&&((o=this._introPanel)!=null&&o._elementRef&&this._introPanel.display(),this.addIntroductoryMessages()),(u=this.browserStorage)==null||u.clear(),(f=this.scrollButton)==null||f.clearHidden(),(h=this._onClearMessages)==null||h.call(this),delete e.sessionId}}],[{key:"getDefaultDisplayLoadingMessage",value:function(e,n){var r;return ie(e.displayLoadingBubble)=="object"&&e.displayLoadingBubble.toggle?!1:n.websocket?ie(e.displayLoadingBubble)===Ue?!1:!!e.displayLoadingBubble:(r=ie(e.displayLoadingBubble)===Ue||e.displayLoadingBubble)!==null&&r!==void 0?r:!0}},{key:"checkPermittedErrorPrefixes",value:function(e,n){for(var r=0;r<e.length;r+=1)if(n.startsWith(e[r]))return n}},{key:"extractErrorMessages",value:function(e){return Array.isArray(e)?e:e instanceof Error?[e.message]:typeof e=="string"?[e]:ie(e)=="object"&&e[O]?[e[O]]:[]}},{key:"isActiveElement",value:function(e){return e?e.contains(ki.BUBBLE_CLASS)||e.contains(ar.CLASS)||e.contains(Ka.MESSAGE_CLASS):!1}}])})(_a),SM=(function(){function i(){z(this,i)}return P(i,null,[{key:"adjustInputPadding",value:function(t,e){e[gs].length>0&&t[B].add("text-input-inner-start-adjustment"),e[ba].length>0&&t[B].add("text-input-inner-end-adjustment")}},{key:"adjustForOutsideButton",value:function(t,e,n){n[Jt].length===0&&n[fn].length>0?(t[0][B].add(Qy),e[B].add(Qy)):n[fn].length===0&&n[Jt].length>0&&(t[3][B].add(Wy),e[B].add(Wy))}},{key:"adjustOutsideSubmit",value:function(t,e,n){if(!(n[gs].length>0||n[ba].length>0)){if(n[Jt].length===0&&n[fn].length>0)return t[0][B].add($y),e[B].add($y),n[fn].map(function(r){return r.button.elementRef[B].add("submit-button-enlarged")});if(n[fn].length===0&&n[Jt].length>0)return t[3][B].add(Zy),e[B].add(Zy),n[Jt].map(function(r){return r.button.elementRef[B].add("submit-button-enlarged")})}}},{key:"set",value:function(t,e,n,r){i.adjustOutsideSubmit(e,n,r)||i.adjustForOutsideButton(e,n,r),i.adjustInputPadding(t,r)}}])})(),dc=(function(){function i(){z(this,i)}return P(i,null,[{key:"create",value:function(){return Array.from({length:4}).map(function(t,e){var n=se();return n[B].add("input-button-container"),(e===0||e===3)&&n[B].add("outer-button-container"),(e===1||e===2)&&n[B].add("inner-button-container"),n})}},{key:"add",value:function(t,e){t.insertBefore(e[1],t.firstChild),t.insertBefore(e[0],t.firstChild),t.appendChild(e[2]),t.appendChild(e[3])}},{key:"getContainerIndex",value:function(t){return t===fn?0:t===gs?1:t===ba?2:3}},{key:"addButton",value:function(t,e,n){e[B].add(n);var r=i.getContainerIndex(n);t[r].appendChild(e),r===3&&e[B].add(Jt)}}])})(),e1=["camera","gifs","images","audio","mixedFiles","submit","microphone"],_M=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" fill="none">
  <rect x="2.5" y="2.5" width="17" height="17" rx="2" stroke="#000000" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,Xl=(function(){function i(){z(this,i)}return P(i,null,[{key:"addHighlightEvents",value:function(t,e){e.addEventListener("mouseenter",function(n){t.highlightedItem=n.target}),e.addEventListener("mouseleave",function(){t.highlightedItem=void 0})}},{key:"addItemEvents",value:function(t,e,n,r){Mc.add(e,r),e.addEventListener(nt,function(){n[nt]()}),i.addHighlightEvents(t,e)}},{key:"createItemText",value:function(t,e){var n=se();return Object.assign(n[X],e),n[B].add(i.TEXT_CLASS),n.textContent=t||"File",n}},{key:"createItemIcon",value:function(t,e){var n=se();return Object.assign(n[X],e),n[B].add(i.ICON_CLASS),n.appendChild(t),n}},{key:"populateItem",value:function(t,e,n){var r=t.elementRef,o=t.dropupText,u=t.svg,f=t.customStyles,h=r.children[0],p=f&&Object.values(f).find(function(g){var y;return((y=g.svg)==null?void 0:y.content)===""});h[B].contains(Ai.INPUT_BUTTON_INNER_TEXT_CLASS)?(p||e.appendChild(i.createItemIcon(u,n?.iconContainer)),e.appendChild(i.createItemText(h.textContent,n?.[w]))):(p||e.appendChild(i.createItemIcon(r.children[0],n?.iconContainer)),e.appendChild(i.createItemText(o,n?.[w])))}},{key:"createItem",value:function(t,e,n){var r,o=se();Object.assign(o[X],(r=n?.item)==null?void 0:r[le]),i.populateItem(e,o,n),o[B].add(i.MENU_ITEM_CLASS),o.tabIndex=0;var u=e.elementRef;if(e.isCustom)e.setDropupItem(t,o);else{var f=Gt.processStateful(n?.item||{});i.addItemEvents(t,o,u,f)}return o}}])})();Xl.MENU_ITEM_CLASS="dropup-menu-item",Xl.CUSTOM_BUTTON_ITEM_CLASS="dropup-menu-item-custom-button",Xl.TEXT_CLASS="dropup-menu-item-text",Xl.ICON_CLASS="dropup-menu-item-icon";var Va=Xl,os=(function(i){function l(t,e,n,r){var o;z(this,l);var u,f,h,p,g,y,b=((p=(h=(f=(u=t?.styles)==null?void 0:u.button)==null?void 0:f[le])==null?void 0:h[w])==null?void 0:p.content)||"Custom ".concat(e),E=_M,S=Xa.tryCreateConfig("Custom ".concat(e),t?.tooltip);return o=ce(this,l,[l.createButtonElement(),E,t?.position,S,((g=t?.styles)==null?void 0:g.button)||S&&{},b]),o._state=le,o.isCustom=!0,o._innerElements=o.createInnerElementsForStates(o.customStyles),o._menuStyles=r,o._onClick=t.onClick,o._dropupStyles=(y=t.styles)==null?void 0:y.dropup,o.setSetState(t),o.addClickListener(n),o.changeState(t.initialState,!0),o}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e){var n="custom-icon",r=this.createInnerElements(n,le,e);return C(C(C({},le,r),"active",this.genStateInnerElements(n,"active",r,e)),"disabled",this.genStateInnerElements(n,"disabled",r,e))}},{key:"setSetState",value:function(e){var n=this;e.setState=function(r){r===le&&n.changeToDefault(),r==="active"&&n.changeToActive(),r==="disabled"&&n.changeToDisabled()}}},{key:"addClickListener",value:function(e){var n=this;Ke.assignButtonEvents(this.elementRef,function(){var r,o=(r=n._onClick)==null?void 0:r.call(n,n._state);e?.(),(o===le||o==="active"||o==="disabled")&&n.changeState(o)})}},{key:"changeState",value:function(e,n){e==="disabled"?this.changeToDisabled(n):e==="active"?this.changeToActive(n):this.changeToDefault(n)}},{key:"applyDropupContentStyles",value:function(e){var n=Array.from(this.elementRef.children);if(e!=null&&e[w]){var r=n.find(function(u){return u[B].contains(Va.TEXT_CLASS)});r&&Object.assign(r[X],e[w])}if(e!=null&&e.iconContainer){var o=n.find(function(u){return u[B].contains(Va.ICON_CLASS)});o&&Object.assign(o[X],e.iconContainer)}}},{key:"resetDropupItem",value:function(e){var n,r,o;this.elementRef=sn.replaceElementWithNewClone(this.elementRef,this._originalElementRef),this.elementRef.innerHTML="",((n=e?.svg)==null?void 0:n.content)===""||this.elementRef.appendChild(Va.createItemIcon(this.svg,(r=this._menuStyles)==null?void 0:r.iconContainer)),this.elementRef.appendChild(Va.createItemText(this.dropupText,(o=this._menuStyles)==null?void 0:o[w]))}},{key:"assignDropupItemStyle",value:function(e,n){var r;this.elementRef.parentElement&&this._originalElementRef&&this.resetDropupItem(n),Va.addHighlightEvents(this._menu,this.elementRef),this.applyDropupContentStyles(e),Object.assign(this.elementRef[X],(r=e?.item)==null?void 0:r[le]);var o=Gt.processStateful(e?.item||{});Mc.add(this.elementRef,o),this.addClickListener()}},{key:"changeToDefault",value:function(e){var n,r,o,u,f,h;!e&&this._state===le||(this.elementRef[B].contains(Va.MENU_ITEM_CLASS)?this.assignDropupItemStyle((n=this._dropupStyles)==null?void 0:n[le],(r=this.customStyles)==null?void 0:r[le]):(this.changeElementsByState(this._innerElements[le]),(o=this.customStyles)!=null&&o.active&&pn.unsetAllCSS(this.elementRef,(u=this.customStyles)==null?void 0:u.active),(f=this.customStyles)!=null&&f.disabled&&pn.unsetAllCSS(this.elementRef,(h=this.customStyles)==null?void 0:h.disabled),this.reapplyStateStyle(le,["active","disabled"])),this.elementRef[B].remove(l.DISABLED_CONTAINER_CLASS,l.ACTIVE_CONTAINER_CLASS),this.elementRef[B].add(l.DEFAULT_CONTAINER_CLASS),Yt.removeAriaDisabled(this.elementRef),this._state=le)}},{key:"changeToActive",value:function(e){var n,r;!e&&this._state==="active"||(this.elementRef[B].contains(Va.MENU_ITEM_CLASS)?this.assignDropupItemStyle((n=this._dropupStyles)==null?void 0:n.active,(r=this.customStyles)==null?void 0:r.active):(this.changeElementsByState(this._innerElements.active),this.reapplyStateStyle("active",["disabled",le])),this.elementRef[B].remove(l.DISABLED_CONTAINER_CLASS,l.DEFAULT_CONTAINER_CLASS),this.elementRef[B].add(l.ACTIVE_CONTAINER_CLASS),Yt.removeAriaDisabled(this.elementRef),this._state="active")}},{key:"changeToDisabled",value:function(e){var n,r,o,u,f,h;!e&&this._state==="disabled"||(this.elementRef[B].contains(Va.MENU_ITEM_CLASS)?this.assignDropupItemStyle((n=this._dropupStyles)==null?void 0:n.disabled,(r=this.customStyles)==null?void 0:r.disabled):(this.changeElementsByState(this._innerElements.disabled),(o=this.customStyles)!=null&&o.active&&pn.unsetAllCSS(this.elementRef,(u=this.customStyles)==null?void 0:u.active),(f=this.customStyles)!=null&&f[le]&&pn.unsetAllCSS(this.elementRef,(h=this.customStyles)==null?void 0:h[le]),this.reapplyStateStyle("disabled",[le,"active"])),this.elementRef[B].remove(l.ACTIVE_CONTAINER_CLASS,l.DEFAULT_CONTAINER_CLASS),this.elementRef[B].add(l.DISABLED_CONTAINER_CLASS),Yt.addAriaDisabled(this.elementRef),this._state="disabled")}},{key:"setDropupItem",value:function(e,n){this._menu=e,this.elementRef=n,this._originalElementRef=n.cloneNode(!0),this.changeState(this._state,!0)}},{key:"genStateInnerElements",value:function(e,n,r,o){var u,f,h,p,g=this.createInnerElements(e,n,o),y=(f=(u=o?.[n])==null?void 0:u.svg)==null?void 0:f.content,b=(p=(h=o?.[n])==null?void 0:h[w])==null?void 0:p.content;if(y===void 0||b===void 0){var E=Ql.parseSVGTextElements(r),S=E.svg,A=E[w],R=Ql.parseSVGTextElements(g),L=R.svg,K=R[w],F=[];l.addToInnerElements(F,y,S,L),l.addToInnerElements(F,b,A,K),g=F}return g}}],[{key:"createButtonElement",value:function(){var e=se();return e[B].add("input-button",l.BUTTON_CLASS),e}},{key:"addToInnerElements",value:function(e,n,r,o){n===void 0&&r?e.push(r.cloneNode(!0)):o&&e.push(o)}},{key:"add",value:function(e,n){var r=e.customButtons,o=e.focusInput,u=e.dropupStyles;r?.forEach(function(f,h){var p={button:new l(f,h+1,o,u?.menu)};n["".concat(l.INDICATOR_PREFIX).concat(h+1)]=p})}}])})(vr);os.INDICATOR_PREFIX="custom",os.BUTTON_CLASS="custom-button",os.DISABLED_CONTAINER_CLASS="custom-button-container-disabled",os.DEFAULT_CONTAINER_CLASS="custom-button-container-default",os.ACTIVE_CONTAINER_CLASS="custom-button-container-active";var Wl=os,EM=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z"></path>
</svg>`,t1=(function(){function i(){z(this,i)}return P(i,null,[{key:"focusItemWhenOnEdge",value:function(t,e){var n=t.elementRef,r=e?n.children[0]:n.children[n.children.length-1];i.focusSiblingItem(t,r,e,!0)}},{key:"focusSiblingItem",value:function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=r?e:e[n?"nextSibling":"previousSibling"];o?(e.dispatchEvent(new MouseEvent("mouseleave")),o.dispatchEvent(new MouseEvent("mouseenter")),o.focus()):(e.dispatchEvent(new MouseEvent("mouseleave")),i.focusItemWhenOnEdge(t,n))}}])})(),kM=(function(){function i(l,t){var e=this;z(this,i);var n;this._isOpen=!0,this._styles=t,this.elementRef=i.createElement((n=this._styles)==null?void 0:n.container),this.close(),setTimeout(function(){return e.addWindowEvents(l)})}return P(i,[{key:"open",value:function(){this.elementRef[X].display="block",this._isOpen=!0}},{key:"close",value:function(){this._isOpen&&(this.elementRef[X].display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.close():this.open()}},{key:"addItem",value:function(t){var e=Va.createItem(this,t,this._styles);this.elementRef.appendChild(e)}},{key:"addWindowEvents",value:function(t){this.clickEvent=this.windowClick.bind(this,t),window.addEventListener(nt,this.clickEvent),this.keyDownEvent=this.windowKeyDown.bind(this,t),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowClick",value:function(t,e){var n;!t.isConnected&&this.clickEvent?window.removeEventListener(nt,this.clickEvent):t.parentElement!==((n=e.target.shadowRoot)==null?void 0:n.children[0])&&this.close()}},{key:"windowKeyDown",value:function(t,e){var n,r,o;!t.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(e.key===Ft.ESCAPE?(this.close(),(n=this.highlightedItem)==null||n.dispatchEvent(new MouseEvent("mouseleave"))):e.key===Ft.ENTER?((r=this.highlightedItem)==null||r[nt](),(o=this.highlightedItem)==null||o.dispatchEvent(new MouseEvent("mouseleave"))):e.key===Ft.ARROW_DOWN?t1.focusSiblingItem(this,this.highlightedItem||this.elementRef.children[this.elementRef.children.length-1],!0):e.key===Ft.ARROW_UP&&t1.focusSiblingItem(this,this.highlightedItem||this.elementRef.children[0],!1))}}],[{key:"createElement",value:function(t){var e=se();return e.id=na,Object.assign(e[X],t),e}}])})(),yS=(function(i){function l(t,e){var n;z(this,l);var r,o,u=Xa.tryCreateConfig("Options",(r=e?.button)==null?void 0:r.tooltip);n=ce(this,l,[l.createButtonElement(),EM,void 0,u,{styles:(o=e?.button)==null?void 0:o.styles}]);var f=n.createInnerElementsForStates(n.customStyles);return n._menu=new kM(t,e?.menu),n.addClickEvent(),n.buttonContainer=l.createButtonContainer(),n.changeElementsByState(f.styles),n.buttonContainer.appendChild(n.elementRef),n.elementRef[B].add(l.BUTTON_ICON_CLASS),n.buttonContainer.appendChild(n._menu.elementRef),n.reapplyStateStyle("styles"),n.addContainerEvents(t),n}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e){return{styles:this.createInnerElements("dropup-icon","styles",e)}}},{key:"addClickEvent",value:function(){var e=this;this.elementRef.onclick=this._menu.toggle.bind(this._menu),this.elementRef.onkeydown=function(n){n.key===Ft.ENTER&&setTimeout(function(){e._menu.toggle();var r=e._menu.elementRef.children[0];r.focus(),r.dispatchEvent(new MouseEvent("mouseenter"))})}}},{key:"addItem",value:function(e){this._menu.addItem(e)}},{key:"addContainerEvents",value:function(e){var n=this;e.addEventListener(nt,function(r){var o=r.target[B];!o.contains(l.BUTTON_ICON_CLASS)&&!o.contains(Wl.DISABLED_CONTAINER_CLASS)&&n._menu.close()})}}],[{key:"createButtonElement",value:function(){var e=se();return e[B].add("input-button"),e}},{key:"createButtonContainer",value:function(){var e=se();return e.id="dropup-container",e}},{key:"getPosition",value:function(e,n){var r,o;return(r=n?.button)!=null&&r.position?Ct.processPosition((o=n?.button)==null?void 0:o.position):e[fn].length>0&&e[Jt].length===0?Jt:fn}}])})(vr);yS.BUTTON_ICON_CLASS="dropup-button";var n1=yS,CM=(function(){function i(){z(this,i)}return P(i,null,[{key:"addToDropup",value:function(t,e,n,r){var o=new n1(n,r);e1.forEach(function(f){var h=e[na].findIndex(function(g){return g.buttonType===f}),p=e[na][h];p&&(o.addItem(p.button),e[na].splice(h,1))}),e[na].forEach(function(f){var h=f.button;return o.addItem(h)});var u=n1.getPosition(e,r);dc.addButton(t,o.buttonContainer,u),e[u].push({})}},{key:"addToSideContainer",value:function(t,e){[gs,ba,fn,Jt].forEach(function(n){var r=n;e[r].forEach(function(o){dc.addButton(t,o.button.elementRef,r)})})}},{key:"setPosition",value:function(t,e,n){var r=ze(ze({},t[e]),{},{buttonType:e});n.push(r),delete t[e]}},{key:"createPositionsToButtonsObj",value:function(){return C(C(C(C(C({},na,[]),fn,[]),gs,[]),ba,[]),Jt,[])}},{key:"generatePositionToButtons",value:function(t){var e=i.createPositionsToButtonsObj();Object.keys(t).forEach(function(r){var o,u=(o=t[r])==null?void 0:o.button.position;u&&i.setPosition(t,r,e[u])}),e[ba].length===0&&t.submit&&i.setPosition(t,"submit",e[ba]),e[Jt].length===0&&(t.submit?i.setPosition(t,"submit",e[Jt]):t.microphone?i.setPosition(t,va,e[Jt]):t.camera?i.setPosition(t,vn,e[Jt]):t["".concat(Wl.INDICATOR_PREFIX,"1")]&&i.setPosition(t,"".concat(Wl.INDICATOR_PREFIX,"1"),e[Jt])),t.submit&&i.setPosition(t,"submit",e[fn].length===0?e[fn]:e[ba]),t.microphone&&i.setPosition(t,va,e[fn].length===0?e[fn]:e[ba]);var n=Object.keys(t);return n.length>1||e[na].length>0?(e1.forEach(function(r){t[r]&&e[na].push(ze(ze({},t[r]),{},{buttonType:r}))}),n.forEach(function(r){var o=r;o.startsWith(Wl.INDICATOR_PREFIX)&&t[o]&&e[na].push(ze(ze({},t[o]),{},{customType:o}))})):n.length===1&&i.setPosition(t,n[0],e[Jt].length===0?e[Jt]:e[fn]),e}},{key:"addButtons",value:function(t,e,n,r){var o=i.generatePositionToButtons(e);return i.addToSideContainer(t,o),o[na].length>0&&i.addToDropup(t,o,n,r),o}}])})(),wM=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20 10.9696L11.9628 18.5497C10.9782 19.4783 9.64274 20 8.25028 20C6.85782 20 5.52239 19.4783 4.53777 18.5497C3.55315 17.6211 3 16.3616 3 15.0483C3 13.7351 3.55315 12.4756 4.53777 11.547L12.575 3.96687C13.2314 3.34779 14.1217 3 15.05 3C15.9783 3 16.8686 3.34779 17.525 3.96687C18.1814 4.58595 18.5502 5.4256 18.5502 6.30111C18.5502 7.17662 18.1814 8.01628 17.525 8.63535L9.47904 16.2154C9.15083 16.525 8.70569 16.6989 8.24154 16.6989C7.77738 16.6989 7.33224 16.525 7.00403 16.2154C6.67583 15.9059 6.49144 15.4861 6.49144 15.0483C6.49144 14.6106 6.67583 14.1907 7.00403 13.8812L14.429 6.88674" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,TM=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20,15.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L5.5,4 C4.67157288,4 4,4.67157288 4,5.5 L4,12.2928932 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 L13.5,14.7928932 L16.1464466,12.1464466 C16.3417088,11.9511845 16.6582912,11.9511845 16.8535534,12.1464466 L20,15.2928932 Z M20,16.7071068 L16.5,13.2071068 L13.8535534,15.8535534 C13.6582912,16.0488155 13.3417088,16.0488155 13.1464466,15.8535534 L7.5,10.2071068 L4,13.7071068 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,16.7071068 Z M3,5.5 C3,4.11928813 4.11928813,3 5.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,5.5 Z M15,6 L17,6 C17.5522847,6 18,6.44771525 18,7 L18,9 C18,9.55228475 17.5522847,10 17,10 L15,10 C14.4477153,10 14,9.55228475 14,9 L14,7 C14,6.44771525 14.4477153,6 15,6 Z M15,7 L15,9 L17,9 L17,7 L15,7 Z"/>
</svg>
`,AM=`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-49.49 -49.49 593.87 593.87" stroke-width="3.95908" transform="rotate(0)">
  <g stroke-width="0"></g>
  <g stroke-linecap="round" stroke-linejoin="round" stroke-width="0.98977"></g>
  <g>
    <g>
      <g>
        <path d="M163.205,76.413v293.301c-3.434-3.058-7.241-5.867-11.486-8.339c-21.38-12.452-49.663-15.298-77.567-7.846 c-49.038,13.096-80.904,54.519-71.038,92.337c4.019,15.404,14.188,28.221,29.404,37.087c13.553,7.894,29.87,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.447-4.087c42.74-11.406,72.411-44.344,72.807-77.654h0.011v-0.162c0.002-0.166,0-0.331,0-0.496V187.072 l290.971-67.3v178.082c-3.433-3.055-7.238-5.863-11.481-8.334c-21.385-12.452-49.654-15.308-77.567-7.846 c-49.038,13.087-80.904,54.519-71.038,92.356c4.019,15.385,14.183,28.212,29.404,37.067c13.548,7.894,29.875,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.452-4.087c42.74-11.413,72.411-44.346,72.804-77.654h0.004v-0.065c0.003-0.236,0.001-0.469,0-0.704V0 L163.205,76.413z M104.999,471.779c-22.543,6.038-45.942,3.846-62.572-5.846c-10.587-6.163-17.591-14.817-20.255-25.038 c-7.144-27.375,18.452-58.029,57.062-68.346c8.409-2.25,16.938-3.346,25.188-3.346c13.87,0,26.962,3.115,37.389,9.192 c10.587,6.163,17.591,14.817,20.255,25.029c0.809,3.102,1.142,6.248,1.139,9.4v0.321h0.014 C162.99,437.714,139.082,462.678,104.999,471.779z M182.898,166.853V92.067l290.971-67.298v74.784L182.898,166.853z M415.677,399.923c-22.558,6.038-45.942,3.837-62.587-5.846c-10.587-6.163-17.587-14.817-20.25-25.019 c-7.144-27.385,18.452-58.058,57.058-68.365c8.414-2.25,16.942-3.346,25.192-3.346c13.875,0,26.962,3.115,37.385,9.192 c10.596,6.163,17.596,14.817,20.26,25.029v0.01c0.796,3.05,1.124,6.144,1.135,9.244v0.468h0.02 C473.668,365.851,449.763,390.814,415.677,399.923z">
        </path>
      </g>
    </g>
  </g>
</svg>`,MM=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 5.9266752 5.6408391" height="21.31971" width="22.4">
  <g>
    <path d="m 5.2564627,1.548212 c -3.1136005,-0.4796804 -1.5568006,-0.2398402 0,0 z M 2.0001198,2.0922063 c 0.1556781,0 0.2657489,0.020893 0.3917849,0.080366 0.081154,0.038347 0.1153492,0.134065 0.076377,0.2138602 -0.038973,0.07979 -0.1363527,0.1134129 -0.2175069,0.075091 -0.078199,-0.036919 -0.1407455,-0.048792 -0.250655,-0.048792 -0.2260486,0 -0.3921482,0.2042182 -0.3921482,0.4801409 0,0.2761822 0.1663188,0.4810688 0.3921482,0.4810688 0.1117901,0 0.2064255,-0.046133 0.255659,-0.1284198 l 0.00162,-0.00389 V 3.0534032 l -0.098011,1.75e-4 c -0.081844,0 -0.1495979,-0.059305 -0.1612403,-0.1365887 l -0.00175,-0.023683 c 0,-0.08047 0.060311,-0.1470874 0.1389194,-0.1585331 l 0.024085,-0.00195 h 0.2612303 c 0.081842,0 0.149598,0.059305 0.1612404,0.1365891 l 0.00175,0.023683 -3.398e-4,0.3968809 v 0 l -0.00168,0.014211 v 0 l -0.00553,0.023034 v 0 l -0.00532,0.014145 c -0.098178,0.22826 -0.3236506,0.3528713 -0.5706303,0.3528713 -0.4240855,0 -0.7181621,-0.3622714 -0.7181621,-0.8016063 0,-0.4391857 0.2940275,-0.8006848 0.7181621,-0.8006848 z m 1.2034759,0.031275 c 0.081843,0 0.1495977,0.059305 0.1612403,0.1365891 l 0.00175,0.023683 v 1.2211775 c 0,0.088516 -0.07298,0.1602721 -0.1630073,0.1602721 -0.081841,0 -0.1495972,-0.059305 -0.1612397,-0.1365892 L 3.040589,3.5049308 V 2.2837527 c 0,-0.088516 0.07298,-0.1602721 0.1630067,-0.1602714 z m 0.7813442,0 0.5209469,0.00195 c 0.090025,3.048e-4 0.1627543,0.072306 0.1624458,0.1608234 -2.809e-4,0.08047 -0.06083,0.1468798 -0.1394772,0.158066 l -0.024092,0.00195 -0.3575326,-0.0013 v 0.4497782 l 0.2928918,2.27e-4 c 0.081842,0 0.1495979,0.059305 0.1612403,0.136589 l 0.00175,0.023683 c 0,0.080469 -0.06031,0.1470871 -0.1389193,0.1585393 l -0.024092,0.00195 -0.2928919,-2.336e-4 1.563e-4,0.2860316 c 0,0.080471 -0.06031,0.1470873 -0.1389193,0.1585395 l -0.024085,0.00195 c -0.081843,0 -0.1495979,-0.059305 -0.1612403,-0.1365826 l -0.00175,-0.023691 V 2.2841354 c 2.798e-4,-0.08047 0.060829,-0.1468797 0.1394758,-0.1580594 z"/>
    <path d="m 5.0894191,1.0943261 c 0,-0.21918999 -0.177687,-0.39686999 -0.396876,-0.39686999 h -3.43959 c -0.2191879,0 -0.391262,0.1777519 -0.3968759,0.39686999 l -0.027082,3.4379266 c 0.040152,0.2939927 0.4235456,0.409415 0.4235456,0.409415 l 3.4785583,-0.00851 c 0,0 0.3008506,-0.1402998 0.3236271,-0.4201576 0.042911,-0.5272495 0.034693,-1.6106146 0.034693,-3.4186761 z m -4.49792494,0 c 0,-0.36530999 0.29614504,-0.66145999 0.66145894,-0.66145999 h 3.43959 c 0.365314,0 0.66146,0.29615 0.66146,0.66145999 v 3.43959 c 0,0.36532 -0.296146,0.66146 -0.66146,0.66146 h -3.43959 c -0.3653139,0 -0.66145894,-0.29614 -0.66145894,-0.66146 z"/>
  </g>
</svg>
`,RM=C(C(C(C({},ot,{id:"upload-images-icon",svgString:TM,dropupText:"Image"}),ds,{id:"upload-gifs-icon",svgString:MM,dropupText:"GIF"}),De,{id:"upload-audio-icon",svgString:AM,dropupText:"Audio"}),"mixedFiles",{id:"upload-mixed-files-icon",svgString:wM,dropupText:"File"}),bS=(function(i){function l(t){var e;z(this,l),t?.position===na&&(t.position=Jt);var n=Xa.tryCreateConfig("Microphone",t?.tooltip);return e=ce(this,l,[l.createMicrophoneElement(),eS,t?.position,n,t]),e.isActive=!1,e._innerElements=e.createInnerElementsForStates(e.customStyles),e.changeToDefault(),e}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e){var n="microphone-icon";return C(C(C(C({},le,this.createInnerElements(n,le,e)),"active",this.createInnerElements(n,"active",e)),"unsupported",this.createInnerElements(n,"unsupported",e)),"commandMode",this.createInnerElements(n,"commandMode",e))}},{key:"changeToActive",value:function(){this.changeElementsByState(this._innerElements.active),this.toggleIconFilter("active"),this.reapplyStateStyle("active",[le,"commandMode"]),this.isActive=!0}},{key:"changeToDefault",value:function(){this.changeElementsByState(this._innerElements[le]),this.toggleIconFilter(le),this.reapplyStateStyle(le,["active","commandMode"]),this.isActive=!1}},{key:"changeToCommandMode",value:function(){this.changeElementsByState(this._innerElements.commandMode),this.toggleIconFilter("command"),this.reapplyStateStyle("commandMode",["active"])}},{key:"changeToUnsupported",value:function(){this.changeElementsByState(this._innerElements.unsupported),this.elementRef[B].add("unsupported-microphone"),this.reapplyStateStyle("unsupported",["active"])}},{key:"toggleIconFilter",value:function(e){var n=this.elementRef.children[0];if(n.tagName.toLocaleLowerCase()==="svg")switch(e){case le:n[B].remove("active-microphone-icon","command-microphone-icon"),n[B].add("default-microphone-icon");break;case"active":n[B].remove("default-microphone-icon","command-microphone-icon"),n[B].add("active-microphone-icon");break;case"command":n[B].remove("active-microphone-icon","default-microphone-icon"),n[B].add("command-microphone-icon");break}}}],[{key:"createMicrophoneElement",value:function(){var e=se();return e.id="microphone-button",e[B].add("input-button"),e}}])})(vr);function OM(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qu={},Cl={},wl={},Tl={},Al={},a1;function Lc(){if(a1)return Al;a1=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.Text=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"capitalize",value:function(e){return e.replace(l.FIRST_CHAR_REGEX,function(n){return n.toUpperCase()})}},{key:"lineBreak",value:function(e){return e.replace(l.DOUBLE_LINE,"<p></p>").replace(l.ONE_LINE,"<br>")}},{key:"isCharDefined",value:function(e){return e!==void 0&&e!==""&&e!==" "&&e!==`
`&&e!==""}},{key:"breakupIntoWordsArr",value:function(e){return e.split(/(\W+)/)}}])})();return Al.Text=i,i.FIRST_CHAR_REGEX=/\S/,i.DOUBLE_LINE=/\n\n/g,i.ONE_LINE=/\n/g,Al}var i1;function SS(){if(i1)return Tl;i1=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Translate=void 0;var i=Lc(),l=(function(){function t(){z(this,t)}return P(t,null,[{key:"translate",value:function(n,r){for(var o=i.Text.breakupIntoWordsArr(n),u=0;u<o.length;u+=1)r[o[u]]&&(o[u]=r[o[u]]);return o.join("")}}])})();return Tl.Translate=l,Tl}var r1;function xM(){if(r1)return wl;r1=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.WebSpeechTranscript=void 0;var i=SS(),l=(function(){function t(){z(this,t)}return P(t,null,[{key:"extract",value:function(n,r,o){for(var u="",f=n.resultIndex;f<n.results.length;++f){var h=n.results[f][0].transcript;o&&(h=i.Translate.translate(h,o)),n.results[f].isFinal?r+=h:u+=h}return{interimTranscript:u,finalTranscript:r,newText:u||r}}},{key:"extractSafari",value:function(n,r,o){for(var u="",f=n.resultIndex;f<n.results.length;++f){var h=n.results[f][0].transcript;o&&(h=i.Translate.translate(h,o)),u+=h}return{interimTranscript:"",finalTranscript:u,newText:u}}}])})();return wl.WebSpeechTranscript=l,wl}var Ml={},s1;function xm(){if(s1)return Ml;s1=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.Browser=void 0;var i=P(function l(){z(this,l)});return Ml.Browser=i,i.IS_SAFARI=function(){return i._IS_SAFARI===void 0&&(i._IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),i._IS_SAFARI},Ml}var Rl={},Ol={},l1;function BM(){if(l1)return Ol;l1=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.EventListeners=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"getElementIfFocusedOnAvailable",value:function(e,n){return Array.isArray(e)?e.find(function(r){return n===r}):n===e?e:void 0}},{key:"keyDownWindow",value:function(e){var n=this;e.element&&l.getElementIfFocusedOnAvailable(e.element,document.activeElement)&&(l.KEY_DOWN_TIMEOUT!==null&&clearTimeout(l.KEY_DOWN_TIMEOUT),l.KEY_DOWN_TIMEOUT=setTimeout(function(){l.KEY_DOWN_TIMEOUT=null,n.resetRecording(e)},500))}},{key:"mouseDownWindow",value:function(e,n){this.mouseDownElement=l.getElementIfFocusedOnAvailable(e,n.target)}},{key:"mouseUpWindow",value:function(e){this.mouseDownElement&&this.resetRecording(e),this.mouseDownElement=void 0}},{key:"add",value:function(e,n){var r=n?.insertInCursorLocation===void 0||n?.insertInCursorLocation;n!=null&&n.element&&r&&(e.mouseDownEvent=l.mouseDownWindow.bind(e,n.element),document.addEventListener("mousedown",e.mouseDownEvent),e.mouseUpEvent=l.mouseUpWindow.bind(e,n),document.addEventListener("mouseup",e.mouseUpEvent),e.keyDownEvent=l.keyDownWindow.bind(e,n),document.addEventListener("keydown",e.keyDownEvent))}},{key:"remove",value:function(e){document.removeEventListener("mousedown",e.mouseDownEvent),document.removeEventListener("mouseup",e.mouseUpEvent),document.removeEventListener("keydown",e.keyDownEvent)}}])})();return Ol.EventListeners=i,i.KEY_DOWN_TIMEOUT=null,Ol}var xl={},o1;function NM(){if(o1)return xl;o1=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.PreResultUtils=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"process",value:function(e,n,r,o,u){var f=o?.(n,r);return f?(setTimeout(function(){f.restart?e.resetRecording(u):f.stop&&e.stop()}),(f.stop||f.restart)&&f.removeNewText):!1}}])})();return xl.PreResultUtils=i,xl}var Bl={},Nl={},u1;function _S(){if(u1)return Nl;u1=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.AutoScroll=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"changeStateIfNeeded",value:function(e,n){n&&!e.isCursorAtEnd&&(e.endPadding="",e.scrollingSpan.innerHTML="&nbsp;")}},{key:"scrollGeneric",value:function(e,n){e.isCursorAtEnd?n.scrollTop=n.scrollHeight:e.scrollingSpan.scrollIntoView({block:"nearest"})}},{key:"scrollSafariPrimitiveToEnd",value:function(e){e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight}},{key:"isElementOverflown",value:function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}},{key:"isRequired",value:function(e,n){return e&&l.isElementOverflown(n)}}])})();return Nl.AutoScroll=i,Nl}var Il={},c1;function Dc(){if(c1)return Il;c1=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.Elements=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"isPrimitiveElement",value:function(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}},{key:"createInterimSpan",value:function(){var e=document.createElement("span");return e.style.color="grey",e.style.pointerEvents="none",e}},{key:"createGenericSpan",value:function(){var e=document.createElement("span");return e.style.pointerEvents="none",e}},{key:"appendSpans",value:function(e,n){if(e.spansPopulated=!0,e.insertInCursorLocation&&document.activeElement===n){var r=window.getSelection();if(r!=null&&r.focusNode){var o=r.getRangeAt(0);o.insertNode(e.scrollingSpan),o.insertNode(e.interimSpan),o.insertNode(e.finalSpan),o.collapse(!1),r.removeAllRanges(),r.addRange(o);return}}n.appendChild(e.finalSpan),n.appendChild(e.interimSpan),n.appendChild(e.scrollingSpan)}},{key:"applyCustomColors",value:function(e,n){n.interim&&(e.interimSpan.style.color=n.interim),n.final&&(e.finalSpan.style.color=n.final)}},{key:"isInsideShadowDOM",value:function(e){return e.getRootNode()instanceof ShadowRoot}}])})();return Il.Elements=i,Il}var Ll={},f1;function Uc(){if(f1)return Ll;f1=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.Cursor=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"setOffsetForGeneric",value:function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=0,u=0;u<e.childNodes.length;u+=1){var f=e.childNodes[u];if(f.childNodes.length>0){var h=l.setOffsetForGeneric(f,n,r);if(h===-1)return-1;r+=h}else if(f.textContent!==null){if(r+f.textContent.length>n){var p=document.createRange();p.setStart(f,n-r),p.collapse(!0);var g=window.getSelection();return g?.removeAllRanges(),g?.addRange(p),e.focus(),-1}r+=f.textContent.length,o+=f.textContent.length}}return o}},{key:"focusEndOfGeneric",value:function(e){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n))}},{key:"setOffsetForSafariGeneric",value:function(e,n){var r=window.getSelection();if(r){var o=l.getGenericElementCursorOffset(e,r,!0);l.setOffsetForGeneric(e,o+n)}}},{key:"setOffsetForPrimitive",value:function(e,n,r){r&&e.blur(),e.setSelectionRange(n,n),e.focus()}},{key:"getGenericElementCursorOffset",value:function(e,n,r){var o=0;if(n.rangeCount>0){var u=n.getRangeAt(0),f=u.cloneRange();f.selectNodeContents(e),r?f.setEnd(u.startContainer,u.startOffset):f.setEnd(u.endContainer,u.endOffset),o=f.toString().length}return o}}])})();return Ll.Cursor=i,Ll}var d1;function ES(){if(d1)return Bl;d1=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.CommandUtils=void 0;var i=_S(),l=Dc(),t=xm(),e=Uc(),n=Lc(),r=(function(){function o(){z(this,o)}return P(o,null,[{key:"processCommand",value:function(f,h){return(!h||!h.caseSensitive)&&(f=f.toLowerCase()),h?.substrings===!1?n.Text.breakupIntoWordsArr(f):f}},{key:"process",value:function(f){var h;return((h=f.settings)===null||h===void 0?void 0:h.caseSensitive)===!0?f:Object.keys(f).reduce(function(p,g){var y=f[g];return p[g]=typeof y=="string"?o.processCommand(y,f.settings):y,p},{})}},{key:"toggleCommandModeOn",value:function(f){var h;f.isWaitingForCommand=!0,(h=f.onCommandModeTrigger)===null||h===void 0||h.call(f,!0)}},{key:"toggleCommandModeOff",value:function(f){var h;f.isWaitingForCommand&&((h=f.onCommandModeTrigger)===null||h===void 0||h.call(f,!1),f.isWaitingForCommand=!1)}},{key:"setText",value:function(f,h,p,g){o.toggleCommandModeOff(f),l.Elements.isPrimitiveElement(g)?(g.value=p,f.isTargetInShadow||e.Cursor.setOffsetForPrimitive(g,p.length,!0),t.Browser.IS_SAFARI()&&f.autoScroll&&i.AutoScroll.scrollSafariPrimitiveToEnd(g)):(g.textContent=p,f.isTargetInShadow||e.Cursor.focusEndOfGeneric(g),setTimeout(function(){return i.AutoScroll.scrollGeneric(f,g)})),f.resetRecording(h)}},{key:"checkIfMatchesSubstring",value:function(f,h){return h.includes(f)}},{key:"checkIfMatchesWord",value:function(f,h,p){for(var g=f,y=p.length-1;y>=0;y-=1){for(var b=y,E=g.length-1;p[b]===g[E]&&E>=0;)b-=1,E-=1;if(E<0)return!0}return!1}},{key:"execCommand",value:function(f,h,p,g,y){var b,E,S,A=f.commands;if(!(!A||!g||!p)){var R=((b=A.settings)===null||b===void 0?void 0:b.caseSensitive)===!0?h:h.toLowerCase(),L=n.Text.breakupIntoWordsArr(R),K=((E=A.settings)===null||E===void 0?void 0:E.substrings)===!1?o.checkIfMatchesWord:o.checkIfMatchesSubstring;if(A.commandMode&&K(A.commandMode,R,L))return f.setInterimColorToFinal(),setTimeout(function(){return o.toggleCommandModeOn(f)}),{doNotProcessTranscription:!1};if(!(A.commandMode&&!f.isWaitingForCommand)){if(A.stop&&K(A.stop,R,L))return o.toggleCommandModeOff(f),setTimeout(function(){return f.stop()}),{doNotProcessTranscription:!1};if(A.pause&&K(A.pause,R,L))return o.toggleCommandModeOff(f),f.setInterimColorToFinal(),setTimeout(function(){var F;f.isPaused=!0,(F=f.onPauseTrigger)===null||F===void 0||F.call(f,!0)}),{doNotProcessTranscription:!1};if(A.resume&&K(A.resume,R,L))return f.isPaused=!1,(S=f.onPauseTrigger)===null||S===void 0||S.call(f,!1),o.toggleCommandModeOff(f),f.resetRecording(p),{doNotProcessTranscription:!0};if(A.reset&&K(A.reset,R,L))return y!==void 0&&o.setText(f,p,y,g),{doNotProcessTranscription:!0};if(A.removeAllText&&K(A.removeAllText,R,L))return o.setText(f,p,"",g),{doNotProcessTranscription:!0}}}}}])})();return Bl.CommandUtils=r,Bl}var Dl={},h1;function IM(){if(h1)return Dl;h1=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.Highlight=void 0;var i=Dc(),l=Uc(),t=(function(){function e(){z(this,e)}return P(e,null,[{key:"setStateForPrimitive",value:function(r,o){var u,f;o.selectionStart!==null&&(u=o.selectionStart),o.selectionEnd!==null&&(f=o.selectionEnd),r.isHighlighted=u!==f}},{key:"setStateForGeneric",value:function(r,o){var u=window.getSelection();if(u!=null&&u.focusNode){var f=l.Cursor.getGenericElementCursorOffset(o,u,!0),h=l.Cursor.getGenericElementCursorOffset(o,u,!1);r.isHighlighted=f!==h}}},{key:"setState",value:function(r,o){document.activeElement===o&&(i.Elements.isPrimitiveElement(o)?e.setStateForPrimitive(r,o):e.setStateForGeneric(r,o))}},{key:"removeForGeneric",value:function(r,o){var u=window.getSelection();if(u){var f=l.Cursor.getGenericElementCursorOffset(o,u,!0);u.deleteFromDocument(),l.Cursor.setOffsetForGeneric(o,f),r.isHighlighted=!1}}},{key:"removeForPrimitive",value:function(r,o){var u=o.selectionStart,f=o.selectionEnd,h=o.value;if(u&&f){var p=h.substring(0,u)+h.substring(f);o.value=p,l.Cursor.setOffsetForPrimitive(o,u,r.autoScroll)}r.isHighlighted=!1}}])})();return Dl.Highlight=t,Dl}var Ul={},m1;function LM(){if(m1)return Ul;m1=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Padding=void 0;var i=Dc(),l=Uc(),t=Lc(),e=(function(){function n(){z(this,n)}return P(n,null,[{key:"setStateForPrimitiveElement",value:function(o,u){if(document.activeElement===u&&u.selectionStart!==null){var f=u.selectionStart,h=u.value[f-1],p=u.selectionEnd===null?f:u.selectionEnd,g=u.value[p];t.Text.isCharDefined(h)&&(o.startPadding=" ",o.numberOfSpacesBeforeNewText=1),t.Text.isCharDefined(g)&&(o.endPadding=" ",o.numberOfSpacesAfterNewText=1),o.isCursorAtEnd=u.value.length===p;return}var y=u.value[u.value.length-1];t.Text.isCharDefined(y)&&(o.startPadding=" ",o.numberOfSpacesBeforeNewText=1),o.isCursorAtEnd=!0}},{key:"setStateForGenericElement",value:function(o,u){var f,h,p;if(document.activeElement===u){var g=window.getSelection();if(g!=null&&g.focusNode){var y=l.Cursor.getGenericElementCursorOffset(u,g,!0),b=(f=u.textContent)===null||f===void 0?void 0:f[y-1],E=l.Cursor.getGenericElementCursorOffset(u,g,!1),S=(h=u.textContent)===null||h===void 0?void 0:h[E];t.Text.isCharDefined(b)&&(o.startPadding=" "),t.Text.isCharDefined(S)&&(o.endPadding=" "),o.isCursorAtEnd=((p=u.textContent)===null||p===void 0?void 0:p.length)===E;return}}var A=u.innerText.charAt(u.innerText.length-1);t.Text.isCharDefined(A)&&(o.startPadding=" "),o.isCursorAtEnd=!0}},{key:"setState",value:function(o,u){i.Elements.isPrimitiveElement(u)?n.setStateForPrimitiveElement(o,u):n.setStateForGenericElement(o,u)}},{key:"adjustStateAfterRecodingPrimitiveElement",value:function(o,u){if(o.primitiveTextRecorded=!0,o.insertInCursorLocation&&document.activeElement===u&&(u.selectionEnd!==null&&(o.endPadding=o.endPadding+u.value.slice(u.selectionEnd)),u.selectionStart!==null)){o.startPadding=u.value.slice(0,u.selectionStart)+o.startPadding;return}o.startPadding=u.value+o.startPadding}},{key:"adjustSateForNoTextPrimitiveElement",value:function(o){o.numberOfSpacesBeforeNewText===1&&(o.startPadding=o.startPadding.substring(0,o.startPadding.length-1),o.numberOfSpacesBeforeNewText=0),o.numberOfSpacesAfterNewText===1&&(o.endPadding=o.endPadding.substring(1),o.numberOfSpacesAfterNewText=0)}}])})();return Ul.Padding=e,Ul}var p1;function kS(){if(p1)return Rl;p1=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.Speech=void 0;var i=BM(),l=NM(),t=ES(),e=_S(),n=IM(),r=Dc(),o=LM(),u=xm(),f=Uc(),h=Lc(),p=(function(){function g(){z(this,g),this.finalTranscript="",this.interimSpan=r.Elements.createInterimSpan(),this.finalSpan=r.Elements.createGenericSpan(),this.scrollingSpan=r.Elements.createGenericSpan(),this.isCursorAtEnd=!1,this.spansPopulated=!1,this.startPadding="",this.endPadding="",this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.recognizing=!1,this._displayInterimResults=!0,this.insertInCursorLocation=!0,this.autoScroll=!0,this.isRestarting=!1,this.isPaused=!1,this.isWaitingForCommand=!1,this.isTargetInShadow=!1,this.cannotBeStopped=!1,this.resetState()}return P(g,[{key:"prepareBeforeStart",value:function(b){var E,S;if(b!=null&&b.element)if(i.EventListeners.add(this,b),Array.isArray(b.element)){var A=b.element.find(function(R){return R===document.activeElement})||b.element[0];if(!A)return;this.prepare(A)}else this.prepare(b.element);b?.displayInterimResults!==void 0&&(this._displayInterimResults=b.displayInterimResults),b!=null&&b.textColor&&(this._finalTextColor=(E=b?.textColor)===null||E===void 0?void 0:E.final,r.Elements.applyCustomColors(this,b.textColor)),b?.insertInCursorLocation!==void 0&&(this.insertInCursorLocation=b.insertInCursorLocation),b?.autoScroll!==void 0&&(this.autoScroll=b.autoScroll),this._onResult=b?.onResult,this._onPreResult=b?.onPreResult,this._onStart=b?.onStart,this._onStop=b?.onStop,this._onError=b?.onError,this.onCommandModeTrigger=b?.onCommandModeTrigger,this.onPauseTrigger=b?.onPauseTrigger,this._options=b,!((S=this._options)===null||S===void 0)&&S.commands&&(this.commands=t.CommandUtils.process(this._options.commands))}},{key:"prepare",value:function(b){o.Padding.setState(this,b),n.Highlight.setState(this,b),this.isTargetInShadow=r.Elements.isInsideShadowDOM(b),r.Elements.isPrimitiveElement(b)?(this._primitiveElement=b,this._originalText=this._primitiveElement.value):(this._genericElement=b,this._originalText=this._genericElement.textContent)}},{key:"resetRecording",value:function(b){this.isRestarting=!0,this.stop(!0),this.resetState(!0),this.start(b,!0)}},{key:"updateElements",value:function(b,E,S){var A,R=h.Text.capitalize(E);if(!(this.finalTranscript===R&&b==="")){l.PreResultUtils.process(this,S,b==="",this._onPreResult,this._options)&&(b="",S="");var L=this.commands&&t.CommandUtils.execCommand(this,S,this._options,this._primitiveElement||this._genericElement,this._originalText);if(L){if(L.doNotProcessTranscription)return;b="",S=""}if(!(this.isPaused||this.isWaitingForCommand)){(A=this._onResult)===null||A===void 0||A.call(this,S,b===""),this.finalTranscript=R,this._displayInterimResults||(b="");var K=this.finalTranscript===""&&b==="";this._primitiveElement?this.updatePrimitiveElement(this._primitiveElement,b,K):this._genericElement&&this.updateGenericElement(this._genericElement,b,K)}}}},{key:"updatePrimitiveElement",value:function(b,E,S){this.isHighlighted&&n.Highlight.removeForPrimitive(this,b),this.primitiveTextRecorded||o.Padding.adjustStateAfterRecodingPrimitiveElement(this,b),S&&o.Padding.adjustSateForNoTextPrimitiveElement(this);var A=this.startPadding+this.finalTranscript+E;if(b.value=A+this.endPadding,!this.isTargetInShadow){var R=A.length+this.numberOfSpacesAfterNewText;f.Cursor.setOffsetForPrimitive(b,R,this.autoScroll)}this.autoScroll&&u.Browser.IS_SAFARI()&&this.isCursorAtEnd&&e.AutoScroll.scrollSafariPrimitiveToEnd(b)}},{key:"updateGenericElement",value:function(b,E,S){this.isHighlighted&&n.Highlight.removeForGeneric(this,b),this.spansPopulated||r.Elements.appendSpans(this,b);var A=(S?"":this.startPadding)+h.Text.lineBreak(this.finalTranscript);this.finalSpan.innerHTML=A;var R=e.AutoScroll.isRequired(this.autoScroll,b);e.AutoScroll.changeStateIfNeeded(this,R);var L=h.Text.lineBreak(E)+(S?"":this.endPadding);this.interimSpan.innerHTML=L,u.Browser.IS_SAFARI()&&this.insertInCursorLocation&&f.Cursor.setOffsetForSafariGeneric(b,A.length+L.length),R&&e.AutoScroll.scrollGeneric(this,b),S&&(this.scrollingSpan.innerHTML="")}},{key:"finalise",value:function(b){this._genericElement&&(b?(this.finalSpan=r.Elements.createGenericSpan(),this.setInterimColorToFinal(),this.interimSpan=r.Elements.createInterimSpan(),this.scrollingSpan=r.Elements.createGenericSpan()):this._genericElement.textContent=this._genericElement.textContent,this.spansPopulated=!1),i.EventListeners.remove(this)}},{key:"setInterimColorToFinal",value:function(){this.interimSpan.style.color=this._finalTextColor||"black"}},{key:"resetState",value:function(b){this._primitiveElement=void 0,this._genericElement=void 0,this.finalTranscript="",this.finalSpan.innerHTML="",this.interimSpan.innerHTML="",this.scrollingSpan.innerHTML="",this.startPadding="",this.endPadding="",this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,b||(this.stopTimeout=void 0)}},{key:"setStateOnStart",value:function(){var b;this.recognizing=!0,this.isRestarting?this.isRestarting=!1:(b=this._onStart)===null||b===void 0||b.call(this)}},{key:"setStateOnStop",value:function(){var b;this.recognizing=!1,this.isRestarting||(b=this._onStop)===null||b===void 0||b.call(this)}},{key:"setStateOnError",value:function(b){var E;(E=this._onError)===null||E===void 0||E.call(this,b),this.recognizing=!1}}])})();return Rl.Speech=p,Rl}var v1;function DM(){if(v1)return Cl;v1=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.WebSpeech=void 0;var i=xM(),l=xm(),t=kS(),e=(function(n){function r(){return z(this,r),ce(this,r)}return fe(r,n),P(r,[{key:"start",value:function(u){var f;this._extractText===void 0&&(this._extractText=l.Browser.IS_SAFARI()?i.WebSpeechTranscript.extractSafari:i.WebSpeechTranscript.extract),this.validate()&&(this.prepareBeforeStart(u),this.instantiateService(u),(f=this._service)===null||f===void 0||f.start(),this._translations=u?.translations)}},{key:"validate",value:function(){return r.getAPI()?!0:(this.error("Speech Recognition is unsupported"),!1)}},{key:"instantiateService",value:function(u){var f,h,p=r.getAPI();this._service=new p,this._service.continuous=!0,this._service.interimResults=(f=u?.displayInterimResults)!==null&&f!==void 0?f:!0,this._service.lang=((h=u?.language)===null||h===void 0?void 0:h.trim())||"en-US",this.setEvents()}},{key:"setEvents",value:function(){var u=this;this._service&&(this._service.onstart=function(){u.setStateOnStart()},this._service.onerror=function(f){l.Browser.IS_SAFARI()&&f.message==="Another request is started"||f.error==="aborted"&&u.isRestarting||f.error!=="no-speech"&&u.error(f.message||f.error)},this._service.onaudioend=function(){u.setStateOnStop()},this._service.onend=function(){u._stopping=!1},this._service.onresult=function(f){if(ie(f.results)>"u"&&u._service)u._service.onend=null,u._service.stop();else if(u._extractText&&!u._stopping){var h=u._extractText(f,u.finalTranscript,u._translations),p=h.interimTranscript,g=h.finalTranscript,y=h.newText;u.updateElements(p,g,y)}})}},{key:"stop",value:function(u){var f;this._stopping=!0,(f=this._service)===null||f===void 0||f.stop(),this.finalise(u)}},{key:"error",value:function(u){console.error(u),this.setStateOnError(u),this.stop()}}],[{key:"getAPI",value:function(){return window.webkitSpeechRecognition||window.SpeechRecognition}}])})(t.Speech);return Cl.WebSpeech=e,Cl}var zl={},g1;function UM(){if(g1)return zl;g1=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.GlobalState=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"doubleClickDetector",value:function(){return l.doubleClickPending?!0:(l.doubleClickPending=!0,setTimeout(function(){l.doubleClickPending=!1},300),!1)}}])})();return zl.GlobalState=i,i.doubleClickPending=!1,zl}var Pl={},Hl={},y1;function zM(){if(y1)return Hl;y1=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.PreventConnectionStop=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"applyPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!0,e._manualConnectionStopPrevention=setTimeout(function(){e.cannotBeStopped=!1},800)}},{key:"clearPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!1}}])})();return Hl.PreventConnectionStop=i,Hl}var jl={},Gu={},b1;function PM(){return b1||(b1=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.README_URL=void 0,Gu.README_URL="https://github.com/OvidijusParsiunas/speech-to-element"),Gu}var S1;function HM(){if(S1)return jl;S1=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.AzureSpeechConfig=void 0;var i=PM(),l=(function(){function t(){z(this,t)}return P(t,null,[{key:"validateOptions",value:function(n,r){return r?!r.subscriptionKey&&!r.token&&!r.retrieveToken?(n("Please define a 'subscriptionKey', 'token' or 'retrieveToken' property - more info: ".concat(i.README_URL)),!1):r.region?!0:(n("Please define a 'region' property - more info: ".concat(i.README_URL)),!1):(n("Please provide subscription details - more info: ".concat(i.README_URL)),!1)}},{key:"getNewSpeechConfig",value:(function(){var e=I(k().m(function r(o,u){return k().w(function(f){for(;;)switch(f.n){case 0:if(!u.region){f.n=1;break}return f.a(2,u.subscriptionKey?o.fromSubscription(u.subscriptionKey.trim(),u.region.trim()):u.token?o.fromAuthorizationToken(u.token.trim(),u.region.trim()):u.retrieveToken?u.retrieveToken().then(function(h){return u.region?o.fromAuthorizationToken(h?.trim()||"",u.region.trim()):null}).catch(function(h){return console.error(h),null}):null);case 1:return f.a(2)}},r)}));function n(r,o){return e.apply(this,arguments)}return n})()},{key:"process",value:function(n,r){r.endpointId&&(n.endpointId=r.endpointId.trim()),r.language&&(n.speechRecognitionLanguage=r.language.trim())}},{key:"get",value:(function(){var e=I(k().m(function r(o,u){var f;return k().w(function(h){for(;;)switch(h.n){case 0:return h.n=1,t.getNewSpeechConfig(o,u);case 1:return f=h.v,h.a(2,(f&&t.process(f,u),f))}},r)}));function n(r,o){return e.apply(this,arguments)}return n})()}])})();return jl.AzureSpeechConfig=l,jl}var Fl={},_1;function jM(){if(_1)return Fl;_1=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.StopTimeout=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"set",value:function(e){e.stopTimeout=setTimeout(function(){return e.stop()},e.stopTimeoutMS)}},{key:"reset",value:function(e,n){e.stopTimeoutMS=n||l.DEFAULT_MS,l.stop(e),l.set(e)}},{key:"stop",value:function(e){e.stopTimeout&&clearTimeout(e.stopTimeout)}}])})();return Fl.StopTimeout=i,i.DEFAULT_MS=2e4,Fl}var ql={},E1;function FM(){if(E1)return ql;E1=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.AzureAudioConfig=void 0;var i=(function(){function l(){z(this,l)}return P(l,null,[{key:"get",value:function(e,n){return n?e.fromMicrophoneInput(n):e.fromDefaultMicrophoneInput()}}])})();return ql.AzureAudioConfig=i,ql}var Gl={},k1;function qM(){if(k1)return Gl;k1=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.AzureTranscript=void 0;var i=SS(),l=(function(){function t(){z(this,t)}return P(t,null,[{key:"extract",value:function(n,r,o,u){return u&&(n=i.Translate.translate(n,u)),o?{interimTranscript:"",finalTranscript:r+n,newText:n}:{interimTranscript:n,finalTranscript:r,newText:n}}}])})();return Gl.AzureTranscript=l,Gl}var C1;function GM(){if(C1)return Pl;C1=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.Azure=void 0;var i=zM(),l=HM(),t=jM(),e=FM(),n=qM(),r=kS(),o=(function(u){function f(){var h;return z(this,f),h=ce(this,f,arguments),h._newTextPadding="",h}return fe(f,u),P(f,[{key:"start",value:function(p,g){this._newTextPadding="",this.stopTimeout===void 0&&t.StopTimeout.reset(this,p?.stopAfterSilenceMs),this.prepareBeforeStart(p),this.startAsync(p),g||i.PreventConnectionStop.applyPrevention(this)}},{key:"startAsync",value:(function(){var h=I(k().m(function g(y){var b,E;return k().w(function(S){for(;;)switch(S.n){case 0:if(E=this.validate(y),!E){S.n=2;break}return S.n=1,this.instantiateService(y);case 1:this._translations=y?.translations,(b=this._service)===null||b===void 0||b.startContinuousRecognitionAsync(function(){},this.error);case 2:return S.a(2)}},g,this)}));function p(g){return h.apply(this,arguments)}return p})()},{key:"validate",value:function(p){return f.getAPI()?l.AzureSpeechConfig.validateOptions(this.error.bind(this),p):(this.moduleNotFound(),!1)}},{key:"instantiateService",value:(function(){var h=I(k().m(function g(y){var b,E,S,A,R,L,K,F,ne;return k().w(function(J){for(;;)switch(J.n){case 0:return b=f.getAPI(),E=e.AzureAudioConfig.get(b.AudioConfig,y.deviceId),J.n=1,l.AzureSpeechConfig.get(b.SpeechConfig,y);case 1:S=J.v,S?(y.autoLanguage&&y.autoLanguage.languages.length>0?(R=y.autoLanguage,L=R.type,K=R.languages,F=K.slice(0,L==="Continuous"?10:4),ne=b.AutoDetectSourceLanguageConfig.fromLanguages(F),L==="Continuous"&&(ne.mode=1),A=b.SpeechRecognizer.FromConfig(S,ne,E)):A=new b.SpeechRecognizer(S,E),this.setEvents(A),this._service=A,y.retrieveToken&&this.retrieveTokenInterval(y.retrieveToken)):this.error("Unable to contact Azure server");case 2:return J.a(2)}},g,this)}));function p(g){return h.apply(this,arguments)}return p})()},{key:"setEvents",value:function(p){p.recognizing=this.onRecognizing.bind(this),p.recognized=this.onRecognized.bind(this),p.sessionStarted=this.onSessionStarted.bind(this),p.canceled=this.onCanceled.bind(this),p.sessionStopped=this.onSessionStopped.bind(this)}},{key:"onRecognizing",value:function(p,g){if(!this._stopping){var y=n.AzureTranscript.extract(this._newTextPadding+g.result.text,this.finalTranscript,!1,this._translations),b=y.interimTranscript,E=y.finalTranscript,S=y.newText;t.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(b,E,S)}}},{key:"onRecognized",value:function(p,g){var y=g.result;switch(y.reason){case window.SpeechSDK.ResultReason.Canceled:break;case window.SpeechSDK.ResultReason.RecognizedSpeech:if(y.text&&!this._stopping){var b=n.AzureTranscript.extract(this._newTextPadding+y.text,this.finalTranscript,!0,this._translations),E=b.interimTranscript,S=b.finalTranscript,A=b.newText;t.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(E,S,A),S!==""&&(this._newTextPadding=" ")}break}}},{key:"onCanceled",value:function(p,g){g.reason===window.SpeechSDK.CancellationReason.Error&&this.error(g.errorDetails)}},{key:"onSessionStarted",value:function(){i.PreventConnectionStop.clearPrevention(this),this.setStateOnStart()}},{key:"onSessionStopped",value:function(){this._retrieveTokenInterval||clearInterval(this._retrieveTokenInterval),this._stopping=!1,this.setStateOnStop()}},{key:"retrieveTokenInterval",value:function(p){var g=this;this._retrieveTokenInterval=setInterval(function(){p?.().then(function(y){g._service&&(g._service.authorizationToken=y?.trim()||"")}).catch(function(y){g.error(y)})},1e4)}},{key:"stop",value:function(p){var g;!p&&this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),this._stopping=!0,(g=this._service)===null||g===void 0||g.stopContinuousRecognitionAsync(),t.StopTimeout.stop(this),this.finalise(p)}},{key:"moduleNotFound",value:function(){console.error("speech recognition module not found:"),console.error(`please install the 'microsoft-cognitiveservices-speech-sdk' npm package or add a script tag: <script src="https://aka.ms/csspeech/jsbrowserpackageraw"><\/script>`),this.setStateOnError("speech recognition module not found")}},{key:"error",value:function(p){this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),console.error(p),this.setStateOnError(p),this.stop()}}],[{key:"getAPI",value:function(){return window.SpeechSDK}}])})(r.Speech);return Pl.Azure=o,Pl}var w1;function VM(){if(w1)return qu;w1=1,Object.defineProperty(qu,"__esModule",{value:!0});var i=DM(),l=ES(),t=UM(),e=GM(),n=(function(){function r(){z(this,r)}return P(r,null,[{key:"toggle",value:function(u,f){var h,p,g=u.toLocaleLowerCase().trim();!((h=t.GlobalState.service)===null||h===void 0)&&h.recognizing?this.stop():g==="webspeech"?r.startWebSpeech(f):g==="azure"?r.startAzure(f):(console.error("service not found - must be either 'webspeech' or 'azure'"),(p=f?.onError)===null||p===void 0||p.call(f,"service not found - must be either 'webspeech' or 'azure'"))}},{key:"startWebSpeech",value:function(u){r.stop()||(t.GlobalState.service=new i.WebSpeech,t.GlobalState.service.start(u))}},{key:"isWebSpeechSupported",value:function(){return!!i.WebSpeech.getAPI()}},{key:"startAzure",value:function(u){var f;r.stop()||!((f=t.GlobalState.service)===null||f===void 0)&&f.cannotBeStopped||(t.GlobalState.service=new e.Azure,t.GlobalState.service.start(u))}},{key:"stop",value:function(){var u;return t.GlobalState.doubleClickDetector()?!0:(!((u=t.GlobalState.service)===null||u===void 0)&&u.recognizing&&t.GlobalState.service.stop(),!1)}},{key:"endCommandMode",value:function(){t.GlobalState.service&&l.CommandUtils.toggleCommandModeOff(t.GlobalState.service)}}])})();return qu.default=n,qu}var KM=VM(),rc=OM(KM),JM=(function(){function i(l,t){z(this,i),this._silenceMS=2e3,this._stop=!0,typeof t=="boolean"&&t===!1&&(this._stop=!1),typeof l=="number"&&(this._silenceMS=l)}return P(i,[{key:"setSilenceTimeout",value:function(t,e){var n=this;this._silenceTimeout=setTimeout(function(){var r;(r=t.submit)==null||r.call(t),rc.stop(),n._stop||setTimeout(e,Bm.MICROPHONE_RESET_TIMEOUT_MS)},this._silenceMS)}},{key:"clearSilenceTimeout",value:function(){this._silenceTimeout&&clearTimeout(this._silenceTimeout)}},{key:"resetSilenceTimeout",value:function(t,e){this.clearSilenceTimeout(),this.setSilenceTimeout(t,e)}},{key:"onPause",value:function(t,e,n){t?this.resetSilenceTimeout(e,n):this.clearSilenceTimeout()}}])})(),CS=(function(i){function l(t,e,n){var r;z(this,l);var o=ie(t.speechToText)=="object"?t.speechToText:{};r=ce(this,l,[o?.button]);var u=r.processConfiguration(e,t.speechToText),f=u.serviceName,h=u.processedConfig;if(r._addErrorMessage=n,f==="webspeech"&&!rc.isWebSpeechSupported())r.changeToUnsupported();else{var p=!t.textInput||!t.textInput.disabled;Ke.assignButtonEvents(r.elementRef,r.buttonClick.bind(r,e,p,f,h))}return setTimeout(function(){r._validationHandler=t._validationHandler}),r}return fe(l,i),P(l,[{key:"processConfiguration",value:function(e,n){var r,o,u,f,h,p,g=ie(n)=="object"?n:{},y=ie(g.webSpeech)=="object"?g.webSpeech:{},b=g.azure||{},E=ze(ze({displayInterimResults:(r=g.displayInterimResults)!==null&&r!==void 0?r:void 0,textColor:(o=g.textColor)!==null&&o!==void 0?o:void 0,translations:(u=g.translations)!==null&&u!==void 0?u:void 0,commands:(f=g.commands)!==null&&f!==void 0?f:void 0,events:(h=g.events)!==null&&h!==void 0?h:void 0},y),b),S=(p=g.commands)==null?void 0:p.submit;return S&&(E.onPreResult=function(A){return A.toLowerCase().includes(S)?(setTimeout(function(){var R;return(R=e.submit)==null?void 0:R.call(e)}),rc.endCommandMode(),{restart:!0,removeNewText:!0}):null}),g.submitAfterSilence&&(this._silenceSubmit=new JM(g.submitAfterSilence,g.stopAfterSubmit)),{serviceName:l.getServiceName(g),processedConfig:E}}},{key:"buttonClick",value:function(e,n,r,o){var u=this,f=o?.events;e.removePlaceholderStyle(),rc.toggle(r,ze({insertInCursorLocation:!1,element:n?e.inputElementRef:void 0,onError:function(){var p;u.onError(),(p=u._silenceSubmit)==null||p.clearSilenceTimeout()},onStart:function(){var p;u.changeToActive(),(p=f?.onStart)==null||p.call(f)},onStop:function(){var p,g,y;(p=u._validationHandler)==null||p.call(u),(g=u._silenceSubmit)==null||g.clearSilenceTimeout(),u.changeToDefault(),(y=f?.onStop)==null||y.call(f)},onPauseTrigger:function(p){var g,y;(g=u._silenceSubmit)==null||g.onPause(p,e,u.elementRef.onclick),(y=f?.onPauseTrigger)==null||y.call(f,p)},onPreResult:function(p,g){var y;(y=f?.onPreResult)==null||y.call(f,p,g)},onResult:function(p,g){var y,b,E;g&&((y=u._validationHandler)==null||y.call(u)),(b=u._silenceSubmit)==null||b.resetSilenceTimeout(e,u.elementRef.onclick),(E=f?.onResult)==null||E.call(f,p,g)},onCommandModeTrigger:function(p){var g;u.onCommandModeTrigger(p),(g=f?.onCommandModeTrigger)==null||g.call(f,p)}},o))}},{key:"onCommandModeTrigger",value:function(e){e?this.changeToCommandMode():this.changeToActive()}},{key:"onError",value:function(){this._addErrorMessage("speechToText","speech input error")}}],[{key:"getServiceName",value:function(e){return e.azure?"azure":"webspeech"}},{key:"toggleSpeechAfterSubmit",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e[nt](),n||setTimeout(function(){return e[nt]()},l.MICROPHONE_RESET_TIMEOUT_MS)}}])})(bS);CS.MICROPHONE_RESET_TIMEOUT_MS=300;var Bm=CS,Nm=(function(){function i(l,t,e,n,r){var o=this;z(this,i),this._attachments=[],this._fileCountLimit=99,this._acceptedFormat="",this._hiddenAttachments=new Set,e.maxNumberOfFiles&&(this._fileCountLimit=e.maxNumberOfFiles),this._toggleContainerDisplay=n,this._fileAttachmentsContainerRef=r,e.acceptedFormats&&(this._acceptedFormat=e.acceptedFormats),setTimeout(function(){o._validationHandler=l._validationHandler,o._onInput=t.onInput})}return P(i,[{key:"attemptAddFile",value:function(t,e){var n;return i.isFileTypeValid(t,this._acceptedFormat)?(this.addAttachmentBasedOnType(t,e,!0),(n=this._onInput)==null||n.call(this,!0),!0):!1}},{key:"addAttachmentBasedOnType",value:function(t,e,n){var r=i.getTypeFromBlob(t);if(r===Ye){var o=i.createImageAttachment(e);this.addFileAttachment(t,Ye,o,n)}else if(r===De){var u=Wh.createAudioAttachment(e);this.addFileAttachment(t,De,u,n)}else{var f=i.createAnyFileAttachment(t.name);this.addFileAttachment(t,or,f,n)}}},{key:"addFileAttachment",value:function(t,e,n,r){var o,u=i.createContainer(n);if(this._attachments.length>=this._fileCountLimit){var f=this._attachments[this._attachments.length-1].removeButton;f?.[nt]();var h=this._fileAttachmentsContainerRef.children;this._fileAttachmentsContainerRef.insertBefore(u,h[0])}else this._fileAttachmentsContainerRef.appendChild(u);var p={file:t,attachmentContainerElement:u,fileType:e};return r&&(p.removeButton=this.createRemoveAttachmentButton(p),u.appendChild(p.removeButton)),this._toggleContainerDisplay(!0),this._attachments.push(p),this._fileAttachmentsContainerRef.scrollTop=this._fileAttachmentsContainerRef.scrollHeight,(o=this._validationHandler)==null||o.call(this),p}},{key:"createRemoveAttachmentButton",value:function(t){var e=se();e[B].add("remove-file-attachment-button"),e.onclick=this.removeAttachment.bind(this,t);var n=se();return n[B].add("x-icon"),n.innerText="",e.appendChild(n),e}},{key:"removeAttachment",value:function(t,e){var n,r,o=this._attachments.findIndex(function(f){return f===t});if(!(o<0)){(n=this._onInput)==null||n.call(this,!!(e!=null&&e.isTrusted));var u=this._attachments[o].attachmentContainerElement;this._attachments.splice(o,1),Wh.stopAttachmentPlayback(u),u.remove(),this._toggleContainerDisplay(!1),(r=this._validationHandler)==null||r.call(this)}}},{key:"getFiles",value:function(){return Array.from(this._attachments).map(function(t){return C(C({},_t,t[_t]),"type",t.fileType)})}},{key:"hideAttachments",value:function(){var t=this;this._hiddenAttachments.clear(),this._attachments.forEach(function(e){setTimeout(function(){var n;return(n=e.removeButton)==null?void 0:n[nt]()}),t._hiddenAttachments.add(e)})}},{key:"removeAttachments",value:function(){this._attachments.forEach(function(t){setTimeout(function(){var e;return(e=t.removeButton)==null?void 0:e[nt]()})}),this._hiddenAttachments.clear()}},{key:"readdAttachments",value:function(){var t=this,e;Array.from(this._hiddenAttachments).forEach(function(n){t._fileAttachmentsContainerRef.appendChild(n.attachmentContainerElement),t._attachments.push(n)}),(e=this._onInput)==null||e.call(this,!1),this._hiddenAttachments.clear()}}],[{key:"isFileTypeValid",value:function(t,e){if(e==="")return!0;for(var n=e.split(","),r=0;r<n.length;r++){var o=n[r].trim();if(t.type===o)return!0;if(o.startsWith(".")){var u=o.slice(1);if(t.name.endsWith(u))return!0}else if(t.name.endsWith(o)||o.endsWith("/*")&&t.type.startsWith(o.slice(0,-2)))return!0}return!1}},{key:"getTypeFromBlob",value:function(t){var e=t.type;return e.startsWith(Ye)?Ye:e.startsWith(De)?De:or}},{key:"createImageAttachment",value:function(t){var e=new Image;return e[de]=t,e[B].add("image-attachment"),e}},{key:"createAnyFileAttachment",value:function(t){var e=se();e[B].add("border-bound-attachment"),ra.IS_SAFARI&&e[B].add("border-bound-attachment-safari");var n=se();n[B].add("any-file-attachment-text");var r=se();return r[B].add("file-attachment-text-container"),r.appendChild(n),n.textContent=t,e.appendChild(r),e}},{key:"createContainer",value:function(t){var e=se();return e[B].add("file-attachment"),e.appendChild(t),e}}])})(),wS=(function(i){function l(t,e,n,r,o){return z(this,l),ce(this,l,[t,e,n,r,o])}return fe(l,i),P(l,[{key:"createTimer",value:function(e,n){var r=this,o=0,u=n!==void 0&&n<l.TIMER_LIMIT_S?n:l.TIMER_LIMIT_S;return setInterval(function(){var f;o+=1,o===u&&((f=r.stopPlaceholderCallback)==null||f.call(r),r.clearTimer()),o===600&&e[B].add("audio-placeholder-text-4-digits");var h=Math.floor(o/60),p=(o%60).toString().padStart(2,"0");e.textContent="".concat(h,":").concat(p)},1e3)}},{key:"createPlaceholderAudioAttachment",value:function(e){var n=l.createAudioContainer(),r=se();r[B].add("audio-placeholder-text-3-digits");var o=se();o[B].add("file-attachment-text-container","audio-placeholder-text-3-digits-container"),o.appendChild(r);var u=Ja.createSVGElement($h);return u[B].add("attachment-icon","stop-icon","not-removable-attachment-icon"),r.textContent="0:00",this._activePlaceholderTimer=this.createTimer(r,e),n.appendChild(o),this.addPlaceholderAudioAttachmentEvents(n,u,o),n}},{key:"addPlaceholderAudioAttachmentEvents",value:function(e,n,r){var o=this,u=function(){return e.replaceChildren(n)};e.addEventListener("mouseenter",u);var f=function(){return e.replaceChildren(r)};e.addEventListener("mouseleave",f);var h=function(){var g;return(g=o.stopPlaceholderCallback)==null?void 0:g.call(o)};e.addEventListener(nt,h)}},{key:"addPlaceholderAttachment",value:function(e,n){var r=this.createPlaceholderAudioAttachment(n);this._activePlaceholderAttachment=this.addFileAttachment(new File([],""),De,r,!1),this.stopPlaceholderCallback=e}},{key:"completePlaceholderAttachment",value:function(e,n){var r=this._activePlaceholderAttachment;r&&(r[_t]=e,l.addAudioElements(r.attachmentContainerElement.children[0],n),r.removeButton=this.createRemoveAttachmentButton(r),r.attachmentContainerElement.appendChild(r.removeButton),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"removePlaceholderAttachment",value:function(){this._activePlaceholderAttachment&&(this.removeAttachment(this._activePlaceholderAttachment),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"clearTimer",value:function(){this._activePlaceholderTimer!==void 0&&(clearInterval(this._activePlaceholderTimer),this._activePlaceholderTimer=void 0,this.stopPlaceholderCallback=void 0)}}],[{key:"createAudioContainer",value:function(){var e=se();return e[B].add("border-bound-attachment","audio-attachment-icon-container"),ra.IS_SAFARI&&e[B].add("border-bound-attachment-safari"),e}},{key:"addAudioElements",value:function(e,n){var r=e.parentElement?Ke.cloneElement(e):e,o=se(De);o[de]=n;var u=Ja.createSVGElement(nS);u[B].add("attachment-icon","play-icon");var f=Ja.createSVGElement($h);f[B].add("attachment-icon","stop-icon"),r.replaceChildren(u),o.onplay=function(){r.replaceChildren(f)},o.onpause=function(){r.replaceChildren(u),o.currentTime=0},o.onended=function(){r.replaceChildren(u)},Ke.assignButtonEvents(r,function(){o.paused?o.play():o.pause()})}},{key:"createAudioAttachment",value:function(e){var n=l.createAudioContainer();return l.addAudioElements(n,e),n}},{key:"stopAttachmentPlayback",value:function(e){var n,r,o;(o=(r=(n=e.children[0])==null?void 0:n.children)==null?void 0:r[0])!=null&&o[B].contains("stop-icon")&&e.children[0][nt]()}}])})(Nm);wS.TIMER_LIMIT_S=5999;var Wh=wS,YM=(function(){function i(){z(this,i)}return P(i,null,[{key:"create",value:function(t,e,n,r,o,u){return u===De?new Wh(t,e,n,r,o):new Nm(t,e,n,r,o)}}])})(),Im=(function(){function i(l,t,e){z(this,i),this._fileAttachmentsTypes=[],this.elementRef=this.createAttachmentContainer();var n=ie(e)=="object"&&!!e.displayFileAttachmentContainer;this.toggleContainerDisplay(n),l.appendChild(this.elementRef),t&&Object.assign(this.elementRef[X],t)}return P(i,[{key:"addType",value:function(t,e,n,r){var o=YM.create(t,e,n,this.toggleContainerDisplay.bind(this),this.elementRef,r);return this._fileAttachmentsTypes.push(o),o}},{key:"createAttachmentContainer",value:function(){var t=se();return t.id="file-attachment-container",t}},{key:"toggleContainerDisplay",value:function(t){t?this.elementRef[X].display="block":this.elementRef.children.length===0&&(this.elementRef[X].display="none")}},{key:"getAllFileData",value:function(){var t=this._fileAttachmentsTypes.map(function(e){return e.getFiles()}).flat();return t.length>0?t:void 0}},{key:"completePlaceholders",value:(function(){var l=I(k().m(function e(){return k().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,Promise.all(this._fileAttachmentsTypes.map((function(){var r=I(k().m(function o(u){var f;return k().w(function(h){for(;;)if(h.n===0)return h.a(2,(f=u.stopPlaceholderCallback)==null?void 0:f.call(u))},o)}));return function(o){return r.apply(this,arguments)}})()));case 1:return n.a(2)}},e,this)}));function t(){return l.apply(this,arguments)}return t})()},{key:"addFilesToAnyType",value:function(t){i.addFilesToType(t,this._fileAttachmentsTypes)}},{key:"hideFiles",value:function(){this._fileAttachmentsTypes.forEach(function(t){return t.hideAttachments()}),this.elementRef.replaceChildren(),this.toggleContainerDisplay(!1)}},{key:"removeHiddenFiles",value:function(){this._fileAttachmentsTypes.forEach(function(t){return t.removeAttachments()})}},{key:"readdHiddenFiles",value:function(){this._fileAttachmentsTypes.forEach(function(t){return t.readdAttachments()}),this.toggleContainerDisplay(!0)}},{key:"getNumberOfTypes",value:function(){return this._fileAttachmentsTypes.length}}],[{key:"addFilesToType",value:function(t,e){t.forEach(function(n){var r=new FileReader;r.readAsDataURL(n),r.onload=function(o){for(var u=0;u<e.length&&!e[u].attemptAddFile(n,o.target.result);u+=1);}})}}])})(),TS=(function(){function i(l,t,e){z(this,i),this._isOpen=!1,this._contentRef=i.createModalContent(t,e?.backgroundColor),this._buttonPanel=i.createButtonPanel(e?.backgroundColor),this._elementRef=i.createContainer(this._contentRef,e),this._elementRef.appendChild(this._buttonPanel),l.appendChild(this._elementRef),this._backgroundPanelRef=i.createDarkBackgroundPanel(),l.appendChild(this._backgroundPanelRef),this.addWindowEvents(l)}return P(i,[{key:"isOpen",value:function(){return this._isOpen}},{key:"addButtons",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(o){Yt.addAttributes(o),t._buttonPanel.appendChild(o)})}},{key:"close",value:function(){var t=this;this._elementRef[B].remove("show-modal"),this._elementRef[B].add("hide-modal"),this._backgroundPanelRef[B].remove("show-modal-background"),this._backgroundPanelRef[B].add("hide-modal-background"),this._isOpen=!1,setTimeout(function(){t._elementRef[X].display="none",t._backgroundPanelRef[X].display="none"},i.MODAL_CLOSE_TIMEOUT_MS)}},{key:"displayModalElements",value:function(){this._elementRef[X].display="flex",this._elementRef[B].remove("hide-modal"),this._elementRef[B].add("show-modal"),this._backgroundPanelRef[X].display="block",this._backgroundPanelRef[B].remove("hide-modal-background"),this._backgroundPanelRef[B].add("show-modal-background"),this._isOpen=!0}},{key:"openTextModal",value:function(t){this._contentRef.innerHTML=t,this.displayModalElements()}},{key:"addCloseButton",value:function(t,e,n){var r=this,o=e?i.createSVGButton(t):i.createTextButton(t);return this.addButtons(o),Ke.assignButtonEvents(o,function(){r.close(),setTimeout(function(){n?.()},140)}),o}},{key:"addWindowEvents",value:function(t){this.keyDownEvent=this.windowKeyDown.bind(this,t),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowKeyDown",value:function(t,e){var n,r;!t.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(e.key===Ft.ESCAPE?(this.close(),(n=this.extensionCloseCallback)==null||n.call(this)):e.key===Ft.ENTER&&(this.close(),(r=this.extensionCloseCallback)==null||r.call(this)))}}],[{key:"createContainer",value:function(t,e){var n=se();return n[B].add("modal"),n.appendChild(t),e&&delete e.backgroundColor,Object.assign(n[X],e),n}},{key:"createModalContent",value:function(t,e){var n,r=se();return(n=r[B]).add.apply(n,tr(t)),e&&(r[X].backgroundColor=e),se().appendChild(r),r}},{key:"createButtonPanel",value:function(t){var e=se();return e[B].add("modal-button-panel"),t&&(e[X].backgroundColor=t),e}},{key:"createDarkBackgroundPanel",value:function(){var t=se();return t.id="modal-background-panel",t}},{key:"createTextButton",value:function(t){var e=se();return e[B].add("modal-button"),e.textContent=t,e}},{key:"createSVGButton",value:function(t){var e=se();e[B].add("modal-button","modal-svg-button");var n=Ja.createSVGElement(t);return n[B].add("modal-svg-button-icon"),e.appendChild(n),e}},{key:"createTextModalFunc",value:function(t,e,n){var r;if(ie(e)=="object"&&(r=e[H])!=null&&r.infoModal){var o=new i(t,["modal-content"],e[H].infoModal.containerStyle);return o.addCloseButton("OK",!1,n),o.openTextModal.bind(o,e.infoModalTextMarkUp||"")}}}])})();TS.MODAL_CLOSE_TIMEOUT_MS=190;var $l=TS,XM=(function(i){function l(t,e,n,r,o,u){var f;z(this,l);var h,p,g,y,b,E,S,A,R,L,K=Ct.processPosition((h=n?.button)==null?void 0:h.position),F=((y=(g=(p=n?.button)==null?void 0:p.styles)==null?void 0:g[w])==null?void 0:y.content)||u,ne=Xa.tryCreateConfig("Upload File",(b=n?.button)==null?void 0:b.tooltip);f=ce(this,l,[l.createButtonElement(),o,K,ne,n.button,F]);var J=f.createInnerElementsForStates(r,f.customStyles);return f._inputElement=l.createInputElement((E=n?.[H])==null?void 0:E.acceptedFormats),f.addClickEvent(t,n),f.changeElementsByState(J.styles),f.reapplyStateStyle("styles"),f._fileAttachmentsType=e,f._openModalOnce=((A=(S=n[H])==null?void 0:S.infoModal)==null?void 0:A.openModalOnce)===!1||(L=(R=n[H])==null?void 0:R.infoModal)==null?void 0:L.openModalOnce,f}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e,n){return{styles:this.createInnerElements(e,"styles",n)}}},{key:"triggerImportPrompt",value:function(e){e.onchange=this.import.bind(this,e),e[nt]()}},{key:"import",value:function(e){Im.addFilesToType(Array.from(e[H]||[]),[this._fileAttachmentsType]),e.value=""}},{key:"addClickEvent",value:function(e,n){var r=this.triggerImportPrompt.bind(this,this._inputElement),o=$l.createTextModalFunc(e,n,r);this.elementRef.onclick=this[nt].bind(this,o)}},{key:"click",value:function(e){e&&(this._openModalOnce===void 0||this._openModalOnce===!0)?(e(),this._openModalOnce===!0&&(this._openModalOnce=!1)):this.triggerImportPrompt(this._inputElement)}}],[{key:"createInputElement",value:function(e){var n=se("input");return n.type=_t,n.accept=e||"",n.hidden=!0,n.multiple=!0,n}},{key:"createButtonElement",value:function(){var e=se();return e[B].add("input-button"),e}}])})(vr),T1=(function(){function i(){z(this,i)}return P(i,null,[{key:"create",value:function(t,e,n){var r=i.createElement(n);i.addEvents(r,t,e),t.appendChild(r)}},{key:"createElement",value:function(t){var e=se();return e.id="drag-and-drop",ie(t)===Ue&&Object.assign(e[X],t),e}},{key:"addEvents",value:function(t,e,n){e.ondragenter=function(r){r.preventDefault(),i.display(t)},t.ondragleave=function(r){r.preventDefault(),i.hide(t)},t.ondragover=function(r){r.preventDefault()},t.ondrop=function(r){r.preventDefault(),i.uploadFile(n,r),i.hide(t)}}},{key:"uploadFile",value:function(t,e){var n,r=(n=e.dataTransfer)==null?void 0:n[H];r&&t.addFilesToAnyType(Array.from(r))}},{key:"display",value:function(t){t[X].display="block"}},{key:"hide",value:function(t){t[X].display="none"}},{key:"isEnabled",value:function(t,e){return e!==void 0&&e===!1?!1:!!e||t.getNumberOfTypes()>0}}])})(),$M=(function(){function i(){z(this,i)}return P(i,null,[{key:"validate",value:function(t,e,n,r,o,u,f){var h=n.isSubmitProgrammaticallyDisabled?!1:t(r,o,f);return h?e.changeToSubmitIcon():e.changeToDisabledIcon(),u?.addInputText(r||""),h}},{key:"useValidationFunc",value:(function(){var l=I(k().m(function e(n,r,o,u,f,h){var p,g,y;return k().w(function(b){for(;;)switch(b.n){case 0:return p=r.isTextInputEmpty()?"":r.inputElementRef.textContent,b.n=1,o.completePlaceholders();case 1:return g=o.getAllFileData(),y=g?.map(function(E){return E[_t]}),b.a(2,i.validate(n,u,f,p,y,h))}},e)}));function t(e,n,r,o,u,f){return l.apply(this,arguments)}return t})()},{key:"useValidationFuncProgrammatic",value:(function(){var l=I(k().m(function e(n,r,o,u,f){var h,p;return k().w(function(g){for(;;)if(g.n===0)return p=(h=r[H])==null?void 0:h.map(function(y){return y[_t]}),g.a(2,i.validate(n,o,u,r[w],p,f,!0))},e)}));function t(e,n,r,o,u){return l.apply(this,arguments)}return t})()},{key:"validateWebsocket",value:function(t,e){var n=t.websocket,r=t.connectSettings;return n&&r.url!==$a.URL&&!co.canSendMessage(n)?(e.changeToDisabledIcon(),!1):!0}},{key:"attach",value:function(t,e,n,r,o,u){var f=t.validateInput||Ct.processValidateInput(t);t._validationHandler=(function(){var h=I(k().m(function p(g){var y;return k().w(function(b){for(;;)switch(b.n){case 0:if(!(o.status.loadingActive||o.status.requestInProgress||!i.validateWebsocket(e,o))){b.n=1;break}return b.a(2,!1);case 1:return y=f||e.canSendMessage,b.a(2,y?g?i.useValidationFuncProgrammatic(y,g,o,e,u):i.useValidationFunc(y,n,r,o,e,u):null)}},p)}));return function(p){return h.apply(this,arguments)}})()}}])})(),AS=(function(){function i(){z(this,i)}return P(i,null,[{key:"getFileName",value:function(t,e){var n=new Date,r=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(o,"-").concat(u,".").concat(e)}}])})(),ZM=(function(i){function l(t,e){var n;z(this,l);var r,o;return n=ce(this,l,[e.button]),n._waitingForBrowserApproval=!1,n._audioType=t,n._extension=((r=e[H])==null?void 0:r.format)||"mp3",n._maxDurationSeconds=(o=e[H])==null?void 0:o.maxDurationSeconds,Ke.assignButtonEvents(n.elementRef,n.buttonClick.bind(vs(n))),n}return fe(l,i),P(l,[{key:"buttonClick",value:function(){this._waitingForBrowserApproval||(this.isActive?this.stop():(this._waitingForBrowserApproval=!0,this.record()))}},{key:"stop",value:function(){var e=this;return new Promise(function(n){var r,o;e.changeToDefault(),(r=e._mediaRecorder)==null||r.stop(),(o=e._mediaStream)==null||o.getTracks().forEach(function(u){return u.stop()}),setTimeout(function(){n()},10)})}},{key:"record",value:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){e.changeToActive(),e._mediaRecorder=new MediaRecorder(n),e._audioType.addPlaceholderAttachment(e.stop.bind(e),e._maxDurationSeconds),e._mediaStream=n,e._mediaRecorder.addEventListener("dataavailable",function(r){e.createFile(r)}),e._mediaRecorder[wi]()}).catch(function(n){console[O](n),e.stop()}).finally(function(){e._waitingForBrowserApproval=!1})}},{key:"createFile",value:function(e){var n=this,r=new Blob([e.data],{type:"audio/".concat(this._extension)}),o=AS.getFileName(this._newFilePrefix||De,this._extension),u=new File([r],o,{type:r.type}),f=new FileReader;f.readAsDataURL(u),f.onload=function(h){n._audioType.completePlaceholderAttachment(u,h.target.result)}}}])})(bS),QM=`<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="1" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
  <line x1="22" y1="2" x2="11" y2="14"></line>
  <polygon points="22 2 15 22 11 14 2 10 22 2"></polygon>
</svg>
`,A1=(function(){function i(){z(this,i)}return P(i,null,[{key:"resetSubmit",value:function(t,e){e?t.unsetCustomStateStyles(["loading","submit"]):t.unsetCustomStateStyles(["stop","loading","submit"]),t.reapplyStateStyle("submit")}},{key:"overwriteDefaultStyleWithSubmit",value:function(t,e){if(t.submit){var n=JSON.parse(JSON.stringify(t[e]||{}));Ga.overwritePropertyObjectFromAnother(n,t.submit,["container",le]),Ga.overwritePropertyObjectFromAnother(n,t.submit,[w,"styles",le]),Ga.overwritePropertyObjectFromAnother(n,t.submit,["svg","styles",le]),t[e]=n}}},{key:"setUpDisabledButton",value:function(t){Ga.setPropertyValueIfDoesNotExist(t,["submit","container",le,"backgroundColor"],""),Ga.setPropertyValueIfDoesNotExist(t,["disabled","container",le,"backgroundColor"],Vw),Ga.setPropertyValueIfDoesNotExist(t.submit,["svg","styles",le,"filter"],""),Ga.setPropertyValueIfDoesNotExist(t.disabled,["svg","styles",le,"filter"],"brightness(0) saturate(100%) invert(70%) sepia(0%) saturate(5564%) hue-rotate(207deg) brightness(100%) contrast(97%)"),Ga.setPropertyValueIfDoesNotExist(t.disabled,[w,"styles",le,"color"],"grey"),i.overwriteDefaultStyleWithSubmit(t,"disabled")}},{key:"process",value:function(t){var e=JSON.parse(JSON.stringify(t||{}));return i.overwriteDefaultStyleWithSubmit(e,"loading"),i.overwriteDefaultStyleWithSubmit(e,"stop"),t!=null&&t.alwaysEnabled||i.setUpDisabledButton(e),e}}])})(),WM=(function(i){function l(t,e,n,r,o,u){var f;z(this,l);var h=A1.process(t.submitButtonStyles),p=QM,g=Xa.tryCreateConfig("Submit",h?.tooltip);return f=ce(this,l,[l.createButtonContainerElement(),p,h?.position,g,h]),f._isSVGLoadingIconOverriden=!1,f.status={requestInProgress:!1,loadingActive:!1},f._messages=n,f._textInput=e,f._fileAttachments=o,f._innerElements=f.createInnerElementsForStates(),f._stopClicked={listener:function(){}},f._serviceIO=r,f._alwaysEnabled=!!(h!=null&&h.alwaysEnabled),t.disableSubmitButton=f.disableSubmitButton.bind(vs(f),r),f.attemptOverwriteLoadingStyle(t),u.microphone&&f.setUpSpeechToText(u.microphone.button,t.speechToText),setTimeout(function(){var y;f._validationHandler=t._validationHandler,f.assignHandlers(f._validationHandler),(y=f._validationHandler)==null||y.call(vs(f))}),f}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(){var e=this.createCustomElements(),n=e.submit,r=e.loading,o=e.stop;return{submit:n,loading:r||[l.createLoadingIconElement()],stop:o||[l.createStopIconElement()],disabled:this.createDisabledIconElement(n)}}},{key:"createCustomElements",value:function(){var e=this,n=Ai.createCustomElements("submit",this.svg,this.customStyles),r={loading:void 0,stop:void 0};return Object.keys(r).forEach(function(o){var u=o,f=Ai.createCustomElements(u,e.svg,e.customStyles);f&&(r[u]=f)}),r.submit=n||this.buildDefaultIconElement("submit-icon"),r}},{key:"createDisabledIconElement",value:function(e){return Ai.createCustomElements("disabled",this.svg,this.customStyles)||[e[0].cloneNode(!0)]}},{key:"attemptOverwriteLoadingStyle",value:function(e){var n,r,o,u,f,h,p,g,y;if(!((r=(n=this.customStyles)==null?void 0:n.submit)!=null&&r.svg||(f=(u=(o=this.customStyles)==null?void 0:o.loading)==null?void 0:u.svg)!=null&&f.content||(g=(p=(h=this.customStyles)==null?void 0:h.loading)==null?void 0:p[w])!=null&&g.content)&&(e.displayLoadingBubble===void 0||e.displayLoadingBubble===!0)){var b=se("style");b.textContent=`
        .loading-button > * {
          filter: brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%)
            contrast(96%) !important;
        }`,(y=e.shadowRoot)==null||y.appendChild(b),this._isSVGLoadingIconOverriden=!0}}},{key:"assignHandlers",value:function(e){this._serviceIO.completionsHandlers={onFinish:this.resetSubmit.bind(this,e)},this._serviceIO.streamHandlers={onOpen:this.changeToStopIcon.bind(this),onClose:this.resetSubmit.bind(this,e),stopClicked:this._stopClicked};var n=this._serviceIO.stream;ie(n)=="object"&&typeof n.simulation=="number"&&(this._serviceIO.streamHandlers.simulationInterim=n.simulation)}},{key:"setUpSpeechToText",value:function(e,n){this._microphoneButton=e,this._stopSTTAfterSubmit=ie(n)=="object"?n.stopAfterSubmit:!1}},{key:"resetSubmit",value:function(e){this.status.requestInProgress=!1,this.status.loadingActive=!1,e()}},{key:"submitFromInput",value:(function(){var t=I(k().m(function n(){var r=this,o,u;return k().w(function(f){for(;;)switch(f.n){case 0:return f.n=1,this._fileAttachments.completePlaceholders();case 1:o=this._fileAttachments.getAllFileData(),this._textInput.isTextInputEmpty()?this.attemptSubmit(C(C({},w,""),H,o)):(u=this._textInput.inputElementRef.innerText.trim(),this.attemptSubmit(C(C({},w,u),H,o))),(ra.IS_SAFARI||ra.IS_MOBILE)&&setTimeout(function(){return lo.focusEndOfInput(r._textInput.inputElementRef)});case 2:return f.a(2)}},n,this)}));function e(){return t.apply(this,arguments)}return e})()},{key:"programmaticSubmit",value:(function(){var t=I(k().m(function n(r){var o=this,u;return k().w(function(f){for(;;)switch(f.n){case 0:typeof r=="string"&&(r=Ct.processSubmitUserMessage(r)),u=C({},w,r[w]),r[H]&&(u[H]=Array.from(r[H]).map(function(h){return{file:h,type:Nm.getTypeFromBlob(h)}})),r.custom&&(u.custom=r.custom),setTimeout(function(){return o.attemptSubmit(u,!0)});case 1:return f.a(2)}},n)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"attemptSubmit",value:(function(){var t=I(k().m(function n(r){var o=this,u,f,h,p,g,y,b,E=arguments,S,A,R;return k().w(function(L){for(;;)switch(L.n){case 0:return u=E.length>1&&E[1]!==void 0?E[1]:!1,L.n=1,(f=this._validationHandler)==null?void 0:f.call(this,u?r:void 0);case 1:if(S=L.v,A=!1,S!==A){L.n=2;break}return L.a(2);case 2:if(this.changeToLoadingIcon(),this._textInput.clear(),ra.IS_MOBILE&&setTimeout(function(){return o._textInput.inputElementRef.focus()}),R=typeof this._messages.focusMode!="boolean"&&(h=this._messages.focusMode)!=null&&h.fade,!R){L.n=3;break}return L.n=3,jb.fadeAnimation(this._messages.elementRef,this._messages.focusMode.fade);case 3:return L.n=4,this.addNewMessage(r);case 4:return this._serviceIO.isWebModel()||this._messages.addLoadingMessage(),y=(p=r[H])==null?void 0:p.map(function(K){return K[_t]}),b=C(C({},w,r[w]===""?void 0:r[w]),H,y),L.n=5,this._serviceIO.callAPI(b,this._messages);case 5:(g=this._fileAttachments)==null||g.hideFiles();case 6:return L.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"addNewMessage",value:(function(){var t=I(k().m(function n(r){var o,u,f,h,p;return k().w(function(g){for(;;)switch(g.n){case 0:if(o=r.text,u=r.files,f=r.custom,h={role:qe,custom:f},o&&(h[w]=o),p=u,!p){g.n=2;break}return g.n=1,this._messages.addMultipleFiles(u,this._fileAttachments);case 1:h[H]=g.v;case 2:this._serviceIO.sessionId&&(h._sessionId=this._serviceIO.sessionId),Object.keys(h).length>0&&this._messages.addNewMessage(h);case 3:return g.a(2)}},n,this)}));function e(n){return t.apply(this,arguments)}return e})()},{key:"stopStream",value:function(){var e,n,r;(n=(e=this._serviceIO.streamHandlers).onAbort)==null||n.call(e),(r=this._stopClicked)==null||r.listener(),this._validationHandler&&this.resetSubmit(this._validationHandler)}},{key:"changeToStopIcon",value:function(){this._serviceIO.websocket||(this.elementRef[B].remove(Fu,kl,El),Yt.removeAriaAttributes(this.elementRef),this.changeElementsByState(this._innerElements.stop),this.reapplyStateStyle("stop",["loading","submit"]),Ke.assignButtonEvents(this.elementRef,this.stopStream.bind(this)),this.status.loadingActive=!1)}},{key:"changeToLoadingIcon",value:function(){this._serviceIO.websocket||(this._isSVGLoadingIconOverriden||this.changeElementsByState(this._innerElements.loading),this.elementRef[B].remove(El,kl),Yt.removeAriaDisabled(this.elementRef),this.elementRef[B].add(Fu),Yt.addAriaBusy(this.elementRef),this.reapplyStateStyle("loading",["submit"]),Ke.assignButtonEvents(this.elementRef,function(){}),this.status.requestInProgress=!0,this.status.loadingActive=!0)}},{key:"changeToSubmitIcon",value:function(){var e=this;this.elementRef[B].contains(El)||(this.elementRef[B].remove(Fu,kl),Yt.removeAriaAttributes(this.elementRef),this.elementRef[B].add(El),this.changeElementsByState(this._innerElements.submit),A1.resetSubmit(this,this.status.loadingActive),Ke.assignButtonEvents(this.elementRef,function(){var n;e.submitFromInput(),(n=e._microphoneButton)!=null&&n.isActive&&Bm.toggleSpeechAfterSubmit(e._microphoneButton.elementRef,!!e._stopSTTAfterSubmit),setTimeout(function(){return lo.focusEndOfInput(e._textInput.inputElementRef)})}))}},{key:"changeToDisabledIcon",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._alwaysEnabled&&!e?this.changeToSubmitIcon():this.elementRef[B].contains(kl)||(this.elementRef[B].remove(Fu,El),Yt.removeAriaBusy(this.elementRef),this.elementRef[B].add(kl),Yt.addAriaDisabled(this.elementRef),this.changeElementsByState(this._innerElements.disabled),this.reapplyStateStyle("disabled",["submit"]),Ke.assignButtonEvents(this.elementRef,function(){}))}},{key:"disableSubmitButton",value:function(e,n){var r;e.isSubmitProgrammaticallyDisabled=n!==!1,!(this.status.requestInProgress||this.status.loadingActive)&&(n===!1?(r=this._validationHandler)==null||r.call(this):this.changeToDisabledIcon(!0))}}],[{key:"createButtonContainerElement",value:function(){var e=se();return e[B].add("input-button"),e}},{key:"createLoadingIconElement",value:function(){var e=se();return e[B].add("loading-submit-button"),e}},{key:"createStopIconElement",value:function(){var e=se();return e.id="stop-icon",e}}])})(vr),e6=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <path d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"/>
</svg>
`,t6=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048z"></path>
</svg>
`,n6=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <path d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"/>
</svg>`,a6=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.89163 13.2687L9.16582 17.5427L18.7085 8" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,i6=(function(i){function l(t,e,n,r){var o;z(this,l),o=ce(this,l,[t,["modal-content","modal-camera-content"],n]),o._stopped=!1,o._format="image/png",o._canvas=se("canvas"),o._canvas[B].add("camera-modal-canvas");var u=o.addButtonsAndTheirEvents(e),f=u.captureButton,h=u.submitButton;return o._captureButton=f,o._submitButton=h,o._captureIcon=o._captureButton.children[0],o._refreshIcon=Ja.createSVGElement(e6),o._refreshIcon[B].add("modal-svg-button-icon","modal-svg-refresh-icon"),r?.format==="jpeg"&&(o._format="image/jpeg"),r!=null&&r.dimensions&&(o._dimensions=r.dimensions),o._contentRef.appendChild(o._canvas),o.extensionCloseCallback=o.stop,o}return fe(l,i),P(l,[{key:"addButtonsAndTheirEvents",value:function(e){var n=$l.createSVGButton(t6);n[B].add("modal-svg-camera-button"),n.children[0][B].add("modal-svg-camera-icon");var r=this.addCloseButton(n6,!0);r[B].add("modal-svg-close-button"),r.children[0][B].add("modal-svg-close-icon");var o=$l.createSVGButton(a6);return o[B].add("modal-svg-submit-button"),this.addButtons(n,o),this.addButtonEvents(n,r,o,e),{captureButton:n,submitButton:o}}},{key:"addButtonEvents",value:function(e,n,r,o){var u=this;Ke.assignButtonEvents(e,this.capture.bind(this)),Ke.assignButtonEvents(n,this.stop.bind(this)),Ke.assignButtonEvents(r,function(){var f=u.getFile();f&&Im.addFilesToType([f],[o]),u.stop(),u.close()})}},{key:"stop",value:function(){var e=this;this._mediaStream&&this._mediaStream.getTracks().forEach(function(n){return n.stop()}),this._stopped=!0,setTimeout(function(){e._captureButton.replaceChildren(e._captureIcon),e._captureButton[B].replace("modal-svg-refresh-button","modal-svg-camera-button");var n=e._canvas.getContext("2d");n?.clearRect(0,0,e._canvas.width,e._canvas.height)},$l.MODAL_CLOSE_TIMEOUT_MS)}},{key:"start",value:function(){var e=this;this._dataURL=void 0,this._submitButton[B].add("modal-svg-submit-disabled"),this._stopped=!1,navigator.mediaDevices.getUserMedia({video:this._dimensions||!0}).then(function(n){if(e._mediaStream=n,!e.isOpen())return e.stop();var r=se("video");r.srcObject=n,r.play(),requestAnimationFrame(e.updateCanvas.bind(e,r,e._canvas))}).catch(function(n){console[O](n),e.stop(),e.close()})}},{key:"capture",value:function(){this._dataURL?(this._captureButton.replaceChildren(this._captureIcon),this._captureButton[B].replace("modal-svg-refresh-button","modal-svg-camera-button"),this._submitButton[B].add("modal-svg-submit-disabled"),this._dataURL=void 0):(this._captureButton.replaceChildren(this._refreshIcon),this._captureButton[B].replace("modal-svg-camera-button","modal-svg-refresh-button"),this._submitButton[B].remove("modal-svg-submit-disabled"),this._dataURL=this._canvas.toDataURL())}},{key:"getFile",value:function(){if(this._dataURL){for(var e=atob(this._dataURL.split(",")[1]),n=new Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);var o=new Uint8Array(n),u=new Blob([o],{type:this._format}),f=this._format==="image/jpeg"?"jpeg":"png",h=AS.getFileName(this._newFilePrefix||"photo",f);return new File([u],h,{type:u.type})}}},{key:"updateCanvas",value:function(e,n){if(!this._stopped){if(!this._dataURL){n.width=e.videoWidth,n.height=e.videoHeight;var r=n.getContext("2d");r?.drawImage(e,0,0,n.width,n.height)}requestAnimationFrame(this.updateCanvas.bind(this,e,n))}}},{key:"openCameraModal",value:function(e){this.displayModalElements(),e[wi]()}}],[{key:"createCameraModalFunc",value:function(e,n,r,o){var u=new l(e,n,r,o);return u.openCameraModal.bind(u,u)}}])})($l),r6=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M29 7h-4.599l-2.401-4h-12l-2.4 4h-4.6c-1 0-3 1-3 2.969v16.031c0 1.657 1.5 3 2.792 3h26.271c1.313 0 2.938-1.406 2.938-2.968v-16.032c0-1-1-3-3-3zM30 26.032c0 0.395-0.639 0.947-0.937 0.969h-26.265c-0.232-0.019-0.797-0.47-0.797-1v-16.031c0-0.634 0.851-0.953 1-0.969h5.732l2.4-4h9.802l1.785 3.030 0.55 0.97h5.731c0.705 0 0.99 0.921 1 1v16.032zM16 10c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM16 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path>
</svg>`,s6=(function(i){function l(t,e,n){var r;z(this,l);var o,u,f,h,p,g,y=Ct.processPosition((o=n?.button)==null?void 0:o.position),b=((h=(f=(u=n?.button)==null?void 0:u.styles)==null?void 0:f[w])==null?void 0:h.content)||"Photo",E=Xa.tryCreateConfig("Camera",(p=n?.button)==null?void 0:p.tooltip),S=((g=n?.button)==null?void 0:g.styles)||{};r=ce(this,l,[l.createButtonElement(),r6,y,E,S,b]);var A=r.createInnerElementsForStates(r.customStyles);return n&&r.addClickEvent(t,e,n.modalContainerStyle,n[H]),r.changeElementsByState(A.styles),r.reapplyStateStyle("styles"),r}return fe(l,i),P(l,[{key:"createInnerElementsForStates",value:function(e){return{styles:this.createInnerElements("camera-icon","styles",e)}}},{key:"addClickEvent",value:function(e,n,r,o){var u=i6.createCameraModalFunc(e,n,r,o);Ke.assignButtonEvents(this.elementRef,u)}}],[{key:"createButtonElement",value:function(){var e=se();return e[B].add("input-button"),e}}])})(vr),l6=(function(){function i(l,t,e,n){z(this,i),this.elementRef=i.createPanelElement(l.inputAreaStyle);var r={},o=this.createFileUploadComponents(l,e,n,r),u=new Cb(l,e,o,t.browserStorage);l.speechToText&&!r.microphone&&(r.microphone={button:new Bm(l,u,t.addNewErrorMessage.bind(t))});var f=new WM(l,u,t,e,o,r);u.submit=f.submitFromInput.bind(f),$M.attach(l,e,u,o,f,t.browserStorage),l.submitUserMessage=f.programmaticSubmit.bind(f),r.submit={button:f},l.customButtons&&Wl.add(l,r),i.addElements(this.elementRef,u,r,n,o,l.dropupStyles),i.assignOnInput(l,e,o,u)}return P(i,[{key:"createFileUploadComponents",value:function(t,e,n,r){var o,u,f,h,p=new Im(this.elementRef,t.attachmentContainerStyle,e.demo);if(i.createUploadButtons(t,e,e.fileTypes||{},p,n,r),(o=e[vn])!=null&&o[H]){var g=((u=r[ot])==null?void 0:u.fileType)||p.addType(t,e,e[vn][H],ot);r[vn]={button:new s6(n,g,e[vn])}}if((f=e.recordAudio)!=null&&f[H]){var y=((h=r[De])==null?void 0:h.fileType)||p.addType(t,e,e.recordAudio[H],De);r.microphone={button:new ZM(y,e.recordAudio)}}return T1.isEnabled(p,t.dragAndDrop)&&T1.create(n,p,t.dragAndDrop),p}}],[{key:"createPanelElement",value:function(t){var e=se();return e.id="input",Object.assign(e[X],t),e}},{key:"createUploadButtons",value:function(t,e,n,r,o,u){Object.keys(n).forEach(function(f){var h=f,p=n[h];if(p[H]){var g=r.addType(t,e,p[H],h),y=RM[h],b=y.id,E=y.svgString,S=y.dropupText,A=new XM(o,g,p,b,E,S);u[h]={button:A,fileType:g}}})}},{key:"addElements",value:function(t,e,n,r,o,u){Ke.addElements(t,e.elementRef);var f=dc.create(),h=CM.addButtons(f,n,r,u);SM.set(e.inputElementRef,f,o.elementRef,h),dc.add(t,f)}},{key:"assignOnInput",value:function(t,e,n,r){e.onInput=function(o){setTimeout(function(){var u=n.getAllFileData(),f=r.inputElementRef.innerText.trim(),h=C({},w,f);u&&(h[H]=u.map(function(p){return p[_t]})),fr.onInput(t,h,o)})}}}])})(),o6=(function(){function i(){z(this,i)}return P(i,null,[{key:"createElements",value:function(t,e,n){var r=se();r.id="chat-view";var o=!t.focusMode&&t.upwardsMode;r.classList.add(o?pM:mM);var u=new Qh(t,e,n);e.websocket&&co.createConnection(e,u);var f=new l6(t,u,e,r),h=o?u.elementRef.parentElement:u.elementRef;return Ke.addElements(r,h,f.elementRef),r}},{key:"render",value:function(t,e,n,r){var o=i.createElements(t,n,r);e.replaceChildren(o),n.isCustomView()&&n.setUpView(o,e)}}])})(),u6=`#validate-property-key-view{height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:8px}#loading-validate-key-property{display:inline-block;width:50px;height:50px}#loading-validate-key-property:after{content:" ";display:block;width:38px;height:38px;margin:1px;border-radius:50%;border:5px solid #5fb2ff;border-color:#5fb2ff transparent #5fb2ff transparent;animation:loading-spinner 1.4s linear infinite}#deep-chat-openai-realtime-container{height:100%;width:100%}#deep-chat-openai-realtime-avatar-container{height:60%;width:100%;display:flex;justify-content:center;align-items:center}#deep-chat-openai-realtime-avatar{border-radius:50%;height:110px;border:1px solid rgb(215,215,215);padding:8px;-webkit-user-select:none;user-select:none;margin-top:20px}#deep-chat-openai-realtime-buttons-container{height:40%;display:flex;position:relative}.deep-chat-openai-realtime-button-container{height:100%;width:50%;display:flex;justify-content:center;align-items:center}.deep-chat-openai-realtime-button{width:70px;height:70px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.deep-chat-openai-realtime-button-default{background-color:#e3e3e3}.deep-chat-openai-realtime-button-default:hover{background-color:#d4d4d4}.deep-chat-openai-realtime-button-default:active{background-color:#c5c5c5}.deep-chat-openai-realtime-button-loading{opacity:.7;pointer-events:none}.deep-chat-openai-realtime-microphone-active{background-color:#ffe7e7}.deep-chat-openai-realtime-microphone-active:hover{background-color:#ffdede}.deep-chat-openai-realtime-microphone-active:active{background-color:#ffd2d2}.deep-chat-openai-realtime-microphone>*{height:30px;width:30px}.deep-chat-openai-realtime-microphone-active>*{filter:brightness(0) saturate(100%) invert(35%) sepia(60%) saturate(1360%) hue-rotate(325deg) brightness(95%) contrast(92%)}.deep-chat-openai-realtime-toggle>*{height:32px;width:32px;padding-inline-start:3px;filter:brightness(0) saturate(100%) invert(22%) sepia(0%) saturate(4537%) hue-rotate(208deg) brightness(105%) contrast(91%)}.deep-chat-openai-realtime-button-unavailable{opacity:.45;pointer-events:none}#deep-chat-openai-realtime-error{color:red;position:absolute;top:calc(50% + 40px);inset-inline-start:50%;transform:translate(-50%,-50%);font-size:17px}#deep-chat-openai-realtime-loading{position:absolute;font-size:15px;top:50%;inset-inline-start:50%;transform:translate(-50%,-50%)}#insert-key-view{height:100%;position:relative}#insert-key-contents{text-align:center;position:absolute;inset-block-start:44%;inset-inline-start:50%;transform:translate(-50%,-50%);width:82%;display:flex;max-width:700px}#insert-key-title{margin-bottom:15px}#insert-key-input-container{margin-inline-end:2.7em;width:calc(100% - 80px)}#insert-key-input{padding:.3em 1.7em .3em .3em;border-width:1px;border-style:solid;border-radius:3px;width:100%;font-size:inherit}.insert-key-input-valid{border-color:gray}.insert-key-input-invalid{border-color:red}#visibility-icon-container{position:relative;float:inline-end;cursor:pointer;-webkit-user-select:none;user-select:none}.visibility-icon{filter:brightness(0) saturate(100%) invert(63%) sepia(1%) saturate(9%) hue-rotate(43deg) brightness(98%) contrast(92%);position:absolute;inset-inline-end:-1.7em;inset-block-start:-1.43em}#visible-icon{inset-block-start:-1.4em}.visibility-icon:hover{filter:unset}.visibility-icon>*{pointer-events:none}#start-button{border:1px solid grey;color:#454545;border-radius:4px;width:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.28em .3em;-webkit-user-select:none;user-select:none;background-color:#fff}#start-button:hover{background-color:#f2f2f2}#start-button:active{background-color:#d2d2d2}#insert-key-help-text-container{width:100%;position:absolute;margin-top:32px;margin-bottom:20px}#insert-key-help-text-contents{width:100%;position:absolute}#insert-key-input-invalid-text{display:block;margin-top:1em;margin-bottom:.5em;color:red}.insert-key-input-help-text{display:block;margin-top:16px}#loading-key{display:inline-block;width:16px;height:16px}#loading-key:after{content:" ";display:block;width:11px;height:11px;margin:1px;border-radius:50%;border:2px solid #0084ff;border-color:#0084ff transparent #0084ff transparent;animation:loading-spinner 1.2s linear infinite}#error-view{color:red;font-size:1.2em;line-height:1.3em;margin-top:-5px;text-align:center;height:100%;display:flex;justify-content:center;align-items:center;padding-inline:8px}@keyframes loading-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.intro-panel{position:absolute;display:flex;justify-content:center;right:0;bottom:0;left:0;margin:auto;height:fit-content;top:-2.5em}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: a11y-dark
  Author: @ericwbailey
  Maintainer: @ericwbailey

  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css
*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}#messages,.deep-chat-upwards-mode #messages>div{overflow:auto;overflow-anchor:none}.deep-chat-upwards-mode #messages{height:100%;display:flex;flex-direction:column;justify-content:flex-end}.outer-message-container:last-child{margin-bottom:5px}.inner-message-container{display:flex;margin-inline:auto;width:calc(97.5% - 24px);max-width:100%}.message-bubble{margin-top:10px;word-wrap:break-word;width:fit-content;max-width:60%;border-radius:10px;padding:.42em .55em;height:fit-content;line-height:1.26em}.user-message-text{color:#fff;background-color:#0084ff;margin-inline-end:0px;margin-inline-start:auto}.ai-message-text{color:#000;background-color:#e4e6eb;margin-inline-start:0px;margin-inline-end:auto}.deep-chat-last-group-messages-active{height:100%}#scroll-button{position:absolute;top:75%;left:50%;right:50%;transform:translate(-50%,-50%);transition:opacity .1s ease;display:flex;opacity:0;padding:8px;background-color:#fff;border:.5px solid #000000;justify-content:center;align-items:center;white-space:nowrap;cursor:pointer}#scroll-button:hover{background-color:#fafafa}.loading-history-message-full-view{position:absolute;height:70%;width:100%;display:flex;align-items:center}.deep-chat-upwards-mode #messages .loading-history-message-full-view{height:100%}.loading-history-message-small{height:20px;margin-bottom:30px}.loading-history-message-small>div>div{scale:.6}.loading-history-message{margin-top:0;width:100%;max-width:100%;display:flex;justify-content:center;background-color:unset}.loading-history{width:70px}.loading-history div{position:absolute;width:var(--loading-history-width);height:var(--loading-history-height);margin:var(--loading-history-margin);border:var(--loading-history-border);border-radius:50%;animation:loading-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:var(--loading-history-color) transparent transparent transparent}.loading-history div:nth-child(1){animation-delay:-.45s}.loading-history div:nth-child(2){animation-delay:-.3s}.loading-history div:nth-child(3){animation-delay:-.15s}.html-message{max-width:unset}.error-message-text{margin-inline:auto;background-color:#f4c0c0;color:#474747;text-align:center;max-width:95%;margin-top:14px;margin-bottom:10px}.deep-chat-loading-message-dots-container{width:1em;padding-top:.6em;padding-bottom:.6em;padding-inline-start:1.3em;padding-inline-end:.75em}.loading-message-dots{position:relative;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite linear alternate;animation-delay:.5s}.loading-message-dots:before,.loading-message-dots:after{content:"";display:inline-block;position:absolute;top:0}.loading-message-dots:before{inset-inline-start:-.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:0s}.loading-message-dots:after{inset-inline-start:.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:1s}@keyframes loading-message-dots{0%{background-color:var(--loading-message-color)}50%,to{background-color:var(--loading-message-color-fade)}}.message-bubble>p:first-child,.message-bubble>.partial-render-message>p:first-child,.html-wrapper>p:first-child{margin-top:0}.message-bubble>p:last-child,.message-bubble>.partial-render-message:last-child>p,.html-wrapper>p:last-child{margin-bottom:0}pre{overflow:auto;display:block;word-break:break-all;word-wrap:break-word;border-radius:7px;background:#2b2b2b;color:#f8f8f2;margin-top:.8em;margin-bottom:.8em;padding:.6em;font-size:.9em;line-height:1.5em}.image-message{padding:0;display:flex;background-color:#ddd}.image-message>*,.image-message>*>*{width:100%;border-radius:8px;display:flex}.audio-message{width:60%;max-width:300px;height:2.2em;max-height:54px;padding:0;background-color:unset}.audio-player{width:100%;height:100%}.audio-player-safari{height:fit-content;width:40px}.audio-player-safari-start{float:inline-start}.audio-player-safari-end{float:inline-end}.any-file-message{padding:1px}.any-file-message-contents{display:flex}.any-file-message-icon-container{width:1.3em;min-width:1.3em;position:relative;border-radius:4px;margin-inline-start:6px;margin-inline-end:2px}.any-file-message-icon{background-color:#fff;border-radius:4px;position:absolute;width:1em;height:1.25em;padding:1px;margin-top:auto;margin-bottom:auto;top:0;bottom:0}.any-file-message-text{padding-top:5px;overflow-wrap:anywhere;padding-bottom:5px;padding-inline-end:7px}.message-bubble>a{color:inherit}.start-item-position{margin-inline-end:10px}.end-item-position{margin-inline-start:10px}.role-hidden{display:none}.avatar{padding-top:5px;width:1.5em;height:1.5em;border-radius:1px}.avatar-container{margin-top:9px}.name{margin-top:16px;font-size:15px}#drag-and-drop{position:absolute;display:none;z-index:10;height:calc(100% - 10px);width:calc(100% - 10px);background-color:#70c6ff4d;border:5px dashed #6dafff}#file-attachment-container{position:absolute;height:3.6em;width:calc(80% - 4px);top:-2.5em;border-radius:5px;overflow:auto;text-align:start;background-color:#d7d7d73b;padding-inline-start:4px}.file-attachment{width:2.85em;height:2.85em;display:inline-flex;margin-inline-end:.6em;margin-bottom:.44em;margin-top:4px;position:relative;background-color:#fff;border-radius:5px}.image-attachment{width:100%;height:100%;object-fit:cover;border-radius:5px}.border-bound-attachment{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #c3c3c3;border-radius:5px;overflow:hidden}.border-bound-attachment-safari{width:calc(100% - 1px);height:calc(100% - 1px)}.audio-attachment-icon-container{cursor:pointer}.audio-attachment-icon-container:hover{background-color:#f8f8f8}.attachment-icon{inset-inline:0;bottom:0;top:2px;margin:auto;position:absolute;width:25px;-webkit-user-select:none;user-select:none}.not-removable-attachment-icon{top:0;right:0;bottom:0;left:0}.play-icon{filter:brightness(0) saturate(100%) invert(17%) sepia(0%) saturate(1392%) hue-rotate(67deg) brightness(98%) contrast(97%)}.stop-icon{filter:brightness(0) saturate(100%) invert(29%) sepia(90%) saturate(1228%) hue-rotate(198deg) brightness(93%) contrast(98%)}.audio-placeholder-text-3-digits{padding-inline-start:.26rem}.audio-placeholder-text-4-digits{padding-inline-start:.1rem}.any-file-attachment{padding:2px 0}.file-attachment-text-container{position:absolute;width:inherit;display:flex;align-items:center;height:100%;top:-1px}.audio-placeholder-text-3-digits-container{padding-top:1px;cursor:default}.any-file-attachment-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-inline-start:.13em;margin-inline:auto}.remove-file-attachment-button{height:1.25em;width:1.25em;border:1px solid #cfcfcf;border-radius:25px;background-color:#fff;top:-4px;inset-inline-end:-5px;position:absolute;display:flex;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none}.remove-file-attachment-button:hover{background-color:#e4e4e4}.remove-file-attachment-button:active{background-color:#d7d7d7}.x-icon{color:#4e4e4e;top:-.075em;position:relative;font-size:1.05em}.modal{display:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:80%;max-width:420px;max-height:80%;margin:auto;top:0;right:0;bottom:0;left:0;z-index:3}.modal-content{border-top:1px solid rgb(217,217,217);border-inline:1px solid rgb(217,217,217);border-start-start-radius:inherit;border-start-end-radius:inherit;background-color:#fff;overflow-y:auto;height:fit-content;max-height:calc(100% - 3.3em);width:100%}.modal-content>p{margin-inline:1em}.modal-content>ul{margin-inline-end:1em}.modal-button-panel{height:3.3em;border:1px solid;border-color:rgb(223,223,223) rgb(217,217,217) rgb(217,217,217);border-end-start-radius:inherit;border-end-end-radius:inherit;background-color:#fff;text-align:center;justify-content:center;display:flex;width:100%}.modal-button{min-width:2.5em;text-align:center;color:#fff;border-radius:5px;padding:.4em .4em .3em;height:1.25em;background-color:#3279b2;inset-block:0;margin-top:auto;margin-bottom:auto;cursor:pointer;-webkit-user-select:none;user-select:none;margin-inline:.31em}.modal-button:hover{background-color:#276da7}.modal-button:active{background-color:#1b5687}.modal-svg-button{padding:0 0 2px;width:2em;height:1.8em}.modal-svg-button-icon{width:100%;height:100%;filter:brightness(0) saturate(100%) invert(100%) sepia(15%) saturate(4%) hue-rotate(346deg) brightness(101%) contrast(102%)}#modal-background-panel{position:absolute;width:100%;height:100%;background-color:#00000042;z-index:2;display:none}.show-modal-background{animation:fadeInBackground .3s ease-in-out}@keyframes fadeInBackground{0%{opacity:0}to{opacity:1}}.show-modal{animation:fadeInModal .3s ease-in-out}@keyframes fadeInModal{0%{opacity:0;scale:.95}to{opacity:1;scale:1}}.hide-modal-background{animation:fadeOutBackground .2s ease-in-out}@keyframes fadeOutBackground{0%{opacity:1}to{opacity:0}}.hide-modal{animation:fadeOutModal .2s ease-in-out}@keyframes fadeOutModal{0%{opacity:1;scale:1}to{opacity:0;scale:.95}}.modal-camera-content{overflow:hidden;text-align:center;border:unset;height:100%;background-color:#2a2a2a;display:flex;justify-content:center}.camera-modal-canvas{max-width:100%;max-height:100%;margin-top:auto;margin-bottom:auto}.modal-svg-submit-button{background-color:green}.modal-svg-submit-button:hover{background-color:#007500}.modal-svg-submit-button:active{background-color:#006500}.modal-svg-submit-disabled{pointer-events:none;background-color:#747474}.modal-svg-close-button{height:1.56em;padding-top:.37em;padding-bottom:0;background-color:#c13e3e}.modal-svg-close-button:hover{background-color:#b43434}.modal-svg-close-button:active{background-color:#972929}.modal-svg-close-icon{width:80%;height:80%}.modal-svg-camera-button{height:1.6em;padding-top:.38em;padding-bottom:0}.modal-svg-camera-icon{height:76%}.modal-svg-refresh-icon{height:105%}.modal-svg-refresh-button{height:1.66em;padding-top:.11em;padding-bottom:.21em}.input-button-container{position:relative;z-index:1}.inside-end{position:absolute;inset-inline-end:calc(10% + .35em);inset-block-end:.85em}.inside-start{position:absolute;inset-inline-start:calc(10% + .35em);inset-block-end:.85em}.outside-start{position:absolute;inset-inline-end:calc(11px - .55em);inset-block-end:.88em}.outside-end{position:absolute;inset-inline-start:calc(11px - .55em);inset-block-end:.88em}#upload-images-icon{position:absolute;pointer-events:none;width:1.45em;height:1.45em;inset-inline-start:.11em;inset-block-end:.08em;filter:brightness(0) saturate(100%) invert(43%) sepia(0%) saturate(740%) hue-rotate(77deg) brightness(99%) contrast(92%)}#upload-gifs-icon{position:absolute;pointer-events:none;width:1.5em;height:1.48em;inset-inline-start:.07em;inset-block-end:.08em;filter:brightness(0) saturate(100%) invert(49%) sepia(0%) saturate(2586%) hue-rotate(12deg) brightness(93%) contrast(90%)}#upload-audio-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;inset-inline-start:.17em;inset-block-end:.2em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%);transform:scaleX(.95)}#camera-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;inset-inline-start:.23em;inset-block-end:.2em;filter:brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(161%) hue-rotate(164deg) brightness(91%) contrast(92%);transform:scaleX(.95)}#upload-mixed-files-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;inset-inline-start:.25em;inset-block-end:.2em;filter:brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(36%) hue-rotate(74deg) brightness(98%) contrast(93%);transform:scaleX(.95)}#interim-text{color:gray}#microphone-button{padding-top:.5px}.outer-button-container>#microphone-button{padding-bottom:1px}#microphone-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;inset-inline-start:.25em;inset-block-end:.25em}.default-microphone-icon{filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%)}.active-microphone-icon{filter:brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%);border-radius:10px}.command-microphone-icon{filter:brightness(0) saturate(100%) invert(42%) sepia(96%) saturate(1067%) hue-rotate(77deg) brightness(99%) contrast(102%)}.unsupported-microphone{display:none}#submit-icon{height:100%;filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%);width:1.21em}#stop-icon{background-color:#acacac;position:absolute;width:.95em;height:.95em;inset-inline-start:.35em;inset-block-end:.35em;border-radius:2px}.submit-button-enlarged{scale:1.1;margin-inline:.3em}.loading-submit-button{position:relative;inset-inline-start:calc(-9990px + .275em);width:.22em;height:.22em;border-radius:5px;background-color:#848484;color:#848484;box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484;animation:loading-submit-button 1.5s infinite linear;inset-block-end:-.75em}@keyframes loading-submit-button{0%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}16.667%{box-shadow:9990px -6px #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}33.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}50%{box-shadow:9990px 0 #848484,calc(9990px + .44em) -6px 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}66.667%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}83.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) -6px 0 0 #848484}to{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}}.tooltip{position:absolute;visibility:hidden;z-index:1;pointer-events:none;padding:5px;padding-inline:7px;background-color:#333;border-radius:5px;width:max-content}.tooltip-text{color:#fff;font-size:13px}.input-button{border-radius:4px;cursor:pointer;margin-bottom:.2em;-webkit-user-select:none;user-select:none}.input-button-svg{width:1.65em;height:1.65em}.input-button-svg-text{padding:1px;height:1.65em;display:flex}.input-button-svg-text>svg{padding:.22rem}.input-button-svg-text>div{margin-inline-start:2px}.input-button:hover,.input-button:focus-visible{background-color:#9c9c9c2e}.input-button:active{background-color:#9c9c9c5e}.input-button:active:not(:hover){background-color:transparent}.loading-button{cursor:auto}.loading-button:hover{background-color:unset}.text-button{filter:unset!important;display:flex;justify-content:center;align-items:center;margin-inline:4px;height:1.6em;width:max-content}#custom-icon{height:100%;width:1.2em}.custom-button-container-default{color:#505050}.custom-button-container-default>.dropup-menu-item-icon{color:unset}.custom-button-container-default>svg{filter:brightness(0) saturate(100%) invert(39%) sepia(1%) saturate(0%) hue-rotate(83deg) brightness(93%) contrast(90%)}.custom-button-container-default>.dropup-menu-item-icon>svg{position:absolute;inset-inline-start:.2em}.custom-button-container-active{background-color:#edf7ff;color:#0285ff}.custom-button-container-active:hover,.custom-button-container-active:focus-visible{background-color:#def0ff}.custom-button-container-active:active{background-color:#d2eaff}.custom-button-container-active>svg{filter:brightness(0) saturate(100%) invert(32%) sepia(34%) saturate(4196%) hue-rotate(196deg) brightness(107%) contrast(104%)}.custom-button-container-disabled{color:#aeaeae;cursor:auto}.custom-button-container-disabled>div{pointer-events:none}.custom-button-container-disabled:hover,.custom-button-container-disabled:focus-visible{background-color:transparent}.custom-button-container-disabled:active{background-color:transparent}.custom-button-container-disabled>svg{filter:brightness(0) saturate(100%) invert(67%) sepia(0%) saturate(818%) hue-rotate(28deg) brightness(102%) contrast(100%)}#text-input-container{background-color:#fff;width:80%;display:flex;border:1px solid #0000001a;border-radius:5px;margin-top:.8em;margin-bottom:.8em;box-shadow:#959da533 0 1px 12px;overflow-y:auto;max-height:200px;position:relative}.text-input-container-start-adjustment{margin-inline-start:1.5em}.text-input-container-end-adjustment{margin-inline-end:1.5em}.text-input-container-start-small-adjustment{margin-inline-start:1.1em}.text-input-container-start-small-adjustment>.outside-start{inset-inline-end:calc(14px - .55em)}.text-input-container-end-small-adjustment{margin-inline-end:1.1em}.text-input-container-end-small-adjustment>.outside-end{inset-inline-start:calc(14px - .55em)}#text-input{text-align:start;outline:none;word-wrap:break-word;line-break:auto}.text-input-styling{padding:.4em .5em;overflow:overlay;width:100%}.text-input-inner-start-adjustment{padding-inline-start:2.2em}.text-input-inner-end-adjustment{padding-inline-end:2em}.text-input-disabled{pointer-events:none;-webkit-user-select:none;user-select:none}[contenteditable]:empty:before{content:attr(deep-chat-placeholder-text);pointer-events:none}[contenteditable][textcolor]:empty:before{color:gray}.outside-end>#dropup-menu,.inside-end>#dropup-menu{inset-inline-end:0px}#dropup-icon{position:absolute;pointer-events:none;width:1.16em;height:1.2em;inset-inline-start:.265em;bottom:.43em;filter:brightness(0) saturate(100%) invert(54%) sepia(0%) saturate(724%) hue-rotate(6deg) brightness(92%) contrast(90%)}.dropup-button>*{pointer-events:none}#dropup-menu{background-color:#fff;position:absolute;transform:translateY(-100%);border-radius:5px;z-index:1;top:-.49em;box-shadow:#0003 -1px 2px 10px,#0000001a 0 2px 4px;cursor:pointer;-webkit-user-select:none;user-select:none}.dropup-menu-item{height:1.4em;padding-inline-start:.35em;padding-inline-end:.84em;padding-top:.28em;padding-bottom:.28em;display:flex;position:relative}.dropup-menu-item:hover,.dropup-menu-item:focus-visible{background-color:#f3f3f3}.dropup-menu-item:active{background-color:#ebebeb}.dropup-menu-item:active:not(:hover){background-color:transparent}.dropup-menu-item:first-child{padding-top:.49em;border-start-start-radius:inherit;border-start-end-radius:inherit}.dropup-menu-item:last-child{padding-bottom:.45em;border-end-start-radius:inherit;border-end-end-radius:inherit}.dropup-menu-item-icon{width:1.39em;position:relative}.dropup-menu-item-icon>svg{bottom:0!important;top:0!important;margin-bottom:auto;margin-top:auto}#dropup-menu-item-icon-element-custom{position:absolute;pointer-events:none;width:1.21em;height:1.21em;inset-inline-start:.28em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%)}.dropup-menu-item-text{margin-inline-start:.56em;margin-top:.08em;width:max-content}#input{width:100%;display:inline-flex;text-align:center;margin-inline:auto;margin-top:auto;position:relative;justify-content:center}#chat-view{height:100%;grid-template-columns:100%}.deep-chat-downwards-mode{display:grid}.deep-chat-upwards-mode{display:flex;flex-direction:column}::-webkit-scrollbar{width:9px;height:9px}::-webkit-scrollbar-thumb{background-color:#d0d0d0;border-radius:5px}::-webkit-scrollbar-track{background-color:#f2f2f2}.deep-chat-web-model-button{margin-top:10px;margin-bottom:5px;margin-inline-start:1px}:host{all:initial;display:table-cell}#container{height:inherit;width:inherit;overflow:hidden}`,c6=Object.defineProperty,Oe=function(l,t,e,n){for(var r=void 0,o=l.length-1,u;o>=0;o--)(u=l[o])&&(r=u(t,e,r)||r);return r&&c6(t,e,r),r},Ae=(function(i){function l(){var t;z(this,l);var e;return t=ce(this,l),t.getMessages=function(){return[]},t.submitUserMessage=function(){return console.warn(Ry("submitUserMessage"))},t.addMessage=function(){return console.warn(Ry("addMessage"))},t.updateMessage=function(){},t.clearMessages=function(){},t.focusInput=function(){return lo.focusFromParentElement(t._elementRef)},t.refreshMessages=function(){},t.scrollToBottom=function(){},t.disableSubmitButton=function(){},t.setPlaceholderText=function(){},t._hasBeenRendered=!1,t._auxiliaryStyleApplied=!1,t._elementRef=se(),t._elementRef.id="container",t.attachShadow({mode:"open"}).appendChild(t._elementRef),(e=t.shadowRoot)==null||e.appendChild(Xa.buildElement()),yh.apply(u6,t.shadowRoot),setTimeout(function(){t._hasBeenRendered||t.onRender()},20),t}return fe(l,i),P(l,[{key:"changeToChatView",value:function(){this._activeService&&(this._activeService.validateKeyProperty=!1),this.onRender()}},{key:"onRender",value:function(){var e;bb.attemptAppendStyleSheetToHead(this.style),Ct.processConnect(this),(!this._activeService||this._activeService.demo)&&(this._activeService=dM.create(this)),this.auxiliaryStyle&&!this._auxiliaryStyleApplied&&(yh.apply(this.auxiliaryStyle,this.shadowRoot),this._auxiliaryStyleApplied=!0),yh.applyDefaultStyleToComponent(this.style,this.chatStyle),Ct.checkForContainerStyles(this,this._elementRef),this._activeService.key&&this._activeService.validateKeyProperty?Yw.render(this._elementRef,this.changeToChatView.bind(this),this._activeService):!(this._activeService instanceof we)||this._activeService.key?((e=this._childElement)!==null&&e!==void 0||(this._childElement=this.children[0]),o6.render(this,this._elementRef,this._activeService,this._childElement)):this._activeService instanceof we&&fA.render(this._elementRef,this.changeToChatView.bind(this),this._activeService),this._hasBeenRendered||fr.onRender(this),this._hasBeenRendered=!0}},{key:"disconnectedCallback",value:function(){wm.chat=void 0}}])})(lA);Oe([Re("object")],Ae.prototype,"connect");Oe([Re("object")],Ae.prototype,"directConnection");Oe([Re("object")],Ae.prototype,"webModel");Oe([Re("object")],Ae.prototype,"requestBodyLimits");Oe([Re("function")],Ae.prototype,"requestInterceptor");Oe([Re("function")],Ae.prototype,"responseInterceptor");Oe([Re("function")],Ae.prototype,"validateInput");Oe([Re("function")],Ae.prototype,"loadHistory");Oe([Re("object")],Ae.prototype,"chatStyle");Oe([Re("object")],Ae.prototype,"attachmentContainerStyle");Oe([Re("object")],Ae.prototype,"dropupStyles");Oe([Re("object")],Ae.prototype,"inputAreaStyle");Oe([Re("object")],Ae.prototype,"textInput");Oe([Re("object")],Ae.prototype,"defaultInput");Oe([Re("object")],Ae.prototype,"submitButtonStyles");Oe([Re("object")],Ae.prototype,"customButtons");Oe([Re("string")],Ae.prototype,"auxiliaryStyle");Oe([Re("array")],Ae.prototype,"history");Oe([Re("object")],Ae.prototype,"browserStorage");Oe([Re("object")],Ae.prototype,"introMessage");Oe([Re("object")],Ae.prototype,"avatars");Oe([Re("object")],Ae.prototype,"names");Oe([Re("object")],Ae.prototype,"displayLoadingBubble");Oe([Re("object")],Ae.prototype,"errorMessages");Oe([Re("object")],Ae.prototype,"messageStyles");Oe([Re("object")],Ae.prototype,"textToSpeech");Oe([Re("object")],Ae.prototype,"speechToText");Oe([Re("object")],Ae.prototype,"images");Oe([Re("object")],Ae.prototype,"gifs");Oe([Re("object")],Ae.prototype,"camera");Oe([Re("object")],Ae.prototype,"audio");Oe([Re("object")],Ae.prototype,"microphone");Oe([Re("object")],Ae.prototype,"mixedFiles");Oe([Re("object")],Ae.prototype,"dragAndDrop");Oe([Re("object")],Ae.prototype,"htmlWrappers");Oe([Re("object")],Ae.prototype,"htmlClassUtilities");Oe([Re("object")],Ae.prototype,"remarkable");Oe([Re("object")],Ae.prototype,"focusMode");Oe([Re("boolean")],Ae.prototype,"upwardsMode");Oe([Re("object")],Ae.prototype,"scrollButton");Oe([Re("object")],Ae.prototype,"hiddenMessages");Oe([Re("number")],Ae.prototype,"maxVisibleMessages");Oe([Re("function")],Ae.prototype,"onMessage");Oe([Re("function")],Ae.prototype,"onClearMessages");Oe([Re("function")],Ae.prototype,"onComponentRender");Oe([Re("function")],Ae.prototype,"onInput");Oe([Re("function")],Ae.prototype,"onError");Oe([Re("object")],Ae.prototype,"demo");Oe([Re("object")],Ae.prototype,"_insertKeyViewStyles");customElements.define("deep-chat",Ae);const f6=new Set(["children","localName","ref","style","className"]),M1=new WeakMap,R1=(i,l,t,e,n)=>{const r=n?.[l];r===void 0?(i[l]=t,t==null&&l in HTMLElement.prototype&&i.removeAttribute(l)):t!==e&&((o,u,f)=>{let h=M1.get(o);h===void 0&&M1.set(o,h=new Map);let p=h.get(u);f!==void 0?p===void 0?(h.set(u,p={handleEvent:f}),o.addEventListener(u,p)):p.handleEvent=f:p!==void 0&&(h.delete(u),o.removeEventListener(u,p))})(i,r,t)},d6=({react:i,tagName:l,elementClass:t,events:e,displayName:n})=>{const r=new Set(Object.keys(e??{})),o=i.forwardRef(((u,f)=>{const h=i.useRef(new Map),p=i.useRef(null),g={},y={};for(const[b,E]of Object.entries(u))f6.has(b)?g[b==="className"?"class":b]=E:r.has(b)||b in t.prototype?y[b]=E:g[b]=E;return i.useLayoutEffect((()=>{if(p.current===null)return;const b=new Map;for(const E in y)R1(p.current,E,u[E],h.current.get(E),e),h.current.delete(E),b.set(E,u[E]);for(const[E,S]of h.current)R1(p.current,E,void 0,S,e);h.current=b})),i.useLayoutEffect((()=>{p.current?.removeAttribute("defer-hydration")}),[]),g.suppressHydrationWarning=!0,i.createElement(l,{...g,ref:i.useCallback((b=>{p.current=b,typeof f=="function"?f(b):f!==null&&(f.current=b)}),[f])})}));return o.displayName=n??t.name,o},h6=d6({tagName:"deep-chat",elementClass:Ae,react:Ch,events:{onactivate:"activate",onchange:"change"}});function m6(){const i=dE.c(7);let l;i[0]===Symbol.for("react.memo_cache_sentinel")?(l={minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"25px",backgroundImage:"linear-gradient(to left bottom, #2e0537, #39326a, #355e9c, #218cc8, #12bceb)"},i[0]=l):l=i[0];let t;i[1]===Symbol.for("react.memo_cache_sentinel")?(t=Ei.jsx(Ow,{variant:"h4",sx:{color:"#ffffff",fontWeight:600,textShadow:"0 2px 6px rgba(0,0,0,0.5)"},children:"IA CHAT"}),i[1]=t):t=i[1];let e;i[2]===Symbol.for("react.memo_cache_sentinel")?(e={width:"400px",height:"500px",display:"flex",flexDirection:"column"},i[2]=e):e=i[2];let n,r,o;i[3]===Symbol.for("react.memo_cache_sentinel")?(n={url:"http://localhost:5000/chat",method:"POST"},r={width:"100%",height:"100%",borderRadius:"14px",background:"rgba(30, 30, 30, 0.6)",padding:"25px 15px 8px 15px"},o={container:{width:"90%"}},i[3]=n,i[4]=r,i[5]=o):(n=i[3],r=i[4],o=i[5]);let u;return i[6]===Symbol.for("react.memo_cache_sentinel")?(u=Ei.jsxs(Sy,{sx:l,children:[t,Ei.jsx(Sy,{sx:e,children:Ei.jsx(h6,{connect:n,style:r,textInput:{styles:o,placeholder:{text:"Escribe algo...",style:{color:"#555454ff"}}}})})]}),i[6]=u):u=i[6],u}uE.createRoot(document.getElementById("root")).render(Ei.jsx(Xt.StrictMode,{children:Ei.jsx(m6,{})}));
